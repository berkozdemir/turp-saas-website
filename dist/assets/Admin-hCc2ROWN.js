import{j as e}from"./vendor-radix-Do91ay3T.js";import{r as s}from"./vendor-react-DgOfpg1f.js";import{c as G,d as V,e as ne,h as it,i as ge,L as K,b as ot,u as ae,j as Se,k as ye,X as ie,l as ue,F as De,S as le,m as ve,n as xe,_ as kt,o as he,A as re,C as me,p as fe,G as ee,q as ct,r as Oe,s as Me,U as Pe,v as Ke,w as wt,x as Ge,y as dt,P as Ie,B as je,z as St,I as He,D as Ye,T as Je,H as xt,J as de,K as $e,N as zt,O as Ct,Q as mt,R as At,V as Tt,W as Bt,Y as qe,E as Pt}from"./index-D8KYt2jw.js";import{u as Ve,o as ut,b as $t,s as Le}from"./vendor-forms-Bi3Tom9J.js";import{a as We}from"./zod-wNrc6D1n.js";import{u as Lt}from"./vendor-i18n-DmRj_g1M.js";import{E as te}from"./eye-B-hbEa3M.js";import{B as Et}from"./bar-chart-3-CXMudmEd.js";import{I as ze}from"./image-CJgRPkZK.js";import{F as Xe}from"./facebook-CmS2Y6_k.js";import"./vendor-utils-BznqKjY6.js";import"./vendor-markdown-CjP5FAny.js";const Dt=G("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const Ze=G("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);const Re=G("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Ot=G("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Mt=G("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]);const Ne=G("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const ht=G("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const pt=G("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);const It=G("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);const Fe=G("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);const Rt=G("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const Ft=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const bt=G("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const Ut=G("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const _e=G("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);const Kt=G("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);const Ce=G("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const X=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const gt=G("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Z=G("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Gt=G("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const Ht=G("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const ft=G("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);const W=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Yt=G("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);const Jt=G("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);const jt=G("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Qe=G("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const qt=G("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);const Vt=G("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Ee={logo:{light:null,dark:null},favicon:null,loginHeroImage:null,colors:{primary:"#6366f1",secondary:"#8b5cf6",accent:"#10b981",background:"#ffffff",textPrimary:"#1f2937",textMuted:"#6b7280"},typography:{fontBase:"Inter",fontHeading:"Inter",borderRadius:"0.5rem"},social:{}},yt=s.createContext({branding:Ee,loading:!0,error:null}),Ue=()=>s.useContext(yt),Wt=({children:a})=>{const[o,t]=s.useState(Ee),[i,N]=s.useState(!0),[u,y]=s.useState(null);return s.useEffect(()=>{(async()=>{try{const C=await(await fetch("/api/index.php?action=get_public_branding")).json();C.success&&C.data&&(t({...Ee,...C.data}),Xt(C.data))}catch(S){console.error("Failed to load branding:",S),y("Failed to load branding")}finally{N(!1)}})()},[]),e.jsx(yt.Provider,{value:{branding:o,loading:i,error:u},children:a})};function Xt(a){const o=document.documentElement;if(a.colors&&(o.style.setProperty("--color-primary",a.colors.primary),o.style.setProperty("--color-secondary",a.colors.secondary),o.style.setProperty("--color-accent",a.colors.accent),o.style.setProperty("--color-background",a.colors.background),o.style.setProperty("--color-text-primary",a.colors.textPrimary),o.style.setProperty("--color-text-muted",a.colors.textMuted)),a.typography&&(o.style.setProperty("--font-base",a.typography.fontBase),o.style.setProperty("--font-heading",a.typography.fontHeading),o.style.setProperty("--border-radius",a.typography.borderRadius)),a.favicon){let t=document.querySelector("link[rel~='icon']");t||(t=document.createElement("link"),t.rel="icon",document.head.appendChild(t)),t.href=a.favicon}}const Zt=({features:a=[],tagline:o="YÃ¶netim Paneline HoÅŸ Geldiniz"})=>{const{branding:t}=Ue(),i=["GÃ¼venli EriÅŸim","Ä°Ã§erik YÃ¶netimi","Veri Analizi"],N=a.length>0?a:i,u=s.useMemo(()=>t.loginHeroImage?{backgroundImage:`url(${t.loginHeroImage})`,backgroundSize:"cover",backgroundPosition:"center"}:{background:`linear-gradient(135deg, ${t.colors.primary}cc 0%, ${t.colors.secondary}cc 100%)`},[t.loginHeroImage,t.colors.primary,t.colors.secondary]);return e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative text-white flex-col justify-between p-12",style:u,children:[t.loginHeroImage&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 to-black/40"}),e.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full",children:[t.logo.light&&e.jsx("div",{className:"mb-8",children:e.jsx("img",{src:t.logo.light,alt:"Logo",className:"h-10 w-auto object-contain filter brightness-0 invert"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold leading-tight mb-4",children:o}),e.jsx("p",{className:"text-white/90 text-lg leading-relaxed",children:"Klinik Ã§alÄ±ÅŸma ve veri yÃ¶netimi platformuna hoÅŸ geldiniz. Site yÃ¶netimi, kullanÄ±cÄ± kontrolÃ¼ ve iÃ§erik dÃ¼zenleme araÃ§larÄ±na buradan eriÅŸebilirsiniz."})]}),N.length>0&&e.jsx("div",{className:"space-y-3 mt-8 pt-6 border-t border-white/20",children:N.map((y,v)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(V,{size:20,className:"text-white/80 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-base font-medium text-white/90",children:y})]},v))})]}),e.jsx("div",{className:"text-white/60 text-sm border-t border-white/20 pt-6",children:"Â© 2026 Turp. TÃ¼m haklarÄ± saklÄ±dÄ±r."})]})]})},Qt=ut({email:Le().email("GeÃ§erli bir e-posta adresi girin"),password:Le().min(6,"Åifre en az 6 karakter olmalÄ±dÄ±r"),rememberMe:$t().optional()}),es=ut({email:Le().email("GeÃ§erli bir e-posta adresi girin")}),ts=({onSuccess:a,onError:o,isAdmin:t=!1})=>{const{branding:i}=Ue(),{i18n:N}=Lt(),[u,y]=s.useState("login"),[v,S]=s.useState(!1),[f,C]=s.useState(!1),[_,l]=s.useState(""),[r,n]=s.useState(""),h="/api",T=t?"/admin_auth.php":"/index.php",{register:g,handleSubmit:m,formState:{errors:B},reset:p}=Ve({resolver:We(Qt)}),{register:b,handleSubmit:k,formState:{errors:$},reset:L}=Ve({resolver:We(es)}),x=async E=>{l(""),C(!0);try{const w=await(await fetch(`${h}${T}?action=login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:E.email,password:E.password,remember_me:E.rememberMe||!1})})).json();if(w.error){const j=w.error||"GiriÅŸ baÅŸarÄ±sÄ±z oldu";l(j),o?.(j)}else w.success&&(localStorage.setItem("admin_token",w.token),localStorage.setItem("admin_user",JSON.stringify(w.user)),p(),a?.(w))}catch{const w="BaÄŸlantÄ± hatasÄ± oluÅŸtu";l(w),o?.(w)}finally{C(!1)}},c=async E=>{l(""),C(!0);try{const w=await(await fetch(`${h}/index.php?action=forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:E.email})})).json();w.message?(n(w.message),y("success"),L()):w.error&&l(w.error)}catch{l("BaÄŸlantÄ± hatasÄ± oluÅŸtu")}finally{C(!1)}},P=()=>{y("login"),l(""),L()};return e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[i.logo.light&&e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("img",{src:i.logo.light,alt:"Logo",className:"h-12 w-auto object-contain"})}),u==="login"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"GiriÅŸ Yap"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"YÃ¶netim paneline eriÅŸmek iÃ§in bilgilerinizi girin"})]}),u==="forgot-password"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Åifremi Unuttum"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"E-posta adresinizi girin, size ÅŸifre sÄ±fÄ±rlama baÄŸlantÄ±sÄ± gÃ¶nderelim"})]}),u==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",style:{backgroundColor:`${i.colors.primary}20`},children:e.jsx(V,{size:32,style:{color:i.colors.primary}})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"E-posta GÃ¶nderildi!"})]})]}),u==="login"&&e.jsxs("form",{onSubmit:m(x),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"E-posta Adresi"}),e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),e.jsx("input",{type:"email",placeholder:"admin@turp.health",className:"w-full pl-11 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:border-slate-300 focus:ring-2 transition-all outline-none",style:{"--tw-ring-color":`${i.colors.primary}40`,"--focus-border":i.colors.primary},autoComplete:"username",...g("email"),disabled:f})]}),B.email&&e.jsx("p",{className:"text-sm text-red-600",children:B.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Åifre"}),e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),e.jsx("input",{type:v?"text":"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"w-full pl-11 pr-12 py-3 border-2 border-slate-200 rounded-xl focus:border-slate-300 focus:ring-2 transition-all outline-none",style:{"--tw-ring-color":`${i.colors.primary}40`},autoComplete:"current-password",...g("password"),disabled:f}),e.jsx("button",{type:"button",onClick:()=>S(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:v?e.jsx(ge,{size:20}):e.jsx(te,{size:20})})]}),B.password&&e.jsx("p",{className:"text-sm text-red-600",children:B.password.message})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 transition-all",style:{accentColor:i.colors.primary},...g("rememberMe")}),e.jsx("span",{className:"text-sm text-slate-700",children:"Beni hatÄ±rla"})]}),e.jsx("button",{type:"button",onClick:()=>{y("forgot-password"),l("")},className:"text-sm font-medium transition-colors",style:{color:i.colors.primary},children:"Åifremi unuttum"})]}),_&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:_}),e.jsx("button",{type:"submit",disabled:f,className:"w-full text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:i.colors.primary,opacity:f?.7:1},children:f?e.jsxs(e.Fragment,{children:[e.jsx(K,{size:20,className:"animate-spin"}),"GiriÅŸ yapÄ±lÄ±yor..."]}):e.jsxs(e.Fragment,{children:["GiriÅŸ Yap",e.jsx(ot,{size:20})]})})]}),u==="forgot-password"&&e.jsxs("form",{onSubmit:k(c),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"E-posta Adresi"}),e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),e.jsx("input",{type:"email",placeholder:"admin@turp.health",className:"w-full pl-11 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:border-slate-300 focus:ring-2 transition-all outline-none",...b("email"),disabled:f})]}),$.email&&e.jsx("p",{className:"text-sm text-red-600",children:$.email.message})]}),_&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:_}),e.jsx("button",{type:"submit",disabled:f,className:"w-full text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all disabled:opacity-50",style:{backgroundColor:i.colors.primary},children:f?"GÃ¶nderiliyor...":"Åifre SÄ±fÄ±rlama Linki GÃ¶nder"}),e.jsx("button",{type:"button",onClick:P,className:"w-full font-medium py-2 transition-colors",style:{color:i.colors.primary},children:"â† GiriÅŸ ekranÄ±na dÃ¶n"})]}),u==="success"&&e.jsxs("div",{className:"text-center py-4 space-y-6",children:[e.jsx("p",{className:"text-slate-600",children:r}),e.jsx("button",{onClick:P,className:"font-medium transition-colors",style:{color:i.colors.primary},children:"â† GiriÅŸ ekranÄ±na dÃ¶n"})]}),e.jsx("div",{className:"mt-8 p-4 bg-slate-50 rounded-lg border border-slate-200",children:e.jsx("p",{className:"text-xs text-slate-600 text-center",children:"ğŸ”’ Bu panel yalnÄ±zca yetkili kullanÄ±cÄ±lar iÃ§indir. TÃ¼m giriÅŸ denemeleri kaydedilmektedir."})})]})},ss=({onLogin:a})=>{console.log("[DEBUG] Login Component Mounting");const{branding:o,loading:t}=Ue(),i=u=>{a&&a(u)},N=u=>{console.error("Login error:",u)};return t?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx(K,{className:"h-12 w-12 animate-spin mx-auto mb-4",style:{color:o.colors.primary}}),e.jsx("p",{className:"text-slate-600",children:"YÃ¼kleniyor..."})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:o.colors.background},children:e.jsx("div",{className:"w-full max-w-6xl bg-white rounded-2xl shadow-2xl overflow-hidden",children:e.jsxs("div",{className:"grid md:grid-cols-2",children:[e.jsx(Zt,{}),e.jsx("div",{className:"flex items-center justify-center p-8 md:p-12",children:e.jsx(ts,{onSuccess:i,onError:N,isAdmin:!0})})]})})})},vt=s.createContext(void 0),be="admin_current_tenant",Ae="admin_available_tenants",et=(a,o)=>{localStorage.getItem("DEBUG_TENANT")==="true"&&console.log(`[TenantContext] ${a}`,o||"")},Nt=({children:a})=>{const[o,t]=s.useState(()=>{const f=localStorage.getItem(be);return f?JSON.parse(f):null}),[i,N]=s.useState(()=>{const f=localStorage.getItem(Ae);return f?JSON.parse(f):[]}),u=s.useCallback(f=>{et("setCurrentTenant called",{tenant:f,previousTenant:o}),t(f),localStorage.setItem(be,JSON.stringify(f)),et("localStorage updated",{key:be,value:f})},[o]),y=s.useCallback(f=>{N(f),localStorage.setItem(Ae,JSON.stringify(f))},[]),v=s.useCallback(f=>{const C=i.find(_=>_.code===f);C&&u(C)},[i,u]),S=s.useCallback(()=>{t(null),N([]),localStorage.removeItem(be),localStorage.removeItem(Ae)},[]);return e.jsx(vt.Provider,{value:{currentTenant:o,availableTenants:i,setCurrentTenant:u,setAvailableTenants:y,switchTenant:v,clearTenantContext:S},children:a})},ke=()=>{const a=s.useContext(vt);if(a===void 0)throw new Error("useTenant must be used within a TenantProvider");return a},D=()=>{const a=localStorage.getItem(be);if(a){const o=JSON.parse(a);return{"X-Tenant-Id":String(o.id||""),"X-Tenant-Code":o.code||""}}return{}},as=Object.freeze(Object.defineProperty({__proto__:null,TenantProvider:Nt,getTenantHeader:D,useTenant:ke},Symbol.toStringTag,{value:"Module"})),tt=({token:a})=>{const[o,t]=s.useState([]),[i,N]=s.useState(!0),u=ae(),[y,v]=s.useState("all"),[S,f]=s.useState(1),[C,_]=s.useState(1),[l,r]=s.useState(null),[n,h]=s.useState(!1),T="/api",g=T.endsWith("/index.php")?T:`${T}/index.php`,m=async()=>{N(!0);try{const b=await(await fetch(`${g}?action=get_messages&status=${y}&page=${S}`,{headers:{Authorization:`Bearer ${a}`,...D()}})).json();b.success?(t(b.data),_(b.pagination.pages)):u.error("Mesajlar yÃ¼klenirken hata oluÅŸtu: "+(b.error||"Bilinmeyen hata"))}catch(p){console.error(p),u.error("Mesajlar alÄ±namadÄ±: "+(p.message||"BaÄŸlantÄ± hatasÄ±"))}finally{N(!1)}};s.useEffect(()=>{m()},[y,S]);const B=async(p,b)=>{h(!0);try{(await(await fetch(`${g}?action=update_message_status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify({id:p,status:b})})).json()).success?(t(o.map(L=>L.id===p?{...L,status:b}:L)),l?.id===p&&r({...l,status:b}),u.success(b==="read"?"Mesaj okundu olarak iÅŸaretlendi":b==="archived"?"Mesaj arÅŸivlendi":"Durum gÃ¼ncellendi")):u.error("GÃ¼ncelleme hatasÄ±")}catch{u.error("BaÄŸlantÄ± hatasÄ±")}finally{h(!1)}};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(ne,{className:"text-cyan-600"})," Mesaj Kutusu"]}),e.jsx("div",{className:"flex items-center gap-2 bg-slate-50 p-1 rounded-lg border border-slate-200",children:["all","new","read","archived"].map(p=>e.jsx("button",{onClick:()=>{v(p),f(1)},className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${y===p?"bg-white text-cyan-700 shadow-sm border border-slate-100":"text-slate-500 hover:text-slate-700"}`,children:p==="all"?"TÃ¼mÃ¼":p==="new"?"Yeni":p==="read"?"OkunmuÅŸ":"ArÅŸiv"},p))})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 border-b",children:"Durum"}),e.jsx("th",{className:"p-4 border-b",children:"GÃ¶nderen"}),e.jsx("th",{className:"p-4 border-b",children:"Konu"}),e.jsx("th",{className:"p-4 border-b",children:"Tarih"}),e.jsx("th",{className:"p-4 border-b text-right",children:"Ä°ÅŸlem"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:e.jsx(K,{className:"animate-spin mx-auto w-8 h-8 opacity-50"})})}):o.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"Mesaj bulunamadÄ±."})}):o.map(p=>e.jsxs("tr",{className:`hover:bg-slate-50 transition-colors cursor-pointer ${p.status==="new"?"bg-cyan-50/30":""}`,onClick:()=>r(p),children:[e.jsxs("td",{className:"p-4",children:[e.jsx("span",{className:`inline-block w-2.5 h-2.5 rounded-full ${p.status==="new"?"bg-green-500":p.status==="read"?"bg-slate-300":"bg-orange-300"}`}),e.jsx("span",{className:"ml-2 text-xs font-medium text-slate-500 uppercase",children:p.status})]}),e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-semibold text-slate-900",children:p.full_name}),e.jsx("div",{className:"text-xs text-slate-500",children:p.email})]}),e.jsx("td",{className:"p-4 text-slate-700 font-medium",children:p.subject}),e.jsx("td",{className:"p-4 text-slate-500 text-sm",children:new Date(p.created_at).toLocaleDateString("tr-TR")}),e.jsx("td",{className:"p-4 text-right",children:e.jsx("button",{className:"p-2 text-slate-400 hover:text-cyan-600 transition-colors",onClick:b=>{b.stopPropagation(),r(p)},children:e.jsx(te,{size:18})})})]},p.id))})]})}),C>1&&e.jsxs("div",{className:"p-4 border-t border-slate-100 flex justify-center gap-2",children:[e.jsx("button",{disabled:S===1,onClick:()=>f(p=>p-1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:e.jsx(Se,{size:16})}),e.jsxs("span",{className:"px-4 py-2 text-sm text-slate-600 font-medium",children:["Sayfa ",S," / ",C]}),e.jsx("button",{disabled:S===C,onClick:()=>f(p=>p+1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:e.jsx(ye,{size:16})})]}),l&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:l.subject}),e.jsx("button",{onClick:()=>r(null),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:e.jsx(ie,{size:20,className:"text-slate-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-400 text-xs uppercase font-bold mb-1",children:"GÃ¶nderen"}),e.jsx("div",{className:"font-medium text-slate-900",children:l.full_name}),e.jsx("div",{className:"text-cyan-600",children:l.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-400 text-xs uppercase font-bold mb-1",children:"Tarih"}),e.jsx("div",{className:"font-medium text-slate-900",children:new Date(l.created_at).toLocaleString("tr-TR")})]}),l.organization&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-slate-400 text-xs uppercase font-bold mb-1",children:"Kurum / Organizasyon"}),e.jsx("div",{className:"font-medium text-slate-900",children:l.organization})]})]}),e.jsx("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100 text-slate-800 leading-relaxed whitespace-pre-wrap",children:l.message_body}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex gap-2",children:[l.status!=="read"&&e.jsxs("button",{onClick:()=>B(l.id,"read"),disabled:n,className:"bg-white border border-green-200 text-green-700 hover:bg-green-50 px-4 py-2 rounded-lg font-medium text-sm flex items-center gap-2",children:[e.jsx(V,{size:16})," Okundu Ä°ÅŸaretle"]}),l.status!=="archived"&&e.jsxs("button",{onClick:()=>B(l.id,"archived"),disabled:n,className:"bg-white border border-orange-200 text-orange-700 hover:bg-orange-50 px-4 py-2 rounded-lg font-medium text-sm flex items-center gap-2",children:[e.jsx(Dt,{size:16})," ArÅŸivle"]})]}),e.jsx("a",{href:`mailto:${l.email}?subject=RE: ${l.subject}`,className:"bg-cyan-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-cyan-700 transition-colors shadow-lg shadow-cyan-200",children:"YanÄ±tla"})]})]})]})})]})},ls=({token:a,onEdit:o,onCreate:t})=>{const[i,N]=s.useState([]),[u,y]=s.useState(!0),v=ae(),S=ue(),[f,C]=s.useState("all"),[_,l]=s.useState(""),[r,n]=s.useState(1),[h,T]=s.useState(1),g="/api",m=g.endsWith("/index.php")?g:`${g}/index.php`,B=async()=>{y(!0);try{const $=await(await fetch(`${m}?action=get_blog_posts_admin&status=${f}&search=${_}&page=${r}`,{headers:{Authorization:`Bearer ${a}`,...D()}})).json();$.success?(N($.data),T($.pagination.pages)):v.error($.error||"Blog yazÄ±larÄ± alÄ±namadÄ±")}catch(k){console.error("Fetch error:",k),v.error("Veri yÃ¼klenemedi: "+(k.message||"BaÄŸlantÄ± hatasÄ±"))}finally{y(!1)}};s.useEffect(()=>{const k=setTimeout(()=>{B()},300);return()=>clearTimeout(k)},[f,_,r]);const p=async k=>{if(await S({title:"Ä°Ã§erik Sil",message:"Bu iÃ§eriÄŸi silmek istediÄŸinize emin misiniz? Bu iÅŸlem geri alÄ±namaz.",confirmLabel:"Sil",cancelLabel:"Ä°ptal",type:"danger"}))try{(await(await fetch(`${m}?action=delete_blog_post`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify({id:k})})).json()).success?(N(i.filter(c=>c.id!==k)),v.success("Ä°Ã§erik baÅŸarÄ±yla silindi")):v.error("Silme hatasÄ±")}catch{v.error("BaÄŸlantÄ± hatasÄ±")}},b=({hasTranslation:k,lang:$})=>e.jsxs("span",{className:`inline-flex items-center gap-0.5 text-xs ${k?"text-green-600":"text-amber-500"}`,children:[$,k?e.jsx(V,{size:10}):e.jsx(xe,{size:10})]});return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 mb-1",children:[e.jsx(De,{className:"text-rose-600"})," Blog Ä°Ã§erikleri"]}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Ã‡ok dilli blog yazÄ±larÄ±nÄ± buradan yÃ¶netin."})]}),e.jsxs("button",{type:"button",onClick:t,className:"bg-slate-900 text-white px-4 py-2 rounded-xl font-bold hover:bg-rose-600 transition-all flex items-center gap-2 shadow-lg shadow-rose-200",children:[e.jsx(X,{size:18})," Yeni Ä°Ã§erik Ekle"]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"BaÅŸlÄ±kta ara (TR/EN/ZH)...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg outline-none focus:border-rose-500",value:_,onChange:k=>l(k.target.value)})]}),e.jsxs("select",{className:"p-2 border border-slate-200 rounded-lg outline-none focus:border-rose-500 bg-white",value:f,onChange:k=>C(k.target.value),children:[e.jsx("option",{value:"all",children:"TÃ¼m Durumlar"}),e.jsx("option",{value:"published",children:"YayÄ±nda"}),e.jsx("option",{value:"draft",children:"Taslak"}),e.jsx("option",{value:"archived",children:"ArÅŸiv"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-white text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Durum"}),e.jsx("th",{className:"p-4",children:"BaÅŸlÄ±k"}),e.jsx("th",{className:"p-4",children:"Ã‡eviriler"}),e.jsx("th",{className:"p-4",children:"Tarih"}),e.jsx("th",{className:"p-4 text-right",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:u?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-400",children:e.jsx(K,{className:"animate-spin mx-auto"})})}):i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"Ä°Ã§erik bulunamadÄ±."})}):i.map(k=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${k.status==="published"?"bg-green-100 text-green-700":k.status==="draft"?"bg-slate-100 text-slate-600":"bg-orange-100 text-orange-700"}`,children:k.status})}),e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-bold text-slate-900 line-clamp-1",children:k.title_tr||"(baÅŸlÄ±ksÄ±z)"}),e.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["/",k.slug]})]}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{hasTranslation:!!k.title_tr,lang:"TR"}),e.jsx(b,{hasTranslation:!!k.title_en,lang:"EN"}),e.jsx(b,{hasTranslation:!!k.title_zh,lang:"ZH"})]})}),e.jsx("td",{className:"p-4 text-sm text-slate-500",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ve,{size:14})," ",new Date(k.created_at).toLocaleDateString("tr-TR")]})}),e.jsxs("td",{className:"p-4 text-right space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>o(k),className:"p-2 bg-white border border-slate-200 rounded-lg hover:border-cyan-500 hover:text-cyan-600 transition-all shadow-sm",children:e.jsx(Ce,{size:16})}),e.jsx("button",{type:"button",onClick:()=>p(k.id),className:"p-2 bg-white border border-slate-200 rounded-lg hover:border-red-500 hover:text-red-600 transition-all shadow-sm",children:e.jsx(W,{size:16})})]})]},k.id))})]})}),h>1&&e.jsxs("div",{className:"p-4 border-t border-slate-100 flex justify-center gap-2",children:[e.jsx("button",{type:"button",disabled:r===1,onClick:()=>n(k=>k-1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:e.jsx(Se,{size:16})}),e.jsxs("span",{className:"px-4 py-2 text-sm text-slate-600 font-medium",children:[r," / ",h]}),e.jsx("button",{type:"button",disabled:r===h,onClick:()=>n(k=>k+1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:e.jsx(ye,{size:16})})]})]})},rs={maxWidth:1600,maxHeight:1600,quality:.8,targetMaxSizeKB:500,outputFormat:"image/webp"};function ns(a){return new Promise((o,t)=>{const i=new Image;i.onload=()=>o(i),i.onerror=()=>t(new Error("GÃ¶rsel yÃ¼klenirken hata oluÅŸtu")),i.src=URL.createObjectURL(a)})}function is(a,o,t,i){if(a<=t&&o<=i)return{width:a,height:o};const N=a/o;let u=t,y=t/N;return y>i&&(y=i,u=i*N),{width:Math.round(u),height:Math.round(y)}}async function os(a,o,t,i){let N=i,u=null;const y=.3;for(;N>=y;){if(u=await new Promise(S=>{a.toBlob(S,t,N)}),!u)throw new Error("GÃ¶rsel sÄ±kÄ±ÅŸtÄ±rÄ±lÄ±rken hata oluÅŸtu");if(u.size/1024<=o||N<=y)break;N-=.1}return u}async function cs(a,o={}){const t={...rs,...o};let i=t.outputFormat;a.type==="image/png"&&i==="image/jpeg"&&(i="image/webp");const N=a.size/1024,u=await ns(a),y=u.naturalWidth,v=u.naturalHeight;if(N<=t.targetMaxSizeKB&&y<=t.maxWidth&&v<=t.maxHeight){const h=await new Promise(T=>{const g=new FileReader;g.onloadend=()=>T(g.result),g.readAsDataURL(a)});return URL.revokeObjectURL(u.src),{blob:a,width:y,height:v,originalWidth:y,originalHeight:v,originalSizeKB:Math.round(N),processedSizeKB:Math.round(N),dataUrl:h}}const{width:f,height:C}=is(y,v,t.maxWidth,t.maxHeight),_=document.createElement("canvas");_.width=f,_.height=C;const l=_.getContext("2d");if(!l)throw new Error("Canvas context oluÅŸturulamadÄ±");l.imageSmoothingEnabled=!0,l.imageSmoothingQuality="high",l.drawImage(u,0,0,f,C),URL.revokeObjectURL(u.src);const r=await os(_,t.targetMaxSizeKB,i,t.quality),n=await new Promise(h=>{const T=new FileReader;T.onloadend=()=>h(T.result),T.readAsDataURL(r)});return{blob:r,width:f,height:C,originalWidth:y,originalHeight:v,originalSizeKB:Math.round(N),processedSizeKB:Math.round(r.size/1024),dataUrl:n}}function ds(a,o=20){if(!["image/jpeg","image/png","image/webp","image/gif"].includes(a.type))return{valid:!1,error:"Desteklenmeyen dosya formatÄ±. LÃ¼tfen JPEG, PNG veya WebP yÃ¼kleyin."};const i=o*1024*1024;return a.size>i?{valid:!1,error:`Dosya Ã§ok bÃ¼yÃ¼k. Maksimum boyut: ${o}MB`}:{valid:!0}}const xs={blogCover:{maxWidth:1600,maxHeight:900,quality:.85,targetMaxSizeKB:400,outputFormat:"image/webp"},thumbnail:{maxWidth:400,maxHeight:300,quality:.75,targetMaxSizeKB:100,outputFormat:"image/webp"},avatar:{maxWidth:512,maxHeight:512,quality:.8,targetMaxSizeKB:150,outputFormat:"image/webp"},hero:{maxWidth:1920,maxHeight:1080,quality:.85,targetMaxSizeKB:600,outputFormat:"image/webp"}},ms=({uploadEndpoint:a="/api/index.php?action=upload_image",token:o,onUploadSuccess:t,onUploadError:i,onRemove:N,existingImageUrl:u,processingOptions:y,preset:v,maxFileSizeMB:S=20,label:f="GÃ¶rsel YÃ¼kle",helperText:C="JPEG, PNG veya WebP. Maks 20MB.",showSizeInfo:_=!0,disabled:l=!1,className:r="",compact:n=!1})=>{const[h,T]=s.useState("idle"),[g,m]=s.useState(null),[B,p]=s.useState(u||null),[b,k]=s.useState(null),[$,L]=s.useState(!1),x=s.useRef(null),c=s.useCallback(()=>({...v?xs[v]:{},...y}),[v,y]),P=s.useCallback(()=>{T("idle"),m(null),p(u||null),k(null),x.current&&(x.current.value="")},[u]),E=s.useCallback(async M=>{m(null);const H=ds(M,S);if(!H.valid){m(H.error),T("error"),i?.(H.error);return}try{T("processing");const J=await cs(M,c());k(J),p(J.dataUrl),T("uploading");const q=new FormData,pe=J.blob.type.split("/")[1],oe=new File([J.blob],`image.${pe}`,{type:J.blob.type});q.append("image",oe);const{getTenantHeader:F}=await kt(async()=>{const{getTenantHeader:_t}=await Promise.resolve().then(()=>as);return{getTenantHeader:_t}},void 0),Y=F();Y["X-Tenant-Id"]&&q.append("tenant_id",Y["X-Tenant-Id"]),Y["X-Tenant-Code"]&&q.append("tenant_code",Y["X-Tenant-Code"]);const se={...Y};o&&(se.Authorization=`Bearer ${o}`);const Q=await(await fetch(a,{method:"POST",headers:se,body:q})).json();if(Q.success&&Q.url)T("success"),t?.(Q.url,J);else throw new Error(Q.error||"YÃ¼kleme baÅŸarÄ±sÄ±z oldu")}catch(J){const q=J instanceof Error?J.message:"Bir hata oluÅŸtu";m(q),T("error"),i?.(q)}},[c,S,i,t,o,a]),d=s.useCallback(M=>{const H=M.target.files?.[0];H&&E(H)},[E]),w=s.useCallback(M=>{M.preventDefault(),M.stopPropagation(),l||L(!0)},[l]),j=s.useCallback(M=>{M.preventDefault(),M.stopPropagation(),L(!1)},[]),O=s.useCallback(M=>{if(M.preventDefault(),M.stopPropagation(),L(!1),l)return;const H=M.dataTransfer.files?.[0];H&&H.type.startsWith("image/")?E(H):(m("LÃ¼tfen geÃ§erli bir gÃ¶rsel dosyasÄ± bÄ±rakÄ±n"),T("error"))},[l,E]),z=s.useCallback(()=>{P(),N?.()},[P,N]),A=s.useCallback(()=>{!l&&h!=="processing"&&h!=="uploading"&&x.current?.click()},[l,h]),R=s.useCallback(M=>{(M.key==="Enter"||M.key===" ")&&!l&&(M.preventDefault(),A())},[l,A]),I=()=>{switch(h){case"processing":return"GÃ¶rsel iÅŸleniyor...";case"uploading":return"YÃ¼kleniyor...";case"success":return"YÃ¼kleme tamamlandÄ±";case"error":return g||"Bir hata oluÅŸtu";default:return null}},U=["relative rounded-xl border-2 border-dashed transition-all duration-200",$?"border-cyan-400 bg-cyan-50":"border-slate-200 hover:border-slate-300",l?"opacity-50 cursor-not-allowed":"cursor-pointer",h==="error"?"border-red-300 bg-red-50":"",h==="success"?"border-emerald-300":"",r].filter(Boolean).join(" ");return e.jsxs("div",{className:"space-y-2",children:[f&&e.jsx("label",{className:"block text-sm font-bold text-slate-700",children:f}),e.jsxs("div",{className:U,onDragOver:w,onDragLeave:j,onDrop:O,onClick:A,onKeyDown:R,tabIndex:l?-1:0,role:"button","aria-label":f,"aria-disabled":l,children:[e.jsx("input",{ref:x,type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:d,className:"sr-only",disabled:l||h==="processing"||h==="uploading","aria-hidden":"true"}),B?e.jsxs("div",{className:n?"p-3":"p-4",children:[e.jsxs("div",{className:`relative ${n?"h-32":"h-48"} w-full overflow-hidden rounded-lg bg-slate-100`,children:[e.jsx("img",{src:B,alt:"Ã–nizleme",className:"h-full w-full object-contain"}),(h==="processing"||h==="uploading")&&e.jsx("div",{className:"absolute inset-0 bg-white/80 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-2 text-cyan-600",children:[e.jsx(K,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{className:"font-medium",children:I()})]})})]}),_&&b&&h==="success"&&e.jsxs("div",{className:"mt-2 text-xs text-slate-500 flex items-center gap-3",children:[e.jsxs("span",{children:[b.width," Ã— ",b.height,"px"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{className:"text-emerald-600",children:[b.originalSizeKB,"KB â†’ ",b.processedSizeKB,"KB",e.jsxs("span",{className:"ml-1 text-emerald-700 font-medium",children:["(",Math.round((1-b.processedSizeKB/b.originalSizeKB)*100),"% kÃ¼Ã§Ã¼ltÃ¼ldÃ¼)"]})]})]}),!l&&h!=="processing"&&h!=="uploading"&&e.jsx("button",{type:"button",onClick:M=>{M.stopPropagation(),z()},className:"absolute top-6 right-6 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg","aria-label":"GÃ¶rseli kaldÄ±r",children:e.jsx(W,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:`flex flex-col items-center justify-center ${n?"py-6 px-4":"py-10 px-6"}`,children:[e.jsx("div",{className:`${n?"p-2":"p-3"} rounded-full bg-slate-100 text-slate-400 mb-3`,children:h==="processing"||h==="uploading"?e.jsx(K,{className:`${n?"w-6 h-6":"w-8 h-8"} animate-spin text-cyan-600`}):e.jsx(Mt,{className:n?"w-6 h-6":"w-8 h-8"})}),e.jsx("div",{className:"text-center",children:h==="processing"||h==="uploading"?e.jsx("p",{className:"text-sm font-medium text-cyan-600",children:I()}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:`font-medium text-slate-700 ${n?"text-sm":""}`,children:[e.jsx("span",{className:"text-cyan-600",children:"Dosya seÃ§in"})," veya sÃ¼rÃ¼kleyip bÄ±rakÄ±n"]}),C&&e.jsx("p",{className:"mt-1 text-xs text-slate-400",children:C})]})})]})]}),h==="error"&&g&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-50 p-2 rounded-lg",role:"alert",children:[e.jsx(xe,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:g})]}),h==="success"&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-emerald-600",role:"status","aria-live":"polite",children:[e.jsx(V,{className:"w-4 h-4"}),e.jsx("span",{children:"GÃ¶rsel baÅŸarÄ±yla yÃ¼klendi"})]})]})},we=({isOpen:a,onClose:o,onSelect:t,multiple:i=!1})=>{const[N,u]=s.useState([]),[y,v]=s.useState(!0),[S,f]=s.useState(""),[C,_]=s.useState(""),[l,r]=s.useState([]),[n,h]=s.useState([]),[T,g]=s.useState(1),[m,B]=s.useState(1),p="/api",b=s.useCallback(async()=>{v(!0);try{const x=localStorage.getItem("admin_token");x||console.warn("[MediaPicker] No admin_token found in localStorage");const c=new URLSearchParams({page:T.toString(),limit:"24"});S&&c.append("search",S),C&&c.append("category",C);const P=`${p}/index.php?action=get_media_list&${c}`;console.log("[MediaPicker] Fetching:",P);const d=await(await fetch(P,{headers:{Authorization:`Bearer ${x}`,...D()}})).json();console.log("[MediaPicker] Response:",d),d.success?(u(d.data),B(d.pagination.pages)):console.error("[MediaPicker] API Error:",d.error)}catch(x){console.error("Failed to fetch media:",x)}finally{v(!1)}},[p,T,S,C]),k=async()=>{try{const x=localStorage.getItem("admin_token"),P=await(await fetch(`${p}/index.php?action=get_media_categories`,{headers:{Authorization:`Bearer ${x}`,...D()}})).json();P.success&&r(P.data)}catch(x){console.error("Failed to fetch categories:",x)}};s.useEffect(()=>{a&&(b(),k())},[a,b]),s.useEffect(()=>{h([])},[a]);const $=x=>{h(i?c=>c.find(P=>P.id===x.id)?c.filter(P=>P.id!==x.id):[...c,x]:[x])},L=()=>{if(n.length!==0){if(i)n.forEach(x=>t({id:x.id,url:x.url,alt_text:x.alt_text}));else{const x=n[0];t({id:x.id,url:x.url,alt_text:x.alt_text})}o()}};return a?e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:o,children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-5xl w-full max-h-[85vh] flex flex-col",onClick:x=>x.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-lg text-slate-900",children:"Medya KÃ¼tÃ¼phanesinden SeÃ§"}),e.jsx("p",{className:"text-sm text-slate-500",children:i?"Birden fazla gÃ¶rsel seÃ§ebilirsiniz":"Bir gÃ¶rsel seÃ§in"})]}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-slate-100 rounded-lg",children:e.jsx(ie,{size:20})})]}),e.jsxs("div",{className:"flex items-center gap-4 px-6 py-3 border-b border-slate-200 bg-slate-50",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(le,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Ara...",value:S,onChange:x=>{f(x.target.value),g(1)},className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent text-sm"})]}),e.jsxs("select",{value:C,onChange:x=>{_(x.target.value),g(1)},className:"px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500 text-sm",children:[e.jsx("option",{value:"",children:"TÃ¼m Kategoriler"}),l.map(x=>e.jsx("option",{value:x,children:x},x))]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[y?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(K,{className:"animate-spin text-rose-500",size:32})}):N.length===0?e.jsxs("div",{className:"text-center py-20 text-slate-400",children:[e.jsx(Ne,{size:48,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"GÃ¶rsel bulunamadÄ±"})]}):e.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 gap-3",children:N.map(x=>{const c=n.some(P=>P.id===x.id);return e.jsxs("div",{onClick:()=>$(x),className:`relative aspect-square bg-slate-100 rounded-lg overflow-hidden cursor-pointer border-2 transition-all ${c?"border-rose-500 ring-2 ring-rose-200":"border-transparent hover:border-slate-300"}`,children:[e.jsx("img",{src:x.url,alt:x.alt_text||x.filename_original,className:"w-full h-full object-cover",loading:"lazy"}),c&&e.jsx("div",{className:"absolute top-1 right-1 w-6 h-6 bg-rose-500 rounded-full flex items-center justify-center",children:e.jsx(he,{size:14,className:"text-white"})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2",children:e.jsx("p",{className:"text-xs text-white truncate",children:x.title||x.filename_original})})]},x.id)})}),m>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-4",children:Array.from({length:Math.min(m,10)},(x,c)=>c+1).map(x=>e.jsx("button",{onClick:()=>g(x),className:`px-2 py-1 text-sm rounded ${x===T?"bg-rose-500 text-white":"bg-slate-100 hover:bg-slate-200"}`,children:x},x))})]}),e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200 bg-slate-50",children:[e.jsx("p",{className:"text-sm text-slate-500",children:n.length>0?`${n.length} gÃ¶rsel seÃ§ildi`:"GÃ¶rsel seÃ§ilmedi"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:o,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:"Ä°ptal"}),e.jsx("button",{onClick:L,disabled:n.length===0,className:"px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"SeÃ§"})]})]})]})}):null},us=({token:a,post:o,onSave:t,onCancel:i})=>{const[N,u]=s.useState(!1),[y,v]=s.useState(!1),[S,f]=s.useState(!1),[C,_]=s.useState(!1),[l,r]=s.useState("tr"),n=ae(),[h,T]=s.useState({slug:"",image_url:"",status:"draft",publish_at:"",title_tr:"",excerpt_tr:"",content_tr:"",title_en:"",excerpt_en:"",content_en:"",title_zh:"",excerpt_zh:"",content_zh:""}),g="/api",m=g.endsWith("/index.php")?g:`${g}/index.php`;s.useEffect(()=>{o?.id?(f(!0),fetch(`${m}?action=get_blog_post_detail&id=${o.id}`,{headers:{Authorization:`Bearer ${a}`,...D()}}).then(x=>x.json()).then(x=>{if(x.success&&x.data){const c=x.data;T({slug:c.slug||"",image_url:c.image_url||"",status:c.status||"draft",publish_at:c.publish_at?c.publish_at.slice(0,16):"",title_tr:c.title_tr||"",excerpt_tr:c.excerpt_tr||"",content_tr:c.content_tr||"",title_en:c.title_en||"",excerpt_en:c.excerpt_en||"",content_en:c.content_en||"",title_zh:c.title_zh||"",excerpt_zh:c.excerpt_zh||"",content_zh:c.content_zh||""})}}).catch(x=>{console.error("Post detail fetch error:",x),n.error("Ä°Ã§erik detaylarÄ± yÃ¼klenemedi")}).finally(()=>f(!1))):o||T({slug:"",image_url:"",status:"draft",publish_at:"",title_tr:"",excerpt_tr:"",content_tr:"",title_en:"",excerpt_en:"",content_en:"",title_zh:"",excerpt_zh:"",content_zh:""})},[o,a,g]);const B=x=>x.toLowerCase().replace(/ÄŸ/g,"g").replace(/Ã¼/g,"u").replace(/ÅŸ/g,"s").replace(/Ä±/g,"i").replace(/Ã¶/g,"o").replace(/Ã§/g,"c").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),p=(x,c)=>{T(P=>{const E={...P,[x]:c};return x==="title_tr"&&!o&&(E.slug=B(c)),E})},b=async x=>{x.preventDefault(),u(!0);const c=o?"update_blog_post":"create_blog_post",P={...h,id:o?.id};try{const d=await(await fetch(`${m}?action=${c}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify(P)})).json();d.success?(n.success(o?"Ä°Ã§erik baÅŸarÄ±yla gÃ¼ncellendi":"Ä°Ã§erik baÅŸarÄ±yla oluÅŸturuldu"),t()):n.error("Hata: "+(d.error||"Kaydedilemedi"))}catch{n.error("BaÄŸlantÄ± hatasÄ±")}finally{u(!1)}},k=async()=>{if(!h.title_tr&&!h.content_tr){n.error("Ã‡eviri iÃ§in TÃ¼rkÃ§e baÅŸlÄ±k ve iÃ§erik gereklidir.");return}v(!0);try{const c=await(await fetch(`${m}?action=ai_translate_blog_all`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify({title_tr:h.title_tr,excerpt_tr:h.excerpt_tr,content_tr:h.content_tr})})).json();c.en||c.zh?(T(P=>({...P,title_en:c.en?.title||P.title_en,excerpt_en:c.en?.excerpt||P.excerpt_en,content_en:c.en?.content||P.content_en,title_zh:c.zh?.title||P.title_zh,excerpt_zh:c.zh?.excerpt||P.excerpt_zh,content_zh:c.zh?.content||P.content_zh})),n.success("EN ve ZH Ã§evirileri oluÅŸturuldu. Kontrol edip kaydedebilirsiniz.")):c.error&&n.error("Ã‡eviri hatasÄ±: "+c.error)}catch{n.error("Ã‡eviri baÅŸarÄ±sÄ±z oldu.")}finally{v(!1)}},$=[{key:"tr",label:"TÃ¼rkÃ§e",flag:"ğŸ‡¹ğŸ‡·"},{key:"en",label:"English",flag:"ğŸ‡¬ğŸ‡§"},{key:"zh",label:"ä¸­æ–‡",flag:"ğŸ‡¨ğŸ‡³"}],L=x=>h[`title_${x}`]||h[`content_${x}`];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden relative",children:[S&&e.jsx("div",{className:"absolute inset-0 bg-white/80 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-3 text-cyan-600",children:[e.jsx(K,{className:"w-8 h-8 animate-spin"}),e.jsx("span",{className:"font-medium",children:"Ä°Ã§erik yÃ¼kleniyor..."})]})}),e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[e.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-slate-500 hover:text-slate-900 font-medium transition-colors",children:[e.jsx(re,{size:18})," Listeye DÃ¶n"]}),e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:o?"Ä°Ã§eriÄŸi DÃ¼zenle":"Yeni Ä°Ã§erik Ekle"}),e.jsxs("button",{type:"button",onClick:k,disabled:y,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all font-medium text-sm disabled:opacity-50",children:[y?e.jsx(K,{className:"animate-spin",size:16}):e.jsx(qt,{size:16}),y?"Ã‡evriliyor...":"EN + ZH Ã‡eviri OluÅŸtur"]})]}),e.jsx("div",{className:"flex border-b border-slate-200 bg-slate-50/50",children:$.map(x=>e.jsxs("button",{type:"button",onClick:()=>r(x.key),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors ${l===x.key?"border-cyan-500 text-cyan-600 bg-white":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[e.jsx("span",{children:x.flag}),x.label,x.key!=="tr"&&L(x.key)&&e.jsx(V,{size:14,className:"text-green-500"}),x.key!=="tr"&&!L(x.key)&&e.jsx("span",{className:"text-xs text-amber-500",children:"(boÅŸ)"})]},x.key))}),e.jsx("form",{onSubmit:b,className:"p-8 max-w-5xl mx-auto",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"md:col-span-2 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["BaÅŸlÄ±k (",$.find(x=>x.key===l)?.label,")",l==="tr"&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none text-lg font-bold",value:h[`title_${l}`],onChange:x=>p(`title_${l}`,x.target.value),placeholder:l==="tr"?"Blog baÅŸlÄ±ÄŸÄ±...":`${$.find(x=>x.key===l)?.label} title...`,required:l==="tr"})]}),l==="tr"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Slug (URL)"}),e.jsxs("div",{className:"flex items-center gap-1 text-slate-400 bg-slate-50 p-3 rounded-xl border border-slate-200",children:[e.jsx("span",{className:"text-xs",children:"ct.turp.health/blog/"}),e.jsx("input",{type:"text",className:"flex-1 bg-transparent outline-none text-slate-700 font-medium",value:h.slug,onChange:x=>p("slug",x.target.value)})]})]}),l==="tr"&&e.jsxs("div",{children:[e.jsx(ms,{label:"Kapak GÃ¶rseli",uploadEndpoint:`${m}?action=upload_image`,token:a,existingImageUrl:h.image_url,preset:"blogCover",onUploadSuccess:x=>p("image_url",x),onUploadError:x=>n.error("GÃ¶rsel yÃ¼kleme hatasÄ±: "+x),onRemove:()=>p("image_url",""),helperText:"Otomatik olarak optimize edilir (maks 1600Ã—900, ~400KB)"}),e.jsxs("button",{type:"button",onClick:()=>_(!0),className:"mt-2 w-full flex items-center justify-center gap-2 px-4 py-2 text-sm text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors",children:[e.jsx(Ne,{size:16}),"Medya KÃ¼tÃ¼phanesinden SeÃ§"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["Ã–zet (",$.find(x=>x.key===l)?.label,")"]}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none h-24 resize-none",value:h[`excerpt_${l}`],onChange:x=>p(`excerpt_${l}`,x.target.value),placeholder:l==="tr"?"Liste gÃ¶rÃ¼nÃ¼mÃ¼nde Ã§Ä±kacak kÄ±sa aÃ§Ä±klama...":"Short excerpt..."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["Ä°Ã§erik (",$.find(x=>x.key===l)?.label,")",l==="tr"&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("textarea",{className:"w-full p-4 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none h-[400px] font-mono text-sm leading-relaxed",value:h[`content_${l}`],onChange:x=>p(`content_${l}`,x.target.value),placeholder:l==="tr"?"Ä°Ã§eriÄŸinizi buraya yazÄ±n...":"Content...",required:l==="tr"}),e.jsx("p",{className:"text-xs text-slate-400 mt-2 text-right",children:"HTML etiketleri desteklenir."})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100 space-y-4",children:[e.jsx("h3",{className:"font-bold text-slate-900 border-b border-slate-200 pb-2 mb-4",children:"YayÄ±n AyarlarÄ±"}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-slate-700 mb-2",children:[e.jsx(V,{size:16,className:"text-slate-400"})," Durum"]}),e.jsxs("select",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none bg-white",value:h.status,onChange:x=>p("status",x.target.value),children:[e.jsx("option",{value:"draft",children:"Taslak"}),e.jsx("option",{value:"published",children:"YayÄ±nda"}),e.jsx("option",{value:"archived",children:"ArÅŸiv"})]})]}),h.status==="published"&&e.jsxs("div",{className:"p-3 bg-green-50 text-green-700 rounded-lg text-sm border border-green-100",children:[e.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[e.jsx(V,{size:14})," YayÄ±nda"]}),e.jsxs("a",{href:`${window.location.origin}/blog/${h.slug}`,target:"_blank",rel:"noopener noreferrer",className:"underline break-all hover:text-green-800",children:["/blog/",h.slug]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-slate-700 mb-2",children:[e.jsx(me,{size:16,className:"text-slate-400"})," YayÄ±n Tarihi"]}),e.jsx("input",{type:"datetime-local",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none bg-white",value:h.publish_at,onChange:x=>p("publish_at",x.target.value)})]})]}),e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-2xl border border-indigo-100",children:[e.jsxs("div",{className:"flex items-center gap-2 text-indigo-700 font-bold mb-3",children:[e.jsx(Fe,{size:16}),"Ã‡eviri Durumu"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e"}),e.jsx("span",{className:h.title_tr?"text-green-600 font-bold":"text-slate-400",children:h.title_tr?"âœ“ Mevcut":"â€”"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"ğŸ‡¬ğŸ‡§ English"}),e.jsx("span",{className:h.title_en?"text-green-600 font-bold":"text-amber-500",children:h.title_en?"âœ“ Mevcut":"âš  Eksik"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"ğŸ‡¨ğŸ‡³ ä¸­æ–‡"}),e.jsx("span",{className:h.title_zh?"text-green-600 font-bold":"text-amber-500",children:h.title_zh?"âœ“ Mevcut":"âš  Eksik"})]})]})]}),e.jsxs("button",{type:"submit",disabled:N,className:"w-full py-4 bg-gradient-to-r from-cyan-500 to-teal-500 text-white font-bold rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[N?e.jsx(K,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),N?"Kaydediliyor...":o?"GÃ¼ncelle":"Kaydet"]})]})]})})]}),e.jsx(we,{isOpen:C,onClose:()=>_(!1),onSelect:x=>{p("image_url",x.url),_(!1)}})]})},hs=({token:a,userName:o,userEmail:t})=>{const[i,N]=s.useState(""),[u,y]=s.useState(""),[v,S]=s.useState(""),[f,C]=s.useState(!1),[_,l]=s.useState(null),[r,n]=s.useState(!1),[h,T]=s.useState(!1),[g,m]=s.useState(""),[B,p]=s.useState(!1),[b,k]=s.useState(null),[$,L]=s.useState(!0),x="/api",c=x.endsWith("/index.php")?x:`${x}/index.php`;s.useEffect(()=>{(async()=>{try{const j=await(await fetch(`${c}?action=get_settings`,{headers:{Authorization:`Bearer ${a}`,...D()}})).json();j.success&&j.data&&m(j.data.notification_emails||"berko@omega-cro.com.tr")}catch(w){console.error("Settings load error:",w)}finally{L(!1)}})()},[a,x]);const P=async d=>{if(d.preventDefault(),l(null),u.length<8){l({type:"error",text:"Yeni ÅŸifre en az 8 karakter olmalÄ±dÄ±r."});return}if(u!==v){l({type:"error",text:"Yeni ÅŸifreler eÅŸleÅŸmiyor."});return}C(!0);try{const j=await(await fetch(`${c}?action=change_password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({current_password:i,new_password:u})})).json();j.success?(l({type:"success",text:"Åifreniz baÅŸarÄ±yla gÃ¼ncellendi."}),N(""),y(""),S("")):l({type:"error",text:j.error||"Åifre gÃ¼ncellenemedi."})}catch{l({type:"error",text:"BaÄŸlantÄ± hatasÄ±."})}finally{C(!1)}},E=async d=>{d.preventDefault(),k(null);const j=g.split(",").map(O=>O.trim()).filter(O=>O&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(O));if(j.length>0){k({type:"error",text:`GeÃ§ersiz e-posta: ${j.join(", ")}`});return}p(!0);try{const z=await(await fetch(`${c}?action=update_settings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({notification_emails:g})})).json();z.success?k({type:"success",text:"E-posta ayarlarÄ± kaydedildi."}):k({type:"error",text:z.error||"Ayarlar kaydedilemedi."})}catch{k({type:"error",text:"BaÄŸlantÄ± hatasÄ±."})}finally{p(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-rose-50 to-pink-50",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(ne,{className:"text-rose-600"})," E-posta Bildirimleri"]}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Ä°letiÅŸim formu mesajlarÄ±nÄ±n gÃ¶nderileceÄŸi e-posta adreslerini ayarlayÄ±n."})]}),e.jsx("div",{className:"p-8 max-w-2xl",children:$?e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(K,{className:"animate-spin",size:20}),e.jsx("span",{children:"Ayarlar yÃ¼kleniyor..."})]}):e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[b&&e.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${b.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[b.type==="success"?e.jsx(V,{size:18}):e.jsx(xe,{size:18}),e.jsx("span",{className:"font-medium",children:b.text})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Bildirim E-postalarÄ±"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none resize-none h-24",value:g,onChange:d=>m(d.target.value),placeholder:"email1@example.com, email2@example.com"}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Birden fazla e-posta adresi iÃ§in virgÃ¼l ile ayÄ±rÄ±n. Ä°letiÅŸim formundan gelen mesajlar bu adreslere gÃ¶nderilir."})]}),e.jsxs("button",{type:"submit",disabled:B,className:"px-6 py-3 bg-rose-600 text-white font-bold rounded-xl hover:bg-rose-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[B?e.jsx(K,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),B?"Kaydediliyor...":"E-posta AyarlarÄ±nÄ± Kaydet"]})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-cyan-50 to-blue-50",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(it,{className:"text-cyan-600"})," Hesap AyarlarÄ±"]}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Åifrenizi deÄŸiÅŸtirin ve hesap bilgilerinizi gÃ¶rÃ¼ntÃ¼leyin."})]}),e.jsxs("div",{className:"p-8 max-w-2xl",children:[e.jsx("div",{className:"mb-8 p-4 bg-slate-50 rounded-xl border border-slate-100",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400 text-xs uppercase font-bold",children:"KullanÄ±cÄ± AdÄ±"}),e.jsx("p",{className:"font-medium text-slate-900",children:o})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400 text-xs uppercase font-bold",children:"E-posta"}),e.jsx("p",{className:"font-medium text-slate-900",children:t})]})]})}),e.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Åifre DeÄŸiÅŸtir"}),_&&e.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg mb-6 ${_.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[_.type==="success"?e.jsx(V,{size:18}):e.jsx(xe,{size:18}),e.jsx("span",{className:"font-medium",children:_.text})]}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Mevcut Åifre"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:r?"text":"password",className:"w-full p-3 pr-12 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none",value:i,onChange:d=>N(d.target.value),required:!0}),e.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:r?e.jsx(ge,{size:20}):e.jsx(te,{size:20})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Yeni Åifre"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:h?"text":"password",className:"w-full p-3 pr-12 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none",value:u,onChange:d=>y(d.target.value),placeholder:"En az 8 karakter",required:!0}),e.jsx("button",{type:"button",onClick:()=>T(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:h?e.jsx(ge,{size:20}):e.jsx(te,{size:20})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Yeni Åifre (Tekrar)"}),e.jsx("input",{type:"password",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none",value:v,onChange:d=>S(d.target.value),placeholder:"Åifreyi tekrar girin",required:!0})]}),e.jsxs("button",{type:"submit",disabled:f,className:"mt-6 px-6 py-3 bg-cyan-600 text-white font-bold rounded-xl hover:bg-cyan-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[f?e.jsx(K,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),f?"Kaydediliyor...":"Åifreyi GÃ¼ncelle"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-emerald-50 to-teal-50",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(fe,{className:"text-emerald-600"})," VeritabanÄ± BakÄ±mÄ±"]}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Gerekli durumlarda veritabanÄ± tablolarÄ±nÄ± gÃ¼ncelleyin."})]}),e.jsx("div",{className:"p-8 max-w-2xl",children:e.jsxs("button",{onClick:async()=>{if(confirm("VeritabanÄ± gÃ¼ncellemesi baÅŸlatÄ±lsÄ±n mÄ±?"))try{const w=await(await fetch(`${c}?action=migrate_db`,{headers:{Authorization:`Bearer ${a}`,...D()}})).text();alert("SonuÃ§: "+w)}catch(d){alert("Hata: "+d)}},className:"px-6 py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center gap-2",children:[e.jsx(fe,{size:20}),"VeritabanÄ±nÄ± GÃ¼ncelle / Onar"]})})]})]})},ps=({token:a,onEdit:o,onCreate:t})=>{const[i,N]=s.useState([]),[u,y]=s.useState(!0),v=ae(),S=ue(),[f,C]=s.useState("all"),[_,l]=s.useState("all"),[r,n]=s.useState("all"),[h,T]=s.useState(""),[g,m]=s.useState(1),[B,p]=s.useState(1),b="/api",k=b.endsWith("/index.php")?b:`${b}/index.php`,$=async()=>{y(!0);try{const c=new URLSearchParams({action:"get_faqs_admin",language:f,is_showcased:_,is_active:r,search:h,page:String(g)}),P=await fetch(`${k}?${c}`,{headers:{Authorization:`Bearer ${a}`,...D()}});if(!P.ok){const d=await P.text();throw new Error(`API Error: ${P.status} - ${d.substring(0,100)}`)}const E=await P.json();E.success?(N(E.data),p(E.pagination?.pages||1)):v.error(E.error||"SSS listesi alÄ±namadÄ±")}catch(c){console.error("FAQ Fetch Error:",c),v.error(`Hata: ${c.message||"BaÄŸlantÄ± hatasÄ±"}`)}finally{y(!1)}};s.useEffect(()=>{const c=setTimeout(()=>$(),300);return()=>clearTimeout(c)},[f,_,r,h,g]);const L=async c=>{if(await S({title:"SSS Sil",message:"Bu SSS'yi silmek istediÄŸinize emin misiniz?",confirmLabel:"Sil",cancelLabel:"Ä°ptal",type:"danger"}))try{(await(await fetch(`${k}?action=delete_faq`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({id:c})})).json()).success?(N(i.filter(w=>w.id!==c)),v.success("SSS baÅŸarÄ±yla silindi")):v.error("Silme hatasÄ±")}catch{v.error("BaÄŸlantÄ± hatasÄ±")}},x=async(c,P,E)=>{const d=i.find(w=>w.id===c);if(d)try{(await(await fetch(`${k}?action=update_faq`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({...d,[P]:!Number(E)})})).json()).success&&N(i.map(O=>O.id===c?{...O,[P]:Number(E)?0:1}:O))}catch(w){console.error(w)}};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold flex items-center gap-2 mb-1",children:"â“ SÄ±kÃ§a Sorulan Sorular"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"SSS iÃ§eriklerini buradan yÃ¶netin."})]}),e.jsxs("button",{type:"button",onClick:t,className:"bg-slate-900 text-white px-4 py-2 rounded-xl font-bold hover:bg-rose-600 transition-all flex items-center gap-2 shadow-lg shadow-rose-200",children:[e.jsx(X,{size:18})," Yeni SSS Ekle"]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Soruda ara...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg outline-none focus:border-rose-500",value:h,onChange:c=>T(c.target.value)})]}),e.jsxs("select",{className:"p-2 border border-slate-200 rounded-lg outline-none focus:border-rose-500 bg-white",value:f,onChange:c=>C(c.target.value),children:[e.jsx("option",{value:"all",children:"TÃ¼m Diller"}),e.jsx("option",{value:"tr",children:"TÃ¼rkÃ§e"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"zh",children:"ä¸­æ–‡"})]}),e.jsxs("select",{className:"p-2 border border-slate-200 rounded-lg outline-none focus:border-rose-500 bg-white",value:_,onChange:c=>l(c.target.value),children:[e.jsx("option",{value:"all",children:"TÃ¼m (Vitrin)"}),e.jsx("option",{value:"true",children:"Vitrinde"}),e.jsx("option",{value:"false",children:"Vitrinde DeÄŸil"})]}),e.jsxs("select",{className:"p-2 border border-slate-200 rounded-lg outline-none focus:border-rose-500 bg-white",value:r,onChange:c=>n(c.target.value),children:[e.jsx("option",{value:"all",children:"TÃ¼m (Durum)"}),e.jsx("option",{value:"true",children:"Aktif"}),e.jsx("option",{value:"false",children:"Pasif"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-white text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Soru"}),e.jsx("th",{className:"p-4 w-20",children:"Dil"}),e.jsx("th",{className:"p-4 w-24",children:"Vitrin"}),e.jsx("th",{className:"p-4 w-24",children:"Aktif"}),e.jsx("th",{className:"p-4 w-20",children:"SÄ±ra"}),e.jsx("th",{className:"p-4 text-right w-32",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:u?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center text-slate-400",children:e.jsx(K,{className:"animate-spin mx-auto"})})}):i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center text-slate-500",children:"SSS bulunamadÄ±."})}):i.map(c=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-medium text-slate-900 line-clamp-2",children:c.question}),e.jsx("div",{className:"text-xs text-slate-400 mt-1",children:c.category})]}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:"flex items-center gap-1 text-sm text-slate-600 uppercase font-bold",children:[e.jsx(ee,{size:14,className:"text-slate-400"})," ",c.language]})}),e.jsx("td",{className:"p-4",children:e.jsx("button",{onClick:()=>x(c.id,"is_showcased",c.is_showcased),className:`p-2 rounded-lg transition-colors ${Number(c.is_showcased)?"bg-amber-100 text-amber-600":"bg-slate-100 text-slate-400"}`,children:Number(c.is_showcased)?e.jsx(ct,{size:16}):e.jsx(Ht,{size:16})})}),e.jsx("td",{className:"p-4",children:e.jsx("button",{onClick:()=>x(c.id,"is_active",c.is_active),className:`p-2 rounded-lg transition-colors ${Number(c.is_active)?"bg-green-100 text-green-600":"bg-red-100 text-red-400"}`,children:Number(c.is_active)?e.jsx(te,{size:16}):e.jsx(ge,{size:16})})}),e.jsx("td",{className:"p-4 text-sm text-slate-500 font-mono",children:c.sort_order}),e.jsxs("td",{className:"p-4 text-right space-x-2",children:[e.jsx("button",{onClick:()=>o(c),className:"p-2 bg-white border border-slate-200 rounded-lg hover:border-cyan-500 hover:text-cyan-600 transition-all shadow-sm",children:e.jsx(Ce,{size:16})}),e.jsx("button",{onClick:()=>L(c.id),className:"p-2 bg-white border border-slate-200 rounded-lg hover:border-red-500 hover:text-red-600 transition-all shadow-sm",children:e.jsx(W,{size:16})})]})]},c.id))})]})}),B>1&&e.jsxs("div",{className:"p-4 border-t border-slate-100 flex justify-center gap-2",children:[e.jsx("button",{disabled:g===1,onClick:()=>m(c=>c-1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:e.jsx(Se,{size:16})}),e.jsxs("span",{className:"px-4 py-2 text-sm text-slate-600 font-medium",children:[g," / ",B]}),e.jsx("button",{disabled:g===B,onClick:()=>m(c=>c+1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:e.jsx(ye,{size:16})})]})]})},bs=({token:a,faq:o,onCancel:t,onSave:i})=>{const[N,u]=s.useState(o?.question||""),[y,v]=s.useState(o?.answer||""),[S,f]=s.useState(o?.question_en||""),[C,_]=s.useState(o?.answer_en||""),[l,r]=s.useState(o?.question_zh||""),[n,h]=s.useState(o?.answer_zh||""),[T,g]=s.useState(o?.category||"Genel"),[m,B]=s.useState(""),[p,b]=s.useState(!1),[k,$]=s.useState(["Genel","Hastalar","AraÅŸtÄ±rÄ±cÄ±lar","Teknik","FiyatlandÄ±rma"]),[L,x]=s.useState(!!Number(o?.is_showcased)),[c,P]=s.useState(o?!!Number(o.is_active):!0),[E,d]=s.useState(o?.sort_order||0),[w,j]=s.useState(!1),[O,z]=s.useState(!1),[A,R]=s.useState(null),[I,U]=s.useState(!1),M="/api",H=M.endsWith("/index.php")?M:`${M}/index.php`,J=!!o?.id;s.useEffect(()=>{(async()=>{try{const se=await(await fetch(`${H}?action=get_settings`,{headers:{Authorization:`Bearer ${a}`,...D()}})).json();if(se.success&&se.data?.faq_categories){const ce=se.data.faq_categories.split(",").map(Q=>Q.trim()).filter(Q=>Q);ce.length>0&&($(ce),o?.category&&!ce.includes(o.category)&&$([...ce,o.category]))}}catch(Y){console.error("Categories fetch error:",Y)}})()},[a,M,o?.category]);const q=()=>{if(m.trim()&&!k.includes(m.trim())){const F=[...k,m.trim()];$(F),g(m.trim()),B(""),b(!1),fetch(`${H}?action=update_settings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify({faq_categories:F.join(", ")})}).catch(Y=>console.error("Category save error:",Y))}},pe=async()=>{if(!N.trim()||!y.trim()){R("Ã‡eviri iÃ§in Ã¶nce TÃ¼rkÃ§e soru ve cevap girin.");return}z(!0),R(null),U(!1);try{const Y=await(await fetch(`${H}?action=translate_faq_all`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify({question_tr:N,answer_tr:y})})).json();Y.success&&Y.translations?(f(Y.translations.en.question),_(Y.translations.en.answer),r(Y.translations.zh.question),h(Y.translations.zh.answer),U(!0),setTimeout(()=>U(!1),3e3)):R(Y.error||"Ã‡eviri baÅŸarÄ±sÄ±z")}catch{R("Ã‡eviri baÄŸlantÄ± hatasÄ±")}finally{z(!1)}},oe=async F=>{if(F.preventDefault(),R(null),!N.trim()||!y.trim()){R("Soru ve cevap alanlarÄ± zorunludur.");return}j(!0);try{const Y=J?"update_faq":"create_faq",se={question:N,answer:y,question_en:S,answer_en:C,question_zh:l,answer_zh:n,category:T,is_showcased:L,is_active:c,sort_order:E};J&&(se.id=o.id);const Q=await(await fetch(`${H}?action=${Y}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify(se)})).json();Q.success?i():R(Q.error||"KayÄ±t baÅŸarÄ±sÄ±z")}catch{R("BaÄŸlantÄ± hatasÄ±")}finally{j(!1)}};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(re,{className:"text-slate-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:J?"SSS DÃ¼zenle":"Yeni SSS Ekle"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"SÄ±k sorulan sorularÄ± buradan yÃ¶netin."})]})]})}),e.jsxs("form",{onSubmit:oe,className:"p-8 max-w-4xl space-y-6",children:[A&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 text-red-700 rounded-xl font-medium",children:A}),I&&e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 text-green-700 rounded-xl font-medium flex items-center gap-2",children:[e.jsx(Oe,{size:18})," Ã‡eviriler baÅŸarÄ±yla oluÅŸturuldu!"]}),e.jsxs("div",{className:"bg-rose-50 p-6 rounded-xl border border-rose-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(ee,{size:18,className:"text-rose-600"})," TÃ¼rkÃ§e (Ana Ä°Ã§erik)"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["Soru ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none bg-white",value:N,onChange:F=>u(F.target.value),placeholder:"Ã–rn: e-NabÄ±z entegrasyonu nasÄ±l Ã§alÄ±ÅŸÄ±r?",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["Cevap ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none resize-none h-32 bg-white",value:y,onChange:F=>v(F.target.value),placeholder:"Sorunun cevabÄ±nÄ± buraya yazÄ±n...",required:!0})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"button",onClick:pe,disabled:O||!N.trim()||!y.trim(),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold rounded-xl hover:from-purple-700 hover:to-blue-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:O?e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"animate-spin",size:20}),"Ã‡eviriliyor..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Fe,{size:20}),"ğŸ¤– AI ile Ã‡evir (EN + ZH)"]})})}),e.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(ee,{size:18,className:"text-blue-600"})," English"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Question"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-blue-500 outline-none bg-white",value:S,onChange:F=>f(F.target.value),placeholder:"English question..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Answer"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-blue-500 outline-none resize-none h-24 bg-white",value:C,onChange:F=>_(F.target.value),placeholder:"English answer..."})]})]})]}),e.jsxs("div",{className:"bg-amber-50 p-6 rounded-xl border border-amber-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(ee,{size:18,className:"text-amber-600"})," ä¸­æ–‡"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"é—®é¢˜"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-amber-500 outline-none bg-white",value:l,onChange:F=>r(F.target.value),placeholder:"Chinese question..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"å›ç­”"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-amber-500 outline-none resize-none h-24 bg-white",value:n,onChange:F=>h(F.target.value),placeholder:"Chinese answer..."})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(pt,{size:14})," Kategori"]}),p?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:"flex-1 p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:m,onChange:F=>B(F.target.value),placeholder:"Yeni kategori adÄ±...",autoFocus:!0}),e.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 bg-rose-600 text-white rounded-xl hover:bg-rose-700 transition-colors",children:e.jsx(X,{size:18})}),e.jsx("button",{type:"button",onClick:()=>{b(!1),B("")},className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-xl hover:bg-slate-300 transition-colors",children:"Ä°ptal"})]}):e.jsxs("div",{className:"flex gap-2",children:[e.jsx("select",{className:"flex-1 p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none bg-white",value:T,onChange:F=>g(F.target.value),children:k.map(F=>e.jsx("option",{value:F,children:F},F))}),e.jsxs("button",{type:"button",onClick:()=>b(!0),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl hover:bg-slate-200 transition-colors flex items-center gap-1",title:"Yeni kategori ekle",children:[e.jsx(X,{size:16})," Yeni"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"SÄ±ralama"}),e.jsx("input",{type:"number",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:E,onChange:F=>d(Number(F.target.value)),min:0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-50 rounded-xl border border-amber-100",children:[e.jsx("input",{type:"checkbox",id:"showcased",checked:L,onChange:F=>x(F.target.checked),className:"w-5 h-5 accent-amber-500"}),e.jsxs("label",{htmlFor:"showcased",className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(ct,{size:18,className:"text-amber-500"}),e.jsx("span",{className:"font-medium text-slate-700",children:"Ana Sayfada GÃ¶ster"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-xl border border-green-100",children:[e.jsx("input",{type:"checkbox",id:"active",checked:c,onChange:F=>P(F.target.checked),className:"w-5 h-5 accent-green-500"}),e.jsxs("label",{htmlFor:"active",className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(te,{size:18,className:"text-green-500"}),e.jsx("span",{className:"font-medium text-slate-700",children:"Aktif"})]})]})]}),e.jsxs("div",{className:"pt-4 flex gap-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Ä°ptal"}),e.jsxs("button",{type:"submit",disabled:w,className:"px-6 py-3 bg-rose-600 text-white font-bold rounded-xl hover:bg-rose-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[w?e.jsx(K,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),w?"Kaydediliyor...":J?"GÃ¼ncelle":"Kaydet"]})]})]})]})},gs={admin:"bg-rose-100 text-rose-700",editor:"bg-blue-100 text-blue-700",viewer:"bg-slate-100 text-slate-700"},fs={admin:"Admin",editor:"EditÃ¶r",viewer:"Ä°zleyici"},js={admin:e.jsx(Me,{size:14}),editor:e.jsx(_e,{size:14}),viewer:e.jsx(te,{size:14})},ys=({token:a,userRole:o,onEdit:t,onCreate:i})=>{const[N,u]=s.useState([]),[y,v]=s.useState(!0),[S,f]=s.useState("all"),[C,_]=s.useState("all"),[l,r]=s.useState(""),n=ue(),h=ae(),T="/api",g=T.endsWith("/index.php")?T:`${T}/index.php`,m=async()=>{v(!0);try{const b=new URLSearchParams({role:S,status:C,search:l}),$=await(await fetch(`${g}?action=get_admin_users&${b}`,{headers:{Authorization:`Bearer ${a}`,...D()}})).json();$.success&&u($.data)}catch(b){console.error("User fetch error:",b)}finally{v(!1)}};s.useEffect(()=>{o==="admin"&&m()},[S,C,l]);const B=async b=>{if(await n({title:"KullanÄ±cÄ± Sil",message:`"${b.name}" kullanÄ±cÄ±sÄ±nÄ± silmek istediÄŸinize emin misiniz?`,confirmLabel:"Sil",cancelLabel:"Ä°ptal",type:"danger"}))try{const L=await(await fetch(`${g}?action=delete_admin_user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify({id:b.id})})).json();L.success?(h.success("KullanÄ±cÄ± baÅŸarÄ±yla silindi"),m()):h.error(L.error||"Silme iÅŸlemi baÅŸarÄ±sÄ±z")}catch{h.error("BaÄŸlantÄ± hatasÄ±")}},p=async b=>{try{(await(await fetch(`${g}?action=update_admin_user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify({...b,is_active:!b.is_active})})).json()).success&&m()}catch(k){console.error(k)}};return o!=="admin"?e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-12 text-center",children:[e.jsx(Me,{className:"mx-auto text-slate-300 mb-4",size:64}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"EriÅŸim Engellendi"}),e.jsx("p",{className:"text-slate-500",children:"KullanÄ±cÄ± yÃ¶netimi iÃ§in admin yetkisi gereklidir."})]}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-rose-100 rounded-xl flex items-center justify-center",children:e.jsx(Pe,{className:"text-rose-600",size:20})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-lg",children:"KullanÄ±cÄ±lar"}),e.jsxs("p",{className:"text-sm text-slate-500",children:[N.length," kayÄ±tlÄ± kullanÄ±cÄ±"]})]})]}),e.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 transition-colors",children:[e.jsx(X,{size:18})," Yeni KullanÄ±cÄ±"]})]}),e.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 flex flex-wrap gap-3",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Ad veya e-posta ara...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:border-rose-500 outline-none bg-white",value:l,onChange:b=>r(b.target.value)})]}),e.jsxs("select",{className:"p-2 border border-slate-200 rounded-lg bg-white outline-none focus:border-rose-500",value:S,onChange:b=>f(b.target.value),children:[e.jsx("option",{value:"all",children:"TÃ¼m Roller"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"editor",children:"EditÃ¶r"}),e.jsx("option",{value:"viewer",children:"Ä°zleyici"})]}),e.jsxs("select",{className:"p-2 border border-slate-200 rounded-lg bg-white outline-none focus:border-rose-500",value:C,onChange:b=>_(b.target.value),children:[e.jsx("option",{value:"all",children:"TÃ¼m Durumlar"}),e.jsx("option",{value:"active",children:"Aktif"}),e.jsx("option",{value:"inactive",children:"Devre DÄ±ÅŸÄ±"})]})]}),y?e.jsxs("div",{className:"p-12 text-center text-slate-500",children:[e.jsx(K,{className:"animate-spin mx-auto mb-2",size:24}),"YÃ¼kleniyor..."]}):N.length===0?e.jsx("div",{className:"p-12 text-center text-slate-500",children:"KullanÄ±cÄ± bulunamadÄ±."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 text-left text-sm text-slate-500",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 font-medium",children:"KullanÄ±cÄ±"}),e.jsx("th",{className:"p-4 font-medium",children:"Rol"}),e.jsx("th",{className:"p-4 font-medium",children:"Durum"}),e.jsx("th",{className:"p-4 font-medium",children:"Son GiriÅŸ"}),e.jsx("th",{className:"p-4 font-medium",children:"KayÄ±t"}),e.jsx("th",{className:"p-4 font-medium text-right",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:N.map(b=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-medium text-slate-900",children:b.name}),e.jsx("div",{className:"text-sm text-slate-500",children:b.email})]}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold ${gs[b.role]}`,children:[js[b.role],fs[b.role]]})}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold ${b.is_active?"bg-green-100 text-green-700":"bg-slate-100 text-slate-500"}`,children:[b.is_active?e.jsx(Ke,{size:12}):e.jsx(Qe,{size:12}),b.is_active?"Aktif":"Devre DÄ±ÅŸÄ±"]})}),e.jsx("td",{className:"p-4 text-sm text-slate-500",children:b.last_login_at?new Date(b.last_login_at).toLocaleDateString("tr-TR"):"-"}),e.jsx("td",{className:"p-4 text-sm text-slate-500",children:new Date(b.created_at).toLocaleDateString("tr-TR")}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>t(b),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"DÃ¼zenle",children:e.jsx(_e,{size:16})}),e.jsx("button",{onClick:()=>p(b),className:`p-2 rounded-lg transition-colors ${b.is_active?"text-slate-400 hover:text-orange-600 hover:bg-orange-50":"text-slate-400 hover:text-green-600 hover:bg-green-50"}`,title:b.is_active?"Devre dÄ±ÅŸÄ± bÄ±rak":"AktifleÅŸtir",children:b.is_active?e.jsx(Qe,{size:16}):e.jsx(Ke,{size:16})}),e.jsx("button",{onClick:()=>B(b),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Sil",children:e.jsx(W,{size:16})})]})})]},b.id))})]})})]})},vs=({token:a,user:o,onCancel:t,onSave:i})=>{const[N,u]=s.useState(o?.name||""),[y,v]=s.useState(o?.email||""),[S,f]=s.useState(o?.role||"editor"),[C,_]=s.useState(o?.is_active??!0),[l,r]=s.useState(""),[n,h]=s.useState(!1),[T,g]=s.useState(!1),[m,B]=s.useState(!1),[p,b]=s.useState(null),[k,$]=s.useState(null),L="/api",x=L.endsWith("/index.php")?L:`${L}/index.php`,c=!!o?.id,P=async d=>{if(d.preventDefault(),b(null),$(null),!N.trim()||!y.trim()){b("Ad ve e-posta zorunludur");return}if(!c&&l.length<8){b("Åifre en az 8 karakter olmalÄ±dÄ±r");return}g(!0);try{const w=c?"update_admin_user":"create_admin_user",j={name:N,email:y,role:S,is_active:C};c&&(j.id=o.id),c||(j.password=l);const z=await(await fetch(`${x}?action=${w}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify(j)})).json();z.success?i():b(z.error||"KayÄ±t baÅŸarÄ±sÄ±z")}catch{b("BaÄŸlantÄ± hatasÄ±")}finally{g(!1)}},E=async()=>{if(!l||l.length<8){b("Yeni ÅŸifre en az 8 karakter olmalÄ±dÄ±r");return}B(!0),b(null),$(null);try{const w=await(await fetch(`${x}?action=reset_user_password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify({id:o.id,new_password:l})})).json();w.success?($("Åifre baÅŸarÄ±yla gÃ¼ncellendi"),r("")):b(w.error||"Åifre gÃ¼ncellenemedi")}catch{b("BaÄŸlantÄ± hatasÄ±")}finally{B(!1)}};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-4",children:[e.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(re,{className:"text-slate-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:c?"KullanÄ±cÄ± DÃ¼zenle":"Yeni KullanÄ±cÄ±"}),e.jsx("p",{className:"text-slate-500 text-sm",children:c?o?.email:"Yeni admin paneli kullanÄ±cÄ±sÄ± ekleyin"})]})]}),e.jsxs("form",{onSubmit:P,className:"p-8 max-w-2xl space-y-6",children:[p&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 text-red-700 rounded-xl font-medium",children:p}),k&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 text-green-700 rounded-xl font-medium",children:k}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(wt,{size:14})," Ad Soyad ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:N,onChange:d=>u(d.target.value),placeholder:"KullanÄ±cÄ± adÄ±",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(ne,{size:14})," E-posta ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:y,onChange:d=>v(d.target.value),placeholder:"email@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(Me,{size:14})," Rol"]}),e.jsxs("select",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none bg-white",value:S,onChange:d=>f(d.target.value),children:[e.jsx("option",{value:"admin",children:"Admin - Tam yetki"}),e.jsx("option",{value:"editor",children:"EditÃ¶r - Ä°Ã§erik yÃ¶netimi"}),e.jsx("option",{value:"viewer",children:"Ä°zleyici - Salt okunur"})]}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Admin: TÃ¼m yetkilere sahip. EditÃ¶r: Blog, SSS ve mesajlarÄ± yÃ¶netir. Ä°zleyici: Sadece gÃ¶rÃ¼ntÃ¼ler."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(It,{size:14})," ",c?"Yeni Åifre (opsiyonel)":"Åifre"," ",!c&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:n?"text":"password",className:"flex-1 p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:l,onChange:d=>r(d.target.value),placeholder:c?"DeÄŸiÅŸtirmek iÃ§in yeni ÅŸifre girin":"En az 8 karakter",minLength:c?0:8,required:c?void 0:!1}),e.jsx("button",{type:"button",onClick:()=>h(!n),className:"px-4 py-2 bg-slate-100 rounded-xl hover:bg-slate-200 transition-colors",children:e.jsx(te,{size:18,className:"text-slate-600"})}),c&&l&&e.jsx("button",{type:"button",onClick:E,disabled:m,className:"px-4 py-2 bg-amber-100 text-amber-700 rounded-xl hover:bg-amber-200 transition-colors font-medium disabled:opacity-50",children:m?e.jsx(K,{className:"animate-spin",size:18}):"Åifreyi GÃ¼ncelle"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-xl border border-green-100",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:C,onChange:d=>_(d.target.checked),className:"w-5 h-5 accent-green-600"}),e.jsxs("label",{htmlFor:"is_active",className:"cursor-pointer",children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Aktif KullanÄ±cÄ±"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Devre dÄ±ÅŸÄ± kullanÄ±cÄ±lar giriÅŸ yapamaz"})]})]}),e.jsxs("div",{className:"pt-4 flex gap-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Ä°ptal"}),e.jsxs("button",{type:"submit",disabled:T,className:"px-6 py-3 bg-rose-600 text-white font-bold rounded-xl hover:bg-rose-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[T?e.jsx(K,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),T?"Kaydediliyor...":c?"GÃ¼ncelle":"KullanÄ±cÄ± OluÅŸtur"]})]})]})]})},Ns=({token:a})=>{const[o,t]=s.useState("analytics"),[i,N]=s.useState(!0),[u,y]=s.useState(!1),[v,S]=s.useState(null),[f,C]=s.useState({ga_measurement_id:"",gtm_id:"",extra_head_html:"",extra_body_html:""}),[_,l]=s.useState({site_name:"TURP Clinical Trials",default_title:"TURP - Klinik AraÅŸtÄ±rma Platformu",default_description:"e-NabÄ±z entegrasyonu ile klinik araÅŸtÄ±rmalarda veri toplama platformu",default_og_image:"",default_language:"tr"}),r="/api",n=r.endsWith("/index.php")?r:`${r}/index.php`;s.useEffect(()=>{(async()=>{try{const B=await(await fetch(`${n}?action=get_settings`,{headers:{Authorization:`Bearer ${a}`,...D()}})).json();if(B.success&&B.data){if(B.data.analytics)try{const p=JSON.parse(B.data.analytics);C(b=>({...b,...p}))}catch{}if(B.data.global_seo)try{const p=JSON.parse(B.data.global_seo);l(b=>({...b,...p}))}catch{}}}catch(m){console.error("Settings fetch error:",m)}finally{N(!1)}})()},[a,r]);const h=async()=>{y(!0),S(null);try{const m=await(await fetch(`${n}?action=update_settings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify({analytics:JSON.stringify(f)})})).json();m.success?S({type:"success",text:"Analytics ayarlarÄ± kaydedildi."}):S({type:"error",text:m.error||"Kaydetme baÅŸarÄ±sÄ±z"})}catch{S({type:"error",text:"BaÄŸlantÄ± hatasÄ±"})}finally{y(!1)}},T=async()=>{y(!0),S(null);try{const m=await(await fetch(`${n}?action=update_settings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify({global_seo:JSON.stringify(_)})})).json();m.success?S({type:"success",text:"SEO ayarlarÄ± kaydedildi."}):S({type:"error",text:m.error||"Kaydetme baÅŸarÄ±sÄ±z"})}catch{S({type:"error",text:"BaÄŸlantÄ± hatasÄ±"})}finally{y(!1)}};return i?e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-12 text-center",children:[e.jsx(K,{className:"animate-spin mx-auto mb-2 text-slate-400",size:32}),e.jsx("p",{className:"text-slate-500",children:"Ayarlar yÃ¼kleniyor..."})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"flex border-b border-slate-200",children:[e.jsxs("button",{onClick:()=>t("analytics"),className:`flex-1 px-6 py-4 text-center font-medium transition-colors flex items-center justify-center gap-2 ${o==="analytics"?"bg-rose-50 text-rose-700 border-b-2 border-rose-500":"text-slate-500 hover:bg-slate-50"}`,children:[e.jsx(Et,{size:20}),"Analytics"]}),e.jsxs("button",{onClick:()=>t("seo"),className:`flex-1 px-6 py-4 text-center font-medium transition-colors flex items-center justify-center gap-2 ${o==="seo"?"bg-rose-50 text-rose-700 border-b-2 border-rose-500":"text-slate-500 hover:bg-slate-50"}`,children:[e.jsx(le,{size:20}),"SEO"]})]}),v&&e.jsxs("div",{className:`mx-6 mt-6 p-4 rounded-xl flex items-center gap-2 ${v.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[v.type==="success"?e.jsx(V,{size:18}):e.jsx(Ge,{size:18}),v.text]}),o==="analytics"&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex gap-3",children:[e.jsx(Ge,{className:"text-amber-600 flex-shrink-0",size:20}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:"UyarÄ±:"})," Sadece gÃ¼venilir kaynaklardan script ekleyin. YanlÄ±ÅŸ kod site gÃ¼venliÄŸini tehlikeye atabilir. KVKK/GDPR uyumluluÄŸuna dikkat edin."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Google Analytics Measurement ID"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:f.ga_measurement_id,onChange:g=>C({...f,ga_measurement_id:g.target.value}),placeholder:"G-XXXXXXXXXX"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Google Analytics 4 Ã¶lÃ§Ã¼m kimliÄŸi. Ã–rn: G-ABC123XYZ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Google Tag Manager ID (Opsiyonel)"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:f.gtm_id,onChange:g=>C({...f,gtm_id:g.target.value}),placeholder:"GTM-XXXXXXX"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ek Head HTML (Opsiyonel)"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none font-mono text-sm h-24",value:f.extra_head_html,onChange:g=>C({...f,extra_head_html:g.target.value}),placeholder:"<!-- Meta pikseller, chat widget'larÄ± vb. -->"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ek Body Sonu HTML (Opsiyonel)"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none font-mono text-sm h-24",value:f.extra_body_html,onChange:g=>C({...f,extra_body_html:g.target.value}),placeholder:"<!-- Body sonuna eklenecek scriptler -->"})]}),e.jsxs("button",{onClick:h,disabled:u,className:"px-6 py-3 bg-rose-600 text-white font-bold rounded-xl hover:bg-rose-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[u?e.jsx(K,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),u?"Kaydediliyor...":"Analytics AyarlarÄ±nÄ± Kaydet"]})]}),o==="seo"&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Site AdÄ±"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:_.site_name,onChange:g=>l({..._,site_name:g.target.value}),placeholder:"TURP Clinical Trials"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(ee,{size:14})," VarsayÄ±lan Dil"]}),e.jsxs("select",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none bg-white",value:_.default_language,onChange:g=>l({..._,default_language:g.target.value}),children:[e.jsx("option",{value:"tr",children:"TÃ¼rkÃ§e"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"zh",children:"ä¸­æ–‡"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"VarsayÄ±lan Sayfa BaÅŸlÄ±ÄŸÄ±"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:_.default_title,onChange:g=>l({..._,default_title:g.target.value}),placeholder:"TURP - Klinik AraÅŸtÄ±rma Platformu"}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[_.default_title.length,"/60 karakter (Ã¶nerilen: 50-60)"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"VarsayÄ±lan Meta AÃ§Ä±klama"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none h-24",value:_.default_description,onChange:g=>l({..._,default_description:g.target.value}),placeholder:"Site aÃ§Ä±klamasÄ±..."}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[_.default_description.length,"/160 karakter (Ã¶nerilen: 150-160)"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"VarsayÄ±lan OG Image URL"}),e.jsx("input",{type:"url",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:_.default_og_image,onChange:g=>l({..._,default_og_image:g.target.value}),placeholder:"https://ct.turp.health/og-image.jpg"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Sosyal medya paylaÅŸÄ±mlarÄ±nda gÃ¶rÃ¼necek gÃ¶rsel (1200x630px Ã¶nerilir)"})]}),e.jsxs("button",{onClick:T,disabled:u,className:"px-6 py-3 bg-rose-600 text-white font-bold rounded-xl hover:bg-rose-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[u?e.jsx(K,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),u?"Kaydediliyor...":"SEO AyarlarÄ±nÄ± Kaydet"]})]})]})})},_s=({token:a,onEdit:o,onCreate:t})=>{const[i,N]=s.useState([]),[u,y]=s.useState(!0),v=ae(),S=ue(),[f,C]=s.useState(""),_="/api",l=_.endsWith("/index.php")?_:`${_}/index.php`,r=async()=>{y(!0);try{const m=await(await fetch(`${l}?action=get_legal_docs_admin`,{headers:{Authorization:`Bearer ${a}`,...D()}})).json();m.success?N(m.data):v.error(m.error||"DokÃ¼man listesi alÄ±namadÄ±")}catch{v.error("BaÄŸlantÄ± hatasÄ±")}finally{y(!1)}};s.useEffect(()=>{r()},[]);const n=async g=>{if(await S({title:"DokÃ¼manÄ± Sil",message:"Bu dokÃ¼manÄ± silmek istediÄŸinize emin misiniz?",confirmLabel:"Sil",cancelLabel:"Ä°ptal",type:"danger"}))try{(await(await fetch(`${l}?action=delete_legal_doc`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify({id:g})})).json()).success?(N(i.filter(b=>b.id!==g)),v.success("DokÃ¼man baÅŸarÄ±yla silindi")):v.error("Silme hatasÄ±")}catch{v.error("BaÄŸlantÄ± hatasÄ±")}},h=async(g,m)=>{const B=i.find(p=>p.id===g);if(B)try{(await(await fetch(`${l}?action=save_legal_doc`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify({...B,is_active:!m})})).json()).success?(N(i.map(k=>k.id===g?{...k,is_active:m?0:1}:k)),v.success("Durum gÃ¼ncellendi")):v.error("GÃ¼ncelleme hatasÄ±")}catch{v.error("BaÄŸlantÄ± hatasÄ±")}},T=i.filter(g=>g.title_tr.toLowerCase().includes(f.toLowerCase())||g.key.toLowerCase().includes(f.toLowerCase()));return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 mb-1",children:[e.jsx(De,{className:"text-slate-900"})," Hukuki DokÃ¼manlar"]}),e.jsx("p",{className:"text-slate-500 text-sm",children:"SÃ¶zleÅŸme ve politikalarÄ± yÃ¶netin."})]}),e.jsxs("button",{type:"button",onClick:t,className:"bg-slate-900 text-white px-4 py-2 rounded-xl font-bold hover:bg-rose-600 transition-all flex items-center gap-2 shadow-lg shadow-rose-200",children:[e.jsx(X,{size:18})," Yeni DokÃ¼man"]})]}),e.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-100",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"BaÅŸlÄ±k veya key ara...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg outline-none focus:border-rose-500",value:f,onChange:g=>C(g.target.value)})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-white text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"BaÅŸlÄ±k / Key"}),e.jsx("th",{className:"p-4 w-32",children:"Etkin Tarih"}),e.jsx("th",{className:"p-4 w-24",children:"Aktif"}),e.jsx("th",{className:"p-4 w-20",children:"SÄ±ra"}),e.jsx("th",{className:"p-4 text-right w-32",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:u?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-400",children:e.jsx(K,{className:"animate-spin mx-auto"})})}):T.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"DokÃ¼man bulunamadÄ±."})}):T.map(g=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-medium text-slate-900",children:g.title_tr}),e.jsx("div",{className:"text-xs text-slate-400 font-mono mt-1",children:g.key})]}),e.jsx("td",{className:"p-4 text-sm text-slate-600",children:g.effective_date||"-"}),e.jsx("td",{className:"p-4",children:e.jsx("button",{onClick:()=>h(g.id,!!Number(g.is_active)),className:`p-2 rounded-lg transition-colors ${Number(g.is_active)?"bg-green-100 text-green-600":"bg-red-100 text-red-400"}`,children:Number(g.is_active)?e.jsx(te,{size:16}):e.jsx(ge,{size:16})})}),e.jsx("td",{className:"p-4 text-sm text-slate-500 font-mono",children:g.sort_order}),e.jsxs("td",{className:"p-4 text-right space-x-2",children:[e.jsx("button",{onClick:()=>o(g),className:"p-2 bg-white border border-slate-200 rounded-lg hover:border-cyan-500 hover:text-cyan-600 transition-all shadow-sm",children:e.jsx(Ce,{size:16})}),e.jsx("button",{onClick:()=>n(g.id),className:"p-2 bg-white border border-slate-200 rounded-lg hover:border-red-500 hover:text-red-600 transition-all shadow-sm",children:e.jsx(W,{size:16})})]})]},g.id))})]})})]})},ks=({token:a,doc:o,onCancel:t,onSave:i})=>{const[N,u]=s.useState(o?.key||""),[y,v]=s.useState(o?!!Number(o.is_active):!0),[S,f]=s.useState(o?.sort_order||0),[C,_]=s.useState(o?.effective_date||""),[l,r]=s.useState(o?.title_tr||""),[n,h]=s.useState(o?.content_tr||""),[T,g]=s.useState(o?.title_en||""),[m,B]=s.useState(o?.content_en||""),[p,b]=s.useState(o?.title_zh||""),[k,$]=s.useState(o?.content_zh||""),[L,x]=s.useState(!1),[c,P]=s.useState(!1),[E,d]=s.useState(null),[w,j]=s.useState(!1),O="/api",z=O.endsWith("/index.php")?O:`${O}/index.php`,A=!!o?.id,R=async()=>{if(!l.trim()||!n.trim()){d("Ã‡eviri iÃ§in Ã¶nce TÃ¼rkÃ§e baÅŸlÄ±k ve iÃ§erik girin.");return}P(!0),d(null),j(!1);try{const M=await(await fetch(`${z}?action=translate_legal`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify({title_tr:l,content_tr:n})})).json();M.success&&M.translations?(M.translations.en.success&&(g(M.translations.en.title),B(M.translations.en.content)),M.translations.zh.success&&(b(M.translations.zh.title),$(M.translations.zh.content)),j(!0),setTimeout(()=>j(!1),3e3)):d(M.error||"Ã‡eviri baÅŸarÄ±sÄ±z")}catch{d("Ã‡eviri baÄŸlantÄ± hatasÄ±")}finally{P(!1)}},I=async U=>{if(U.preventDefault(),d(null),!N.trim()||!l.trim()){d("Key ve TÃ¼rkÃ§e BaÅŸlÄ±k zorunludur.");return}x(!0);try{const M={key:N,title_tr:l,content_tr:n,title_en:T,content_en:m,title_zh:p,content_zh:k,is_active:y,sort_order:S,effective_date:C};A&&(M.id=o.id);const J=await(await fetch(`${z}?action=save_legal_doc`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify(M)})).json();J.success?i():d(J.error||"KayÄ±t baÅŸarÄ±sÄ±z")}catch{d("BaÄŸlantÄ± hatasÄ±")}finally{x(!1)}};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(re,{className:"text-slate-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:A?"DokÃ¼man DÃ¼zenle":"Yeni DokÃ¼man Ekle"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Hukuki metinleri ve Ã§evirilerini yÃ¶netin."})]})]})}),e.jsxs("form",{onSubmit:I,className:"p-8 max-w-5xl space-y-8",children:[E&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 text-red-700 rounded-xl font-medium",children:E}),w&&e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 text-green-700 rounded-xl font-medium flex items-center gap-2",children:[e.jsx(Oe,{size:18})," Ã‡eviriler baÅŸarÄ±yla oluÅŸturuldu!"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 bg-slate-50 p-6 rounded-xl border border-slate-100",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:["Key (Benzersiz ID) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none font-mono text-sm disabled:bg-slate-100 disabled:text-slate-500",value:N,onChange:U=>u(U.target.value.toLowerCase().replace(/\s+/g,"_")),placeholder:"terms_of_use",disabled:A&&!!o.key,required:!0}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"URL'de kullanÄ±lacak tanÄ±mlayÄ±cÄ± (Ã¶rn: privacy_policy)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(me,{size:14})," Etkin Tarih"]}),e.jsx("input",{type:"date",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:C,onChange:U=>_(U.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(pt,{size:14})," SÄ±ralama"]}),e.jsx("input",{type:"number",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:S,onChange:U=>f(Number(U.target.value))})]}),e.jsxs("div",{className:"md:col-span-3 flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"active",checked:y,onChange:U=>v(U.target.checked),className:"w-5 h-5 accent-green-500"}),e.jsxs("label",{htmlFor:"active",className:"flex items-center gap-2 cursor-pointer font-bold text-slate-700",children:[e.jsx(te,{size:18,className:"text-green-500"})," Aktif (YayÄ±nla)"]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-rose-50 p-6 rounded-xl border border-rose-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2 border-b border-rose-200 pb-2",children:[e.jsx(ee,{size:18,className:"text-rose-600"})," TÃ¼rkÃ§e (Ana Dil)"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"BaÅŸlÄ±k"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:l,onChange:U=>r(U.target.value),placeholder:"Ã–rn: KullanÄ±m KoÅŸullarÄ±"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ä°Ã§erik (Markdown/HTML)"}),e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Markdown formatÄ± destekler."}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none font-mono text-sm h-64",value:n,onChange:U=>h(U.target.value),placeholder:`# BaÅŸlÄ±k

Ä°Ã§erik...`})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"button",onClick:R,disabled:c||!l.trim()||!n.trim(),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold rounded-xl hover:from-purple-700 hover:to-blue-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:c?e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"animate-spin",size:20}),"Ã‡eviriliyor..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Fe,{size:20}),"ğŸ¤– AI ile Ã‡evir (EN + ZH)"]})})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2 border-b border-blue-200 pb-2",children:[e.jsx(ee,{size:18,className:"text-blue-600"})," English"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Title"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-blue-500 outline-none",value:T,onChange:U=>g(U.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Content"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-blue-500 outline-none font-mono text-sm h-64",value:m,onChange:U=>B(U.target.value)})]})]})]}),e.jsxs("div",{className:"bg-amber-50 p-6 rounded-xl border border-amber-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2 border-b border-amber-200 pb-2",children:[e.jsx(ee,{size:18,className:"text-amber-600"})," ä¸­æ–‡"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"æ ‡é¢˜"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-amber-500 outline-none",value:p,onChange:U=>b(U.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"å†…å®¹"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-amber-500 outline-none font-mono text-sm h-64",value:k,onChange:U=>$(U.target.value)})]})]})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-slate-100 flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Ä°ptal"}),e.jsxs("button",{type:"submit",disabled:L,className:"px-6 py-3 bg-rose-600 text-white font-bold rounded-xl hover:bg-rose-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[L?e.jsx(K,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),L?"Kaydediliyor...":"Kaydet"]})]})]})]})},ws=({onEdit:a})=>{const[o,t]=s.useState([]),[i,N]=s.useState(!0),[u,y]=s.useState("all"),v="/api",S=v.endsWith("/index.php")?v:`${v}/index.php`,f=async()=>{try{const n=localStorage.getItem("admin_token"),T=await(await fetch(`${S}?action=get_landing_configs_admin&language=${u}`,{headers:{Authorization:`Bearer ${n}`,...D()}})).json();T.success&&t(T.data)}catch(n){console.error("Fetch error:",n)}finally{N(!1)}};s.useEffect(()=>{f()},[u]);const C=async n=>{if(confirm("Bu yapÄ±landÄ±rmayÄ± kopyalamak istiyor musunuz?"))try{const h=localStorage.getItem("admin_token");(await(await fetch(`${S}?action=duplicate_landing_config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`,...D()},body:JSON.stringify({id:n})})).json()).success&&f()}catch(h){console.error("Duplicate error:",h)}},_=async n=>{if(confirm("Bu yapÄ±landÄ±rmayÄ± silmek istediÄŸinizden emin misiniz?"))try{const h=localStorage.getItem("admin_token");(await(await fetch(`${S}?action=delete_landing_config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`,...D()},body:JSON.stringify({id:n})})).json()).success&&f()}catch(h){console.error("Delete error:",h)}},l=async n=>{try{const h=localStorage.getItem("admin_token");(await(await fetch(`${S}?action=save_landing_config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`,...D()},body:JSON.stringify({...n,is_active:n.is_active?0:1})})).json()).success&&f()}catch(h){console.error("Toggle error:",h)}},r=n=>{switch(n){case"tr":return"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e";case"en":return"ğŸ‡¬ğŸ‡§ English";case"zh":return"ğŸ‡¨ğŸ‡³ ä¸­æ–‡";default:return n}};return i?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"YÃ¼kleniyor..."}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Landing Builder"}),e.jsx("p",{className:"text-slate-500",children:"Hero bÃ¶lÃ¼mÃ¼ yapÄ±landÄ±rmalarÄ±"})]}),e.jsxs("button",{onClick:()=>a(null),className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors",children:[e.jsx(X,{size:20}),"Yeni YapÄ±landÄ±rma"]})]}),e.jsx("div",{className:"mb-4 flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{size:18,className:"text-slate-400"}),e.jsxs("select",{value:u,onChange:n=>y(n.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg",children:[e.jsx("option",{value:"all",children:"TÃ¼m Diller"}),e.jsx("option",{value:"tr",children:"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e"}),e.jsx("option",{value:"en",children:"ğŸ‡¬ğŸ‡§ English"}),e.jsx("option",{value:"zh",children:"ğŸ‡¨ğŸ‡³ ä¸­æ–‡"})]})]})}),o.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"HenÃ¼z yapÄ±landÄ±rma bulunamadÄ±."}):e.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-600",children:"Dil"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-600",children:"BaÅŸlÄ±k"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-slate-600",children:"Aktif"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-600",children:"GÃ¼ncellenme"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-600",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{children:o.map(n=>e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm",children:r(n.language)})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm font-medium text-slate-800 line-clamp-1",children:n.hero_title})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("button",{onClick:()=>l(n),className:`p-1 rounded-full ${n.is_active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:n.is_active?e.jsx(he,{size:16}):e.jsx(ie,{size:16})})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-slate-500",children:new Date(n.updated_at).toLocaleDateString("tr-TR")})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>a(n.id),className:"p-2 text-slate-500 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-colors",title:"DÃ¼zenle",children:e.jsx(_e,{size:16})}),e.jsx("button",{onClick:()=>C(n.id),className:"p-2 text-slate-500 hover:text-blue-500 hover:bg-blue-50 rounded-lg transition-colors",title:"Kopyala",children:e.jsx(Re,{size:16})}),e.jsx("button",{onClick:()=>_(n.id),className:"p-2 text-slate-500 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Sil",children:e.jsx(W,{size:16})})]})})]},n.id))})]})})]})},st={language:"tr",hero_title:"",hero_title_line1:"",hero_title_line2:"",hero_subtitle:"",hero_badge:"",primary_cta_label:"",primary_cta_url:"",secondary_cta_label:"",secondary_cta_url:"",hero_image_url:"",background_style:"default",is_active:!0,hero_line1_use_gradient_text:!1,hero_line1_solid_color:"#FFFFFF",hero_line1_gradient_from:"#4F46E5",hero_line1_gradient_to:"#22C55E",hero_line1_gradient_angle:90,hero_line2_use_gradient_text:!0,hero_line2_solid_color:"#EC4899",hero_line2_gradient_from:"#EC4899",hero_line2_gradient_to:"#8B5CF6",hero_line2_gradient_angle:90,hero_use_gradient_background:!1,hero_gradient_bg_from:"#1E293B",hero_gradient_bg_to:"#0F172A",hero_gradient_bg_angle:180},Ss=({editId:a,onBack:o})=>{const[t,i]=s.useState(st),[N,u]=s.useState(!1),[y,v]=s.useState(!1),[S,f]=s.useState(!1),[C,_]=s.useState(!1),l="/api",r=l.endsWith("/index.php")?l:`${l}/index.php`;s.useEffect(()=>{a&&n()},[a]);const n=async()=>{u(!0);try{const m=localStorage.getItem("admin_token"),p=await(await fetch(`${r}?action=get_landing_config_detail&id=${a}`,{headers:{Authorization:`Bearer ${m}`,...D()}})).json();p.success&&p.data&&i({...st,...p.data,is_active:!!p.data.is_active,hero_use_gradient_text:!!p.data.hero_use_gradient_text,hero_use_gradient_background:!!p.data.hero_use_gradient_background})}catch(m){console.error("Fetch error:",m)}finally{u(!1)}},h=async()=>{if(!t.hero_title.trim()){alert("Hero baÅŸlÄ±ÄŸÄ± zorunludur.");return}v(!0);try{const m=localStorage.getItem("admin_token"),p=await(await fetch(`${r}?action=save_landing_config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`,...D()},body:JSON.stringify({...t,id:a})})).json();p.success?o():alert(p.error||"KayÄ±t baÅŸarÄ±sÄ±z")}catch(m){console.error("Save error:",m),alert("Bir hata oluÅŸtu")}finally{v(!1)}},T=async()=>{const m=prompt("MarkanÄ±zÄ± veya Ã¼rÃ¼nÃ¼nÃ¼zÃ¼ kÄ±saca tanÄ±mlayÄ±n:");if(m){f(!0);try{const B=localStorage.getItem("admin_token"),b=await(await fetch(`${r}?action=translate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B}`,...D()},body:JSON.stringify({text:`Bu tanÄ±ma gÃ¶re etkileyici bir hero baÅŸlÄ±ÄŸÄ± ve alt baÅŸlÄ±k Ã¶ner (JSON formatÄ±nda title ve subtitle olarak dÃ¶ndÃ¼r): ${m}`,target_language:t.language==="en"?"English":t.language==="zh"?"Chinese":"Turkish"})})).json();if(b.translated_text)try{const k=JSON.parse(b.translated_text);k.title&&i($=>({...$,hero_title:k.title})),k.subtitle&&i($=>({...$,hero_subtitle:k.subtitle}))}catch{i(k=>({...k,hero_title:b.translated_text}))}}catch(B){console.error("AI error:",B)}finally{f(!1)}}},g=()=>{switch(t.background_style){case"light":return"bg-slate-100";case"dark":return"bg-slate-900 text-white";case"gradient":return"bg-gradient-to-br from-rose-600 to-purple-700 text-white";default:return"bg-white"}};return N?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"YÃ¼kleniyor..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:o,className:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-lg",children:e.jsx(re,{size:20})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:a?"YapÄ±landÄ±rmayÄ± DÃ¼zenle":"Yeni YapÄ±landÄ±rma"}),e.jsx("p",{className:"text-slate-500",children:"Hero bÃ¶lÃ¼mÃ¼ ayarlarÄ±"})]})]}),e.jsxs("button",{onClick:h,disabled:y,className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors disabled:opacity-50",children:[e.jsx(Z,{size:20}),y?"Kaydediliyor...":"Kaydet"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Genel Ayarlar"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Dil"}),e.jsxs("select",{value:t.language,onChange:m=>i({...t,language:m.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg",children:[e.jsx("option",{value:"tr",children:"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e"}),e.jsx("option",{value:"en",children:"ğŸ‡¬ğŸ‡§ English"}),e.jsx("option",{value:"zh",children:"ğŸ‡¨ğŸ‡³ ä¸­æ–‡"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Arka Plan"}),e.jsxs("select",{value:t.background_style,onChange:m=>i({...t,background_style:m.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg",children:[e.jsx("option",{value:"default",children:"VarsayÄ±lan"}),e.jsx("option",{value:"light",children:"AÃ§Ä±k"}),e.jsx("option",{value:"dark",children:"Koyu"}),e.jsx("option",{value:"gradient",children:"Gradient"})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t.is_active,onChange:m=>i({...t,is_active:m.target.checked}),className:"w-4 h-4 text-rose-500 rounded"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Aktif (Bu dil iÃ§in ana yapÄ±landÄ±rma olarak kullan)"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-slate-800",children:"Hero Ä°Ã§erik"}),e.jsxs("button",{onClick:T,disabled:S,className:"flex items-center gap-1 px-3 py-1.5 text-sm text-purple-600 hover:bg-purple-50 rounded-lg transition-colors disabled:opacity-50",children:[e.jsx(Oe,{size:16}),S?"DÃ¼ÅŸÃ¼nÃ¼yor...":"AI Ã–ner"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Badge (Ãœst Etiket)"}),e.jsx("input",{type:"text",value:t.hero_badge,onChange:m=>i({...t,hero_badge:m.target.value}),placeholder:"Ã–rn: USBS OnaylÄ± & e-NabÄ±z Entegreli",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"BaÅŸlÄ±k - SatÄ±r 1 *"}),e.jsx("input",{type:"text",value:t.hero_title_line1,onChange:m=>i({...t,hero_title_line1:m.target.value,hero_title:m.target.value}),placeholder:"Ana baÅŸlÄ±k - birinci satÄ±r",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"BaÅŸlÄ±k - SatÄ±r 2"}),e.jsx("input",{type:"text",value:t.hero_title_line2,onChange:m=>i({...t,hero_title_line2:m.target.value}),placeholder:"Ana baÅŸlÄ±k - ikinci satÄ±r (opsiyonel)",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Alt BaÅŸlÄ±k"}),e.jsx("textarea",{value:t.hero_subtitle,onChange:m=>i({...t,hero_subtitle:m.target.value}),placeholder:"AÃ§Ä±klama metni",rows:3,className:"w-full px-3 py-2 border border-slate-200 rounded-lg resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Hero GÃ¶rsel URL"}),e.jsx("input",{type:"text",value:t.hero_image_url,onChange:m=>i({...t,hero_image_url:m.target.value}),placeholder:"/images/hero.jpg",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"}),e.jsxs("button",{type:"button",onClick:()=>_(!0),className:"mt-2 w-full flex items-center justify-center gap-2 px-4 py-2 text-sm text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors",children:[e.jsx(Ne,{size:16}),"Medya KÃ¼tÃ¼phanesinden SeÃ§"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"CTA ButonlarÄ±"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Birincil Buton Metni"}),e.jsx("input",{type:"text",value:t.primary_cta_label,onChange:m=>i({...t,primary_cta_label:m.target.value}),placeholder:"Demo Talep Et",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Birincil Buton URL"}),e.jsx("input",{type:"text",value:t.primary_cta_url,onChange:m=>i({...t,primary_cta_url:m.target.value}),placeholder:"#contact",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Ä°kincil Buton Metni"}),e.jsx("input",{type:"text",value:t.secondary_cta_label,onChange:m=>i({...t,secondary_cta_label:m.target.value}),placeholder:"Daha Fazla Bilgi",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Ä°kincil Buton URL"}),e.jsx("input",{type:"text",value:t.secondary_cta_url,onChange:m=>i({...t,secondary_cta_url:m.target.value}),placeholder:"#features",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-slate-800",children:"Stil AyarlarÄ±"}),e.jsxs("button",{onClick:()=>i({...t,hero_line1_use_gradient_text:!1,hero_line1_solid_color:"#FFFFFF",hero_line1_gradient_from:"#4F46E5",hero_line1_gradient_to:"#22C55E",hero_line1_gradient_angle:90,hero_line2_use_gradient_text:!0,hero_line2_solid_color:"#EC4899",hero_line2_gradient_from:"#EC4899",hero_line2_gradient_to:"#8B5CF6",hero_line2_gradient_angle:90,hero_use_gradient_background:!1,hero_gradient_bg_from:"#1E293B",hero_gradient_bg_to:"#0F172A",hero_gradient_bg_angle:180}),className:"flex items-center gap-1 px-3 py-1.5 text-sm text-slate-500 hover:bg-slate-50 rounded-lg transition-colors",children:[e.jsx(gt,{size:14}),"VarsayÄ±lana DÃ¶n"]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-slate-700 mb-3",children:"SatÄ±r 1 Stili"}),e.jsxs("label",{className:"flex items-center gap-2 mb-3",children:[e.jsx("input",{type:"checkbox",checked:t.hero_line1_use_gradient_text,onChange:m=>i({...t,hero_line1_use_gradient_text:m.target.checked}),className:"w-4 h-4 text-rose-500 rounded"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Gradient Kullan"})]}),t.hero_line1_use_gradient_text?e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"BaÅŸlangÄ±Ã§"}),e.jsx("input",{type:"color",value:t.hero_line1_gradient_from,onChange:m=>i({...t,hero_line1_gradient_from:m.target.value}),className:"w-full h-10 rounded border border-slate-200 cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"BitiÅŸ"}),e.jsx("input",{type:"color",value:t.hero_line1_gradient_to,onChange:m=>i({...t,hero_line1_gradient_to:m.target.value}),className:"w-full h-10 rounded border border-slate-200 cursor-pointer"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-slate-500 mb-1",children:["AÃ§Ä± (",t.hero_line1_gradient_angle,"Â°)"]}),e.jsx("input",{type:"range",min:"0",max:"360",value:t.hero_line1_gradient_angle,onChange:m=>i({...t,hero_line1_gradient_angle:parseInt(m.target.value)}),className:"w-full h-10"})]})]}):e.jsxs("div",{className:"max-w-[150px]",children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"DÃ¼z Renk"}),e.jsx("input",{type:"color",value:t.hero_line1_solid_color,onChange:m=>i({...t,hero_line1_solid_color:m.target.value}),className:"w-full h-10 rounded border border-slate-200 cursor-pointer"})]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-slate-700 mb-3",children:"SatÄ±r 2 Stili"}),e.jsxs("label",{className:"flex items-center gap-2 mb-3",children:[e.jsx("input",{type:"checkbox",checked:t.hero_line2_use_gradient_text,onChange:m=>i({...t,hero_line2_use_gradient_text:m.target.checked}),className:"w-4 h-4 text-rose-500 rounded"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Gradient Kullan"})]}),t.hero_line2_use_gradient_text?e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"BaÅŸlangÄ±Ã§"}),e.jsx("input",{type:"color",value:t.hero_line2_gradient_from,onChange:m=>i({...t,hero_line2_gradient_from:m.target.value}),className:"w-full h-10 rounded border border-slate-200 cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"BitiÅŸ"}),e.jsx("input",{type:"color",value:t.hero_line2_gradient_to,onChange:m=>i({...t,hero_line2_gradient_to:m.target.value}),className:"w-full h-10 rounded border border-slate-200 cursor-pointer"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-slate-500 mb-1",children:["AÃ§Ä± (",t.hero_line2_gradient_angle,"Â°)"]}),e.jsx("input",{type:"range",min:"0",max:"360",value:t.hero_line2_gradient_angle,onChange:m=>i({...t,hero_line2_gradient_angle:parseInt(m.target.value)}),className:"w-full h-10"})]})]}):e.jsxs("div",{className:"max-w-[150px]",children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"DÃ¼z Renk"}),e.jsx("input",{type:"color",value:t.hero_line2_solid_color,onChange:m=>i({...t,hero_line2_solid_color:m.target.value}),className:"w-full h-10 rounded border border-slate-200 cursor-pointer"})]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[e.jsxs("label",{className:"flex items-center gap-2 mb-3",children:[e.jsx("input",{type:"checkbox",checked:t.hero_use_gradient_background,onChange:m=>i({...t,hero_use_gradient_background:m.target.checked}),className:"w-4 h-4 text-rose-500 rounded"}),e.jsx("span",{className:"font-medium text-slate-700",children:"Gradient Arka Plan"})]}),t.hero_use_gradient_background&&e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"BaÅŸlangÄ±Ã§"}),e.jsx("input",{type:"color",value:t.hero_gradient_bg_from,onChange:m=>i({...t,hero_gradient_bg_from:m.target.value}),className:"w-full h-10 rounded border border-slate-200 cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"BitiÅŸ"}),e.jsx("input",{type:"color",value:t.hero_gradient_bg_to,onChange:m=>i({...t,hero_gradient_bg_to:m.target.value}),className:"w-full h-10 rounded border border-slate-200 cursor-pointer"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-slate-500 mb-1",children:["AÃ§Ä± (",t.hero_gradient_bg_angle,"Â°)"]}),e.jsx("input",{type:"range",min:"0",max:"360",value:t.hero_gradient_bg_angle,onChange:m=>i({...t,hero_gradient_bg_angle:parseInt(m.target.value)}),className:"w-full h-10"})]})]})]})]})]}),e.jsx("div",{className:"lg:sticky lg:top-6 h-fit",children:e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-200",children:e.jsx("h3",{className:"font-semibold text-slate-800",children:"Ã–nizleme"})}),e.jsxs("div",{className:`p-8 min-h-[400px] ${g()}`,style:t.hero_use_gradient_background?{background:`linear-gradient(${t.hero_gradient_bg_angle}deg, ${t.hero_gradient_bg_from}, ${t.hero_gradient_bg_to})`,color:"white"}:void 0,children:[t.hero_badge&&e.jsx("div",{className:"inline-block px-3 py-1 bg-white/20 backdrop-blur-sm rounded-full text-sm mb-4 border border-white/30",children:t.hero_badge}),e.jsxs("h1",{className:"text-3xl font-bold mb-4 leading-tight",children:[e.jsx("span",{style:t.hero_line1_use_gradient_text?{background:`linear-gradient(${t.hero_line1_gradient_angle}deg, ${t.hero_line1_gradient_from}, ${t.hero_line1_gradient_to})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}:{color:t.hero_line1_solid_color},children:t.hero_title_line1||"Hero BaÅŸlÄ±ÄŸÄ± - SatÄ±r 1"}),t.hero_title_line2&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("span",{style:t.hero_line2_use_gradient_text?{background:`linear-gradient(${t.hero_line2_gradient_angle}deg, ${t.hero_line2_gradient_from}, ${t.hero_line2_gradient_to})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}:{color:t.hero_line2_solid_color},children:t.hero_title_line2})]})]}),e.jsx("p",{className:"text-lg opacity-80 mb-6",children:t.hero_subtitle||"Alt baÅŸlÄ±k buraya gelecek"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.primary_cta_label&&e.jsx("button",{className:"px-4 py-2 bg-rose-500 text-white rounded-lg text-sm",children:t.primary_cta_label}),t.secondary_cta_label&&e.jsx("button",{className:"px-4 py-2 border border-current rounded-lg text-sm",children:t.secondary_cta_label})]})]})]})})]})]}),e.jsx(we,{isOpen:C,onClose:()=>_(!1),onSelect:m=>{i({...t,hero_image_url:m.url}),_(!1)}})]})},zs=({onEdit:a})=>{const[o,t]=s.useState([]),[i,N]=s.useState(!0),[u,y]=s.useState("all"),v="/api",S=async()=>{try{const l=localStorage.getItem("admin_token"),n=await(await fetch(`${v}/index.php?action=get_contact_configs_admin&language=${u}`,{headers:{Authorization:`Bearer ${l}`,...D()}})).json();n.success&&t(n.data)}catch(l){console.error("Fetch error:",l)}finally{N(!1)}};s.useEffect(()=>{S()},[u]);const f=async l=>{if(confirm("Bu yapÄ±landÄ±rmayÄ± silmek istediÄŸinizden emin misiniz?"))try{const r=localStorage.getItem("admin_token");(await(await fetch(`${v}/index.php?action=delete_contact_config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,...D()},body:JSON.stringify({id:l})})).json()).success&&S()}catch(r){console.error("Delete error:",r)}},C=async l=>{try{const r=localStorage.getItem("admin_token");(await(await fetch(`${v}/index.php?action=save_contact_config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,...D()},body:JSON.stringify({...l,is_active:l.is_active?0:1})})).json()).success&&S()}catch(r){console.error("Toggle error:",r)}},_=l=>{switch(l){case"tr":return"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e";case"en":return"ğŸ‡¬ğŸ‡§ English";case"zh":return"ğŸ‡¨ğŸ‡³ ä¸­æ–‡";default:return l}};return i?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"YÃ¼kleniyor..."}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Ä°letiÅŸim AyarlarÄ±"}),e.jsx("p",{className:"text-slate-500",children:"Ä°letiÅŸim sayfasÄ± yapÄ±landÄ±rmalarÄ±"})]}),e.jsxs("button",{onClick:()=>a(null),className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors",children:[e.jsx(X,{size:20}),"Yeni YapÄ±landÄ±rma"]})]}),e.jsx("div",{className:"mb-4 flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{size:18,className:"text-slate-400"}),e.jsxs("select",{value:u,onChange:l=>y(l.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg",children:[e.jsx("option",{value:"all",children:"TÃ¼m Diller"}),e.jsx("option",{value:"tr",children:"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e"}),e.jsx("option",{value:"en",children:"ğŸ‡¬ğŸ‡§ English"}),e.jsx("option",{value:"zh",children:"ğŸ‡¨ğŸ‡³ ä¸­æ–‡"})]})]})}),o.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"HenÃ¼z yapÄ±landÄ±rma bulunamadÄ±."}):e.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-600",children:"Dil"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-600",children:"BaÅŸlÄ±k"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-600",children:"Åehir"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-slate-600",children:"Aktif"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-600",children:"GÃ¼ncellenme"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-600",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{children:o.map(l=>e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm",children:_(l.language)})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm font-medium text-slate-800 line-clamp-1",children:l.contact_title})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-slate-600",children:l.city||"-"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("button",{onClick:()=>C(l),className:`p-1 rounded-full ${l.is_active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:l.is_active?e.jsx(he,{size:16}):e.jsx(ie,{size:16})})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-slate-500",children:new Date(l.updated_at).toLocaleDateString("tr-TR")})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>a(l.id),className:"p-2 text-slate-500 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-colors",title:"DÃ¼zenle",children:e.jsx(_e,{size:16})}),e.jsx("button",{onClick:()=>f(l.id),className:"p-2 text-slate-500 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Sil",children:e.jsx(W,{size:16})})]})})]},l.id))})]})})]})},Cs={language:"tr",contact_title:"",contact_subtitle:"",address_line1:"",address_line2:"",city:"",country:"",phone:"",email:"",map_embed_url:"",working_hours:"",form_enabled:!0,notification_email:"",success_message:"MesajÄ±nÄ±z baÅŸarÄ±yla iletildi.",error_message:"Bir hata oluÅŸtu, lÃ¼tfen tekrar deneyin.",is_active:!0},As=({editId:a,onBack:o})=>{const[t,i]=s.useState(Cs),[N,u]=s.useState(!1),[y,v]=s.useState(!1),S="/api",f=S.endsWith("/index.php")?S:`${S}/index.php`;s.useEffect(()=>{a&&C()},[a]);const C=async()=>{u(!0);try{const l=localStorage.getItem("admin_token"),n=await(await fetch(`${f}?action=get_contact_config_detail&id=${a}`,{headers:{Authorization:`Bearer ${l}`,...D()}})).json();n.success&&n.data&&i({...n.data,form_enabled:!!n.data.form_enabled,is_active:!!n.data.is_active})}catch(l){console.error("Fetch error:",l)}finally{u(!1)}},_=async()=>{if(!t.contact_title.trim()){alert("Ä°letiÅŸim baÅŸlÄ±ÄŸÄ± zorunludur.");return}v(!0);try{const l=localStorage.getItem("admin_token"),n=await(await fetch(`${f}?action=save_contact_config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`,...D()},body:JSON.stringify({...t,id:a})})).json();n.success?o():alert(n.error||"KayÄ±t baÅŸarÄ±sÄ±z")}catch(l){console.error("Save error:",l),alert("Bir hata oluÅŸtu")}finally{v(!1)}};return N?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"YÃ¼kleniyor..."}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:o,className:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-lg",children:e.jsx(re,{size:20})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:a?"YapÄ±landÄ±rmayÄ± DÃ¼zenle":"Yeni YapÄ±landÄ±rma"}),e.jsx("p",{className:"text-slate-500",children:"Ä°letiÅŸim bÃ¶lÃ¼mÃ¼ ayarlarÄ±"})]})]}),e.jsxs("button",{onClick:_,disabled:y,className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors disabled:opacity-50",children:[e.jsx(Z,{size:20}),y?"Kaydediliyor...":"Kaydet"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Genel Ayarlar"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Dil"}),e.jsxs("select",{value:t.language,onChange:l=>i({...t,language:l.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg",children:[e.jsx("option",{value:"tr",children:"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e"}),e.jsx("option",{value:"en",children:"ğŸ‡¬ğŸ‡§ English"}),e.jsx("option",{value:"zh",children:"ğŸ‡¨ğŸ‡³ ä¸­æ–‡"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t.is_active,onChange:l=>i({...t,is_active:l.target.checked}),className:"w-4 h-4 text-rose-500 rounded"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Aktif"})]})})]}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"BaÅŸlÄ±k *"}),e.jsx("input",{type:"text",value:t.contact_title,onChange:l=>i({...t,contact_title:l.target.value}),placeholder:"Bize UlaÅŸÄ±n",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Alt BaÅŸlÄ±k"}),e.jsx("textarea",{value:t.contact_subtitle,onChange:l=>i({...t,contact_subtitle:l.target.value}),placeholder:"SorularÄ±nÄ±z iÃ§in bizimle iletiÅŸime geÃ§in.",rows:2,className:"w-full px-3 py-2 border border-slate-200 rounded-lg resize-none"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Ä°letiÅŸim Bilgileri"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Adres SatÄ±rÄ± 1"}),e.jsx("input",{type:"text",value:t.address_line1,onChange:l=>i({...t,address_line1:l.target.value}),placeholder:"Cyberpark Teknokent",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Adres SatÄ±rÄ± 2"}),e.jsx("input",{type:"text",value:t.address_line2,onChange:l=>i({...t,address_line2:l.target.value}),placeholder:"A Blok No: 123",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Åehir"}),e.jsx("input",{type:"text",value:t.city,onChange:l=>i({...t,city:l.target.value}),placeholder:"Ankara",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Ãœlke"}),e.jsx("input",{type:"text",value:t.country,onChange:l=>i({...t,country:l.target.value}),placeholder:"TÃ¼rkiye",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Telefon"}),e.jsx("input",{type:"text",value:t.phone,onChange:l=>i({...t,phone:l.target.value}),placeholder:"+90 312 XXX XX XX",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"E-posta"}),e.jsx("input",{type:"email",value:t.email,onChange:l=>i({...t,email:l.target.value}),placeholder:"info@example.com",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Ã‡alÄ±ÅŸma Saatleri"}),e.jsx("input",{type:"text",value:t.working_hours,onChange:l=>i({...t,working_hours:l.target.value}),placeholder:"Pzt-Cum: 09:00 - 18:00",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Harita"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Google Maps Embed URL"}),e.jsx("input",{type:"text",value:t.map_embed_url,onChange:l=>i({...t,map_embed_url:l.target.value}),placeholder:"https://www.google.com/maps/embed?pb=...",className:`w-full px-3 py-2 border rounded-lg ${t.map_embed_url&&!t.map_embed_url.includes("google.com/maps/embed")?"border-amber-400 bg-amber-50":"border-slate-200"}`}),t.map_embed_url&&!t.map_embed_url.includes("google.com/maps/embed")&&e.jsx("p",{className:"text-xs text-amber-600 mt-1 font-medium",children:"âš ï¸ URL doÄŸru formatta deÄŸil! KÄ±saltÄ±lmÄ±ÅŸ linkler (maps.app.goo.gl) Ã§alÄ±ÅŸmaz."}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[`Google Maps'te konumu aÃ§Ä±n â†’ "PaylaÅŸ" â†’ "HaritayÄ± yerleÅŸtir" â†’ iframe kodundaki `,e.jsx("code",{className:"bg-slate-100 px-1 rounded",children:'src="..."'})," deÄŸerini kopyalayÄ±n."]}),e.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-800 mb-2",children:"ğŸ“ Harita URL'si NasÄ±l AlÄ±nÄ±r?"}),e.jsxs("ol",{className:"text-xs text-blue-700 space-y-1 list-decimal list-inside",children:[e.jsx("li",{children:"Google Maps'te konumunuzu aÃ§Ä±n"}),e.jsxs("li",{children:[e.jsx("strong",{children:'"PaylaÅŸ"'})," butonuna tÄ±klayÄ±n"]}),e.jsxs("li",{children:[e.jsx("strong",{children:'"HaritayÄ± yerleÅŸtir"'})," (Embed a map) sekmesine geÃ§in"]}),e.jsxs("li",{children:[`"HTML'yi kopyala" yerine, `,e.jsx("code",{className:"bg-white/50 px-1 rounded",children:'src="..."'})," iÃ§indeki URL'yi kopyalayÄ±n"]}),e.jsxs("li",{children:["URL ÅŸÃ¶yle gÃ¶rÃ¼nmeli: ",e.jsx("code",{className:"bg-white/50 px-1 rounded text-[10px]",children:"https://www.google.com/maps/embed?pb=!1m18..."})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Form AyarlarÄ±"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t.form_enabled,onChange:l=>i({...t,form_enabled:l.target.checked}),className:"w-4 h-4 text-rose-500 rounded"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Ä°letiÅŸim Formunu EtkinleÅŸtir"})]}),t.form_enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Bildirim E-postasÄ±"}),e.jsx("input",{type:"email",value:t.notification_email,onChange:l=>i({...t,notification_email:l.target.value}),placeholder:"admin@example.com",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Form gÃ¶nderimlerinin iletileceÄŸi e-posta adresi."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"BaÅŸarÄ± MesajÄ±"}),e.jsx("input",{type:"text",value:t.success_message,onChange:l=>i({...t,success_message:l.target.value}),placeholder:"MesajÄ±nÄ±z baÅŸarÄ±yla iletildi.",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Hata MesajÄ±"}),e.jsx("input",{type:"text",value:t.error_message,onChange:l=>i({...t,error_message:l.target.value}),placeholder:"Bir hata oluÅŸtu, lÃ¼tfen tekrar deneyin.",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]})]})]})]})]}),e.jsx("div",{className:"lg:sticky lg:top-6 h-fit",children:e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-200",children:e.jsx("h3",{className:"font-semibold text-slate-800",children:"Ã–nizleme"})}),e.jsxs("div",{className:"p-6 bg-slate-900 text-white min-h-[500px]",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:t.contact_title||"Ä°letiÅŸim BaÅŸlÄ±ÄŸÄ±"}),e.jsx("p",{className:"text-slate-400 text-sm mb-6",children:t.contact_subtitle||"Alt baÅŸlÄ±k buraya gelecek"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[(t.address_line1||t.city)&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(dt,{size:18,className:"text-rose-400 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{children:t.address_line1||"Adres"}),t.address_line2&&e.jsx("div",{children:t.address_line2}),e.jsxs("div",{children:[t.city,t.country&&`, ${t.country}`]})]})]}),t.phone&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{size:18,className:"text-rose-400"}),e.jsx("span",{className:"text-sm",children:t.phone})]}),t.email&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ne,{size:18,className:"text-rose-400"}),e.jsx("span",{className:"text-sm",children:t.email})]}),t.working_hours&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ve,{size:18,className:"text-rose-400"}),e.jsx("span",{className:"text-sm",children:t.working_hours})]})]}),t.form_enabled&&e.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-10 bg-white/20 rounded"}),e.jsx("div",{className:"h-10 bg-white/20 rounded"}),e.jsx("div",{className:"h-20 bg-white/20 rounded"}),e.jsx("button",{className:"w-full py-2 bg-rose-500 text-white rounded-lg text-sm",children:"GÃ¶nder"})]})}),t.map_embed_url&&e.jsx("div",{className:"mt-4 bg-slate-700 rounded-lg h-32 flex items-center justify-center text-slate-400 text-sm",children:"ğŸ—ºï¸ Harita Ã¶nizlemesi"})]})]})})]})]})},Ts=({onBack:a})=>{const[o,t]=s.useState([]),[i,N]=s.useState(!0),[u,y]=s.useState({total:0,page:1,limit:24,pages:0}),[v,S]=s.useState(""),[f,C]=s.useState(""),[_,l]=s.useState([]),[r,n]=s.useState(null),[h,T]=s.useState(!1),[g,m]=s.useState(!1),[B,p]=s.useState(null),b="/api",k=b.endsWith("/index.php")?b:`${b}/index.php`,$=s.useCallback(async()=>{N(!0);try{const j=localStorage.getItem("admin_token"),O=new URLSearchParams({page:u.page.toString(),limit:u.limit.toString()});v&&O.append("search",v),f&&O.append("category",f);const A=await(await fetch(`${k}?action=get_media_list&${O}`,{headers:{Authorization:`Bearer ${j}`,...D()}})).json();A.success&&(t(A.data),y(A.pagination))}catch(j){console.error("Failed to fetch media:",j)}finally{N(!1)}},[b,u.page,v,f]),L=async()=>{try{const j=localStorage.getItem("admin_token"),z=await(await fetch(`${k}?action=get_media_categories`,{headers:{Authorization:`Bearer ${j}`,...D()}})).json();z.success&&l(z.data)}catch(j){console.error("Failed to fetch categories:",j)}};s.useEffect(()=>{$(),L()},[$]);const x=async j=>{if(!j||j.length===0)return;T(!0);const O=new FormData;Array.from(j).forEach(z=>{O.append("files[]",z)});try{const z=localStorage.getItem("admin_token"),R=await(await fetch(`${k}?action=upload_media`,{method:"POST",headers:{Authorization:`Bearer ${z}`,...D()},body:O})).json();R.success?($(),L()):alert(R.errors?.map(I=>I.error).join(`
`)||"Upload failed")}catch(z){console.error("Upload failed:",z)}finally{T(!1)}},c=async j=>{if(confirm("Bu gÃ¶rseli silmek istediÄŸinize emin misiniz?"))try{const O=localStorage.getItem("admin_token");(await(await fetch(`${k}?action=delete_media`,{method:"POST",headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json",...D()},body:JSON.stringify({id:j})})).json()).success&&(t(R=>R.filter(I=>I.id!==j)),n(null))}catch(O){console.error("Delete failed:",O)}},P=async j=>{try{const O=localStorage.getItem("admin_token");(await(await fetch(`${k}?action=update_media`,{method:"POST",headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json",...D()},body:JSON.stringify({id:j.id,title:j.title,alt_text:j.alt_text,category:j.category,tags:j.tags})})).json()).success&&(t(R=>R.map(I=>I.id===j.id?j:I)),L())}catch(O){console.error("Update failed:",O)}},E=j=>{navigator.clipboard.writeText(window.location.origin+j.url),p(j.id),setTimeout(()=>p(null),2e3)},d=j=>j<1024?j+" B":j<1024*1024?(j/1024).toFixed(1)+" KB":(j/(1024*1024)).toFixed(1)+" MB",w=j=>{j.preventDefault(),m(!1),x(j.dataTransfer.files)};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx("div",{className:"sticky top-0 z-30 bg-white border-b border-slate-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[a&&e.jsx("button",{onClick:a,className:"p-2 hover:bg-slate-100 rounded-lg",children:e.jsx(re,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Medya KÃ¼tÃ¼phanesi"}),e.jsxs("p",{className:"text-sm text-slate-500",children:[u.total," gÃ¶rsel"]})]})]}),e.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 cursor-pointer transition-colors",children:[e.jsx(jt,{size:18}),"GÃ¶rsel YÃ¼kle",e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:j=>x(j.target.files)})]})]})}),e.jsx("div",{className:"px-6 py-4 bg-white border-b border-slate-200",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(le,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Ara (dosya adÄ±, baÅŸlÄ±k, etiket)...",value:v,onChange:j=>S(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),e.jsxs("select",{value:f,onChange:j=>C(j.target.value),className:"px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500",children:[e.jsx("option",{value:"",children:"TÃ¼m Kategoriler"}),_.map(j=>e.jsx("option",{value:j,children:j},j))]})]})}),e.jsx("div",{onDragOver:j=>{j.preventDefault(),m(!0)},onDragLeave:()=>m(!1),onDrop:w,className:`mx-6 mt-4 border-2 border-dashed rounded-xl p-8 text-center transition-colors ${g?"border-rose-500 bg-rose-50":"border-slate-200 bg-white"}`,children:h?e.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-500",children:[e.jsx(K,{className:"animate-spin",size:24}),"YÃ¼kleniyor..."]}):e.jsxs("div",{className:"text-slate-500",children:[e.jsx(ze,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"GÃ¶rselleri buraya sÃ¼rÃ¼kleyip bÄ±rakÄ±n"}),e.jsx("p",{className:"text-xs mt-1",children:"veya yukarÄ±daki butonu kullanÄ±n"})]})}),e.jsxs("div",{className:"p-6",children:[i?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(K,{className:"animate-spin text-rose-500",size:32})}):o.length===0?e.jsxs("div",{className:"text-center py-20 text-slate-400",children:[e.jsx(Ne,{size:48,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"HenÃ¼z gÃ¶rsel yok"})]}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:o.map(j=>e.jsxs("div",{onClick:()=>n(j),className:"group relative bg-white rounded-xl border border-slate-200 overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"aspect-square bg-slate-100 flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:j.url,alt:j.alt_text||j.filename_original,className:"w-full h-full object-cover",loading:"lazy"})}),e.jsxs("div",{className:"p-2",children:[e.jsx("p",{className:"text-xs font-medium text-slate-700 truncate",children:j.title||j.filename_original}),e.jsx("p",{className:"text-xs text-slate-400",children:d(j.size_bytes)})]}),e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("button",{onClick:O=>{O.stopPropagation(),E(j)},className:"p-1.5 bg-white/90 rounded-lg shadow hover:bg-white",children:B===j.id?e.jsx(he,{size:14,className:"text-green-500"}):e.jsx(Re,{size:14})})})]},j.id))}),u.pages>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-8",children:Array.from({length:u.pages},(j,O)=>O+1).map(j=>e.jsx("button",{onClick:()=>y(O=>({...O,page:j})),className:`px-3 py-1 rounded-lg ${j===u.page?"bg-rose-500 text-white":"bg-white border border-slate-200 hover:bg-slate-50"}`,children:j},j))})]}),r&&e.jsx(Bs,{asset:r,onClose:()=>n(null),onUpdate:j=>{P(j),n(j)},onDelete:()=>c(r.id),onCopyUrl:()=>E(r),copiedUrl:B===r.id})]})},Bs=({asset:a,onClose:o,onUpdate:t,onDelete:i,onCopyUrl:N,copiedUrl:u})=>{const[y,v]=s.useState(a),[S,f]=s.useState(""),C=()=>{S.trim()&&!y.tags.includes(S.trim())&&(v({...y,tags:[...y.tags,S.trim()]}),f(""))},_=r=>{v({...y,tags:y.tags.filter(n=>n!==r)})},l=r=>r<1024?r+" B":r<1024*1024?(r/1024).toFixed(1)+" KB":(r/(1024*1024)).toFixed(1)+" MB";return e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:o,children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex",onClick:r=>r.stopPropagation(),children:[e.jsx("div",{className:"w-1/2 bg-slate-900 flex items-center justify-center p-4",children:e.jsx("img",{src:a.url,alt:a.alt_text,className:"max-w-full max-h-[70vh] object-contain"})}),e.jsxs("div",{className:"w-1/2 p-6 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"font-bold text-lg text-slate-900",children:"GÃ¶rsel DetaylarÄ±"}),e.jsx("button",{onClick:o,className:"p-1 hover:bg-slate-100 rounded-lg",children:e.jsx(ie,{size:20})})]}),e.jsxs("div",{className:"space-y-3 text-sm mb-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"Dosya adÄ±:"}),e.jsx("span",{className:"font-medium text-slate-700 truncate ml-2",children:a.filename_original})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"Boyut:"}),e.jsx("span",{className:"font-medium text-slate-700",children:l(a.size_bytes)})]}),a.width&&a.height&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"Boyutlar:"}),e.jsxs("span",{className:"font-medium text-slate-700",children:[a.width," Ã— ",a.height]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"TÃ¼r:"}),e.jsx("span",{className:"font-medium text-slate-700",children:a.mime_type})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:window.location.origin+a.url,readOnly:!0,className:"flex-1 px-3 py-2 text-sm bg-slate-50 border border-slate-200 rounded-lg"}),e.jsx("button",{onClick:N,className:"px-3 py-2 bg-slate-100 hover:bg-slate-200 rounded-lg",children:u?e.jsx(he,{size:18,className:"text-green-500"}):e.jsx(Re,{size:18})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"BaÅŸlÄ±k"}),e.jsx("input",{type:"text",value:y.title,onChange:r=>v({...y,title:r.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Alt Metin"}),e.jsx("input",{type:"text",value:y.alt_text,onChange:r=>v({...y,alt_text:r.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Kategori"}),e.jsx("input",{type:"text",value:y.category,onChange:r=>v({...y,category:r.target.value}),placeholder:"hero, blog, logo...",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Etiketler"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:y.tags.map(r=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-100 rounded-lg text-sm",children:[r,e.jsx("button",{onClick:()=>_(r),className:"hover:text-red-500",children:e.jsx(ie,{size:14})})]},r))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:S,onChange:r=>f(r.target.value),onKeyDown:r=>r.key==="Enter"&&(r.preventDefault(),C()),placeholder:"Etiket ekle...",className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg text-sm"}),e.jsx("button",{onClick:C,className:"px-3 py-2 bg-slate-100 hover:bg-slate-200 rounded-lg text-sm",children:"Ekle"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-slate-200",children:[e.jsx("button",{onClick:()=>t(y),className:"flex-1 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600",children:"Kaydet"}),e.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200",children:e.jsx(W,{size:18})})]})]})]})})},Ps=({token:a})=>{const{currentTenant:o}=ke(),[t,i]=s.useState([]),[N,u]=s.useState(!0),[y,v]=s.useState("all"),S="/api",f=async()=>{try{u(!0);const n=o?.code==="trombofili"?"get_trombofili_bookings":"get_bookings",T=await(await fetch(`${S}/index.php?action=${n}`,{headers:{Authorization:`Bearer ${a}`,...D()}})).json();T.success&&i(T.data)}catch(n){console.error("Failed to fetch bookings",n)}finally{u(!1)}};s.useEffect(()=>{f()},[]);const C=async(n,h)=>{if(confirm("StatÃ¼ gÃ¼ncellensin mi?"))try{const g=await(await fetch(`${S}/index.php?action=update_booking_status`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({id:n,status:h})})).json();g.success?f():alert("Hata: "+g.error)}catch{alert("Ä°ÅŸlem baÅŸarÄ±sÄ±z")}},_=y==="all"?t:t.filter(n=>n.status===y),l=n=>{switch(n){case"confirmed":return"bg-blue-100 text-blue-800";case"sample_collected":return"bg-purple-100 text-purple-800";case"in_lab":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-slate-100 text-slate-800"}},r=n=>({pending:"Bekliyor",confirmed:"OnaylandÄ±",sample_collected:"Numune AlÄ±ndÄ±",in_lab:"Labda Ä°ÅŸleniyor",completed:"SonuÃ§landÄ±",cancelled:"Ä°ptal"})[n]||n;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg",children:e.jsx(me,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Yeni Randevu"}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.filter(n=>n.status==="pending").length})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-yellow-50 text-yellow-600 rounded-lg",children:e.jsx(ve,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Ä°ÅŸlemde (Lab)"}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.filter(n=>n.status==="in_lab").length})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-green-50 text-green-600 rounded-lg",children:e.jsx(V,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"SonuÃ§lanan"}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.filter(n=>n.status==="completed").length})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-lg",children:e.jsx(je,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Evde AlÄ±m"}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.filter(n=>n.sample_collection_method==="home_care").length})]})]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto w-full md:w-auto",children:["all","pending","confirmed","sample_collected","in_lab","completed","cancelled"].map(n=>e.jsx("button",{onClick:()=>v(n),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${y===n?"bg-rose-600 text-white shadow-md shadow-rose-200":"bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:n==="all"?"TÃ¼mÃ¼":r(n)},n))}),e.jsx("div",{className:"w-full md:w-auto min-w-[300px]",children:e.jsx("input",{type:"text",placeholder:"Hasta adÄ±, telefon veya kod ara...",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500"})})]}),N?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"YÃ¼kleniyor..."}):e.jsxs("div",{className:"grid gap-4",children:[_.map(n=>e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-full ${n.sample_collection_method==="home_care"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:n.sample_collection_method==="home_care"?e.jsx(Yt,{size:24}):e.jsx(je,{size:24})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:n.patient_name}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase tracking-wider border ${n.tenant_name?.toLowerCase().includes("momguard")?"bg-emerald-50 text-emerald-700 border-emerald-200":n.tenant_name?.toLowerCase().includes("verifi")?"bg-blue-50 text-blue-700 border-blue-200":n.tenant_name?.toLowerCase().includes("veritas")?"bg-amber-50 text-amber-700 border-amber-200":"bg-gray-100 text-gray-600 border-gray-200"}`,children:n.tenant_name||"NIPT"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-500 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ie,{size:14})," ",n.patient_phone]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ne,{size:14})," ",n.patient_email]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${l(n.status)}`,children:r(n.status)}),e.jsxs("select",{className:"text-sm border-slate-200 rounded-lg p-1.5 bg-slate-50",value:n.status,onChange:h=>C(n.id,h.target.value),children:[e.jsx("option",{value:"pending",children:"Bekliyor"}),e.jsx("option",{value:"confirmed",children:"Onayla"}),e.jsx("option",{value:"sample_collected",children:"Numune AlÄ±ndÄ±"}),e.jsx("option",{value:"in_lab",children:"Lab'a GÃ¶nder"}),e.jsx("option",{value:"completed",children:"Tamamla"}),e.jsx("option",{value:"cancelled",children:"Ä°ptal Et"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 p-4 bg-slate-50 rounded-lg text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"font-medium",children:"Randevu Tarihi:"}),e.jsxs("span",{children:[n.booking_date," / ",n.booking_time]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dt,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"font-medium",children:"Adres:"}),e.jsx("span",{className:"truncate max-w-[300px]",title:n.sample_collection_address,children:n.sample_collection_address})]})]}),e.jsxs("div",{className:"space-y-2",children:[n.referral_code&&e.jsxs("div",{className:"flex items-center gap-2 text-indigo-600",children:[e.jsx(ft,{size:16}),e.jsx("span",{className:"font-medium",children:"Referans:"}),e.jsx("b",{children:n.referral_code})," (",n.referrer_name,")",e.jsx("span",{className:"text-xs bg-indigo-100 px-1.5 py-0.5 rounded ml-1",children:"Ä°ndirimli"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(xe,{size:16}),e.jsx("span",{className:"font-medium",children:"Notlar:"}),n.notes||"-"]})]})]})]},n.id)),_.length===0&&e.jsx("div",{className:"text-center py-12 bg-white rounded-xl border border-slate-200 border-dashed",children:e.jsx("p",{className:"text-slate-500",children:"Bu filtrede randevu bulunamadÄ±."})})]})]})},$s=["Adana","Ankara","Antalya","Bursa","DiyarbakÄ±r","Erzurum","EskiÅŸehir","Gaziantep","Ä°stanbul","Ä°zmir","Kayseri","Kocaeli","Konya","Malatya","Mersin","Samsun","ÅanlÄ±urfa","TekirdaÄŸ","Trabzon","Van","DiÄŸer"],Ls=({token:a})=>{const[o,t]=s.useState([]),[i,N]=s.useState(!0),[u,y]=s.useState(""),[v,S]=s.useState(!1),[f,C]=s.useState(!1),[_,l]=s.useState(null),[r,n]=s.useState({name:"",email:"",phone:"",city:"",clinic:"",notes:""}),[h,T]=s.useState([]),[g,m]=s.useState(!1),B=ue(),p=ae(),b="/api",k=b.endsWith("/index.php")?b:`${b}/index.php`,$=async()=>{N(!0);try{const A=await(await fetch(`${k}?action=admin_list_doctors`,{headers:{Authorization:`Bearer ${a}`,...D()}})).json();A.success&&t(A.data)}catch{p.error("Doktorlar yÃ¼klenirken hata oluÅŸtu")}finally{N(!1)}};s.useEffect(()=>{$()},[]);const L=o.filter(z=>z.name.toLowerCase().includes(u.toLowerCase())||z.email.toLowerCase().includes(u.toLowerCase())||z.city.toLowerCase().includes(u.toLowerCase())||z.clinic&&z.clinic.toLowerCase().includes(u.toLowerCase())),x=()=>{l(null),n({name:"",email:"",phone:"",city:"",clinic:"",notes:""}),S(!0)},c=z=>{l(z),n({name:z.name,email:z.email,phone:z.phone,city:z.city,clinic:z.clinic||"",notes:z.notes||""}),S(!0)},P=async z=>{z.preventDefault(),m(!0);try{const A=_?`${k}?action=admin_update_doctor`:`${k}?action=admin_create_doctor`,R=_?"PUT":"POST",I=_?{...r,id:_.id}:r,M=await(await fetch(A,{method:R,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify(I)})).json();M.success?(p.success(_?"Doktor gÃ¼ncellendi":"Doktor eklendi"),S(!1),$()):p.error(M.error||"Ä°ÅŸlem baÅŸarÄ±sÄ±z")}catch{p.error("BaÄŸlantÄ± hatasÄ±")}finally{m(!1)}},E=async z=>{if(await B({title:"Doktoru Sil",message:`"${z.name}" isimli doktoru silmek istediÄŸinize emin misiniz?`,confirmLabel:"Sil",cancelLabel:"Ä°ptal",type:"danger"}))try{const I=await(await fetch(`${k}?action=admin_delete_doctor&id=${z.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`,...D()}})).json();I.success?(p.success("Doktor silindi"),$()):p.error(I.error||"Silme iÅŸlemi baÅŸarÄ±sÄ±z")}catch{p.error("BaÄŸlantÄ± hatasÄ±")}},d=z=>{const A=z.target.files?.[0];if(!A)return;const R=new FileReader;R.onload=I=>{const M=(I.target?.result).split(`
`).filter(q=>q.trim()),H=M[0].split(",").map(q=>q.trim().toLowerCase()),J=M.slice(1).map(q=>{const pe=q.split(",").map(F=>F.trim().replace(/^"|"$/g,"")),oe={};return H.forEach((F,Y)=>{oe[F]=pe[Y]||""}),oe});T(J)},R.readAsText(A)},w=async()=>{if(h.length!==0){m(!0);try{const A=await(await fetch(`${k}?action=admin_import_doctors`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify({doctors:h})})).json();A.success?(p.success(`${A.imported} doktor iÃ§e aktarÄ±ldÄ±`),A.errors?.length>0&&p.warning(`${A.errors.length} satÄ±rda hata var`),C(!1),T([]),$()):p.error(A.error||"Ä°Ã§e aktarma baÅŸarÄ±sÄ±z")}catch{p.error("BaÄŸlantÄ± hatasÄ±")}finally{m(!1)}}},j=()=>{const z=["name","email","phone","city","clinic","notes"],A=o.filter(H=>H.is_active).map(H=>[H.name,H.email,H.phone,H.city,H.clinic||"",H.notes||""]),R=[z.join(","),...A.map(H=>H.map(J=>`"${J}"`).join(","))].join(`
`),I=new Blob([R],{type:"text/csv; charset=utf-8;"}),U=URL.createObjectURL(I),M=document.createElement("a");M.href=U,M.download=`omega_doctors_${new Date().toISOString().split("T")[0]}.csv`,M.click()},O=()=>{const z=`name,email,phone,city,clinic,notes
Dr. Ã–rnek,ornek@email.com,+905551234567,Ankara,Ã–rnek Klinik,NIPT uzmanÄ±`,A=new Blob([z],{type:"text/csv"}),R=URL.createObjectURL(A),I=document.createElement("a");I.href=R,I.download="doctors_template.csv",I.click()};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"ğŸ¥ Doktor YÃ¶netimi"}),e.jsx("p",{className:"text-slate-500 mt-1",children:"Hekimleri ekleyin, dÃ¼zenleyin ve yÃ¶netin"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[e.jsxs("div",{className:"flex-1 min-w-[250px] relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),e.jsx("input",{type:"text",placeholder:"AdÄ±, e-postasÄ± veya ÅŸehir ile ara...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 outline-none",value:u,onChange:z=>y(z.target.value)})]}),e.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2.5 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx(X,{size:18})," Yeni Doktor"]}),e.jsxs("button",{onClick:()=>C(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors",children:[e.jsx(jt,{size:18})," CSV Ä°Ã§e Aktar"]}),e.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors",children:[e.jsx(Ot,{size:18})," CSV DÄ±ÅŸa Aktar"]})]}),e.jsx("div",{className:"bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm",children:i?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(K,{className:"animate-spin text-rose-500",size:32})}):L.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("h3",{className:"text-lg font-medium text-slate-600",children:"HenÃ¼z doktor yok"}),e.jsx("p",{className:"text-slate-400 mt-1",children:"BaÅŸlamak iÃ§in ilk doktoru ekleyin"}),e.jsx("button",{onClick:x,className:"mt-4 px-4 py-2 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-medium",children:"+ Yeni Doktor Ekle"})]}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-rose-50/50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-slate-700",children:"AdÄ±"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-slate-700",children:"E-posta"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-slate-700",children:"Telefon"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-slate-700",children:"Åehir"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-slate-700",children:"Klinik"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-slate-700",children:"Durum"}),e.jsx("th",{className:"text-center px-4 py-3 text-sm font-semibold text-slate-700",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{children:L.map(z=>e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-rose-50/30 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-slate-900",children:z.name}),e.jsx("td",{className:"px-4 py-3 text-slate-600",children:z.email}),e.jsx("td",{className:"px-4 py-3 text-slate-600",children:z.phone}),e.jsx("td",{className:"px-4 py-3 text-slate-600",children:z.city}),e.jsx("td",{className:"px-4 py-3 text-slate-500",children:z.clinic||"-"}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium ${z.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[z.is_active?e.jsx(V,{size:12}):e.jsx(St,{size:12}),z.is_active?"Aktif":"Pasif"]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>c(z),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(_e,{size:16})}),e.jsx("button",{onClick:()=>E(z),className:"p-2 text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",children:e.jsx(W,{size:16})})]})})]},z.id))})]})}),v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-slate-100",children:e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:_?"Doktoru DÃ¼zenle":"Yeni Doktor Ekle"})}),e.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"AdÄ± SoyadÄ± *"}),e.jsx("input",{type:"text",required:!0,value:r.name,onChange:z=>n({...r,name:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 outline-none",placeholder:"Dr. Aylin YÄ±lmaz"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"E-posta *"}),e.jsx("input",{type:"email",required:!0,value:r.email,onChange:z=>n({...r,email:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 outline-none",placeholder:"aylin@clinic.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Telefon *"}),e.jsx("input",{type:"tel",required:!0,value:r.phone,onChange:z=>n({...r,phone:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 outline-none",placeholder:"+90 555 123 4567"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Åehir *"}),e.jsxs("select",{required:!0,value:r.city,onChange:z=>n({...r,city:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 outline-none",children:[e.jsx("option",{value:"",children:"-- Åehir SeÃ§iniz --"}),$s.map(z=>e.jsx("option",{value:z,children:z},z))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Muayenehane/Hastane"}),e.jsx("input",{type:"text",value:r.clinic,onChange:z=>n({...r,clinic:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 outline-none",placeholder:"Ã–rnek Klinik"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notlar"}),e.jsx("textarea",{value:r.notes,onChange:z=>n({...r,notes:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 outline-none",rows:3,placeholder:"Ä°Ã§ kullanÄ±m notlarÄ±..."})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>S(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors",children:"Ä°ptal"}),e.jsx("button",{type:"submit",disabled:g,className:"flex-1 px-4 py-2.5 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:g?e.jsx(K,{className:"animate-spin mx-auto",size:20}):"Kaydet"})]})]})]})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg",children:[e.jsx("div",{className:"p-6 border-b border-slate-100",children:e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"CSV'den Ä°Ã§e Aktar"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("p",{className:"text-sm text-slate-500",children:["Beklenen sÃ¼tunlar: ",e.jsx("code",{className:"bg-slate-100 px-1 rounded",children:"name, email, phone, city, clinic, notes"})]}),e.jsx("button",{onClick:O,className:"text-rose-600 font-medium text-sm hover:underline",children:"ğŸ“„ Ã–rnek CSV Ä°ndir"}),e.jsx("div",{children:e.jsx("input",{type:"file",accept:".csv",onChange:d,className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})}),h.length>0&&e.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["âœ“ ",h.length," doktor iÃ§e aktarÄ±lmaya hazÄ±r"]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>{C(!1),T([])},className:"flex-1 px-4 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium",children:"Ä°ptal"}),e.jsx("button",{onClick:w,disabled:h.length===0||g,className:"flex-1 px-4 py-2.5 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-medium disabled:opacity-50",children:g?e.jsx(K,{className:"animate-spin mx-auto",size:20}):"Ä°Ã§e Aktar"})]})]})]})})]})},Te={logo_light_url:null,logo_dark_url:null,favicon_url:null,login_hero_image:null,primary_color:"#6366f1",secondary_color:"#8b5cf6",accent_color:"#10b981",background_color:"#ffffff",text_color_primary:"#1f2937",text_color_muted:"#6b7280",font_family_base:"Inter",font_family_heading:"Inter",border_radius:"0.5rem",instagram_url:null,facebook_url:null,linkedin_url:null,x_twitter_url:null,youtube_url:null,tiktok_url:null,whatsapp_url:null},at=["Inter","Roboto","Nunito","Open Sans","Poppins","Lato","Montserrat","Source Sans Pro","Raleway","Ubuntu"],Es={clinical:{primary_color:"#1e3a5f",secondary_color:"#4a6fa5",accent_color:"#e63946",background_color:"#f8fafc",text_color_primary:"#1e293b",text_color_muted:"#64748b"},modern:{primary_color:"#6366f1",secondary_color:"#8b5cf6",accent_color:"#10b981",background_color:"#ffffff",text_color_primary:"#1f2937",text_color_muted:"#6b7280"},omega:{primary_color:"#1a365d",secondary_color:"#2d4a6f",accent_color:"#dc2626",background_color:"#f7f8fa",text_color_primary:"#0f172a",text_color_muted:"#64748b"}},lt="/api",Ds=()=>{const[a,o]=s.useState(Te),[t,i]=s.useState(!0),[N,u]=s.useState(!1),[y,v]=s.useState(null);s.useEffect(()=>{f()},[]);const S=()=>{const r=localStorage.getItem("admin_session");return{Authorization:`Bearer ${r?JSON.parse(r).token:localStorage.getItem("admin_token")}`,"Content-Type":"application/json",...D()}},f=async()=>{try{const n=await(await fetch(`${lt}/index.php?action=get_branding`,{headers:S()})).json();n?.success&&n.data&&o({...Te,...n.data})}catch(r){console.error("Failed to load branding:",r)}finally{i(!1)}},C=async()=>{u(!0),v(null);try{const n=await(await fetch(`${lt}/index.php?action=save_branding`,{method:"POST",headers:S(),body:JSON.stringify(a)})).json();n?.success?v({type:"success",text:"Branding ayarlarÄ± kaydedildi!"}):v({type:"error",text:n?.error||"Kaydetme baÅŸarÄ±sÄ±z"})}catch{v({type:"error",text:"BaÄŸlantÄ± hatasÄ±"})}finally{u(!1)}},_=r=>{o({...a,...Es[r]})},l=(r,n)=>{o({...a,[r]:n})};return t?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):e.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Branding & Social"}),e.jsx("p",{className:"text-slate-500",children:"Logo, renkler, fontlar ve sosyal medya ayarlarÄ±"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>o(Te),className:"px-4 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[e.jsx(gt,{size:16})," SÄ±fÄ±rla"]}),e.jsxs("button",{onClick:C,disabled:N,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2 disabled:opacity-50",children:[e.jsx(Z,{size:16})," ",N?"Kaydediliyor...":"Kaydet"]})]})]}),y&&e.jsx("div",{className:`mb-4 p-4 rounded-lg ${y.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:y.text}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(ze,{size:20})," Logo & Favicon"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Logo (AÃ§Ä±k Arkaplan)"}),e.jsx("input",{type:"text",value:a.logo_light_url||"",onChange:r=>l("logo_light_url",r.target.value||null),placeholder:"/media/logo.png",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.logo_light_url&&e.jsx("img",{src:a.logo_light_url,alt:"Logo",className:"mt-2 h-10 object-contain"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Logo (Koyu Arkaplan)"}),e.jsx("input",{type:"text",value:a.logo_dark_url||"",onChange:r=>l("logo_dark_url",r.target.value||null),placeholder:"/media/logo-dark.png",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Favicon"}),e.jsx("input",{type:"text",value:a.favicon_url||"",onChange:r=>l("favicon_url",r.target.value||null),placeholder:"/media/favicon.ico",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Login Hero Image"}),e.jsx("input",{type:"text",value:a.login_hero_image||"",onChange:r=>l("login_hero_image",r.target.value||null),placeholder:"/media/login-hero.jpg",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Admin giriÅŸ ekranÄ±nÄ±n sol tarafÄ±nda gÃ¶rÃ¼necek resim"}),a.login_hero_image&&e.jsx("img",{src:a.login_hero_image,alt:"Login Hero",className:"mt-2 h-16 w-full object-cover rounded"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(bt,{size:20})," Renkler"]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("button",{onClick:()=>_("clinical"),className:"px-3 py-1 text-sm bg-slate-100 rounded-full hover:bg-slate-200",children:"Klinik Preset"}),e.jsx("button",{onClick:()=>_("modern"),className:"px-3 py-1 text-sm bg-slate-100 rounded-full hover:bg-slate-200",children:"Modern Preset"}),e.jsx("button",{onClick:()=>_("omega"),className:"px-3 py-1 text-sm bg-slate-100 rounded-full hover:bg-slate-200",children:"Omega Genetik Preset"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{key:"primary_color",label:"Ana Renk"},{key:"secondary_color",label:"Ä°kincil Renk"},{key:"accent_color",label:"Vurgu Rengi"},{key:"background_color",label:"Arkaplan"},{key:"text_color_primary",label:"Metin (Ana)"},{key:"text_color_muted",label:"Metin (Soluk)"}].map(r=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:r.label}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:a[r.key],onChange:n=>l(r.key,n.target.value),className:"w-10 h-10 rounded border border-slate-300 cursor-pointer"}),e.jsx("input",{type:"text",value:a[r.key],onChange:n=>l(r.key,n.target.value),className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg text-sm"})]})]},r.key))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(Jt,{size:20})," Tipografi"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Ana Font"}),e.jsx("select",{value:a.font_family_base,onChange:r=>l("font_family_base",r.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:at.map(r=>e.jsx("option",{value:r,children:r},r))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"BaÅŸlÄ±k Fontu"}),e.jsx("select",{value:a.font_family_heading,onChange:r=>l("font_family_heading",r.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:at.map(r=>e.jsx("option",{value:r,children:r},r))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Border Radius"}),e.jsx("input",{type:"text",value:a.border_radius,onChange:r=>l("border_radius",r.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",placeholder:"0.5rem"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(Gt,{size:20})," Sosyal Medya"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"instagram_url",label:"Instagram",icon:He},{key:"facebook_url",label:"Facebook",icon:Xe},{key:"linkedin_url",label:"LinkedIn",icon:Ye},{key:"x_twitter_url",label:"X (Twitter)",icon:Je},{key:"youtube_url",label:"YouTube",icon:Vt},{key:"whatsapp_url",label:"WhatsApp",icon:xt}].map(r=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-2",children:[e.jsx(r.icon,{size:16})," ",r.label]}),e.jsx("input",{type:"url",value:a[r.key]||"",onChange:n=>l(r.key,n.target.value||null),placeholder:`https://${r.label.toLowerCase()}.com/...`,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]},r.key))})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"sticky top-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-slate-200",children:e.jsx("h3",{className:"font-semibold text-slate-900",children:"CanlÄ± Ã–nizleme"})}),e.jsx("div",{className:"p-4",style:{backgroundColor:a.primary_color},children:e.jsxs("div",{className:"flex items-center justify-between",children:[a.logo_light_url?e.jsx("img",{src:a.logo_light_url,alt:"Logo",className:"h-6 brightness-0 invert"}):e.jsx("div",{className:"text-white font-bold",style:{fontFamily:a.font_family_heading},children:"Logo"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-12 h-2 bg-white/30 rounded"}),e.jsx("div",{className:"w-12 h-2 bg-white/30 rounded"})]})]})}),e.jsxs("div",{className:"p-6",style:{backgroundColor:a.background_color},children:[e.jsx("h4",{className:"text-lg font-bold mb-2",style:{color:a.text_color_primary,fontFamily:a.font_family_heading},children:"Ã–rnek BaÅŸlÄ±k"}),e.jsx("p",{className:"text-sm mb-4",style:{color:a.text_color_muted,fontFamily:a.font_family_base},children:"Bu bir Ã¶rnek aÃ§Ä±klama metnidir."}),e.jsx("button",{className:"px-4 py-2 text-white text-sm font-medium",style:{backgroundColor:a.accent_color,borderRadius:a.border_radius},children:"Buton"})]}),e.jsx("div",{className:"p-4",style:{backgroundColor:a.primary_color},children:e.jsxs("div",{className:"flex justify-center gap-3",children:[a.instagram_url&&e.jsx(He,{size:16,className:"text-white/80"}),a.facebook_url&&e.jsx(Xe,{size:16,className:"text-white/80"}),a.linkedin_url&&e.jsx(Ye,{size:16,className:"text-white/80"}),a.x_twitter_url&&e.jsx(Je,{size:16,className:"text-white/80"}),!a.instagram_url&&!a.facebook_url&&!a.linkedin_url&&!a.x_twitter_url&&e.jsx("span",{className:"text-white/50 text-xs",children:"Sosyal linkler ekleyin"})]})})]})})})]})]})},rt={draft:{label:"Taslak",color:"bg-slate-100 text-slate-600"},scheduled:{label:"PlanlandÄ±",color:"bg-blue-100 text-blue-700"},published:{label:"YayÄ±nda",color:"bg-green-100 text-green-700"},archived:{label:"ArÅŸiv",color:"bg-orange-100 text-orange-700"}},Os={tr:"TR",en:"EN",zh:"ZH"},Ms=({token:a,onEdit:o,onCreate:t})=>{const[i,N]=s.useState([]),[u,y]=s.useState(!0),[v,S]=s.useState("all"),[f,C]=s.useState("all"),[_,l]=s.useState(""),[r,n]=s.useState(1),[h,T]=s.useState(1),[g,m]=s.useState(0),B=ae(),p=ue(),b="/api",k=b.endsWith("/index.php")?b:`${b}/index.php`,$=async()=>{y(!0);try{const c=new URLSearchParams({action:"get_podcasts_admin",page:String(r),pageSize:"20"});v!=="all"&&c.append("status",v),f!=="all"&&c.append("language",f),_&&c.append("search",_);const E=await(await fetch(`${k}?${c.toString()}`,{headers:{Authorization:`Bearer ${a}`,...D()}})).json();E.success?(N(E.data||[]),T(E.pagination?.pages||1),m(E.pagination?.total||0)):B.error(E.error||"Podcast listesi alÄ±namadÄ±")}catch(c){console.error("Fetch error:",c),B.error("Veri yÃ¼klenemedi: "+(c.message||"BaÄŸlantÄ± hatasÄ±"))}finally{y(!1)}};s.useEffect(()=>{const c=setTimeout(()=>{$()},300);return()=>clearTimeout(c)},[v,f,_,r]);const L=async c=>{if(await p({title:"Podcast Sil",message:"Bu podcast bÃ¶lÃ¼mÃ¼nÃ¼ silmek istediÄŸinize emin misiniz?",confirmLabel:"Sil",cancelLabel:"Ä°ptal",type:"danger"}))try{const d=await(await fetch(`${k}?action=delete_podcast`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify({id:c})})).json();d.success?(N(i.filter(w=>w.id!==c)),B.success("Podcast baÅŸarÄ±yla silindi")):B.error(d.error||"Silme hatasÄ±")}catch{B.error("BaÄŸlantÄ± hatasÄ±")}},x=c=>{if(!c)return"-";const P=Math.floor(c/60),E=c%60;return`${P}:${E.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 mb-1",children:[e.jsx(de,{className:"text-purple-600"})," Podcast BÃ¶lÃ¼mleri"]}),e.jsxs("p",{className:"text-slate-500 text-sm",children:["Podcast bÃ¶lÃ¼mlerini buradan yÃ¶netin. (",g," bÃ¶lÃ¼m)"]})]}),e.jsxs("button",{type:"button",onClick:t,className:"bg-slate-900 text-white px-4 py-2 rounded-xl font-bold hover:bg-purple-600 transition-all flex items-center gap-2 shadow-lg shadow-purple-200",children:[e.jsx(X,{size:18})," Yeni BÃ¶lÃ¼m"]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"BaÅŸlÄ±k veya aÃ§Ä±klamada ara...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg outline-none focus:border-purple-500",value:_,onChange:c=>l(c.target.value)})]}),e.jsxs("select",{className:"p-2 border border-slate-200 rounded-lg outline-none focus:border-purple-500 bg-white",value:v,onChange:c=>S(c.target.value),children:[e.jsx("option",{value:"all",children:"TÃ¼m Durumlar"}),e.jsx("option",{value:"draft",children:"Taslak"}),e.jsx("option",{value:"scheduled",children:"PlanlandÄ±"}),e.jsx("option",{value:"published",children:"YayÄ±nda"}),e.jsx("option",{value:"archived",children:"ArÅŸiv"})]}),e.jsxs("select",{className:"p-2 border border-slate-200 rounded-lg outline-none focus:border-purple-500 bg-white",value:f,onChange:c=>C(c.target.value),children:[e.jsx("option",{value:"all",children:"TÃ¼m Diller"}),e.jsx("option",{value:"tr",children:"TÃ¼rkÃ§e"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"zh",children:"ä¸­æ–‡"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-white text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Durum"}),e.jsx("th",{className:"p-4",children:"BaÅŸlÄ±k"}),e.jsx("th",{className:"p-4",children:"YayÄ±n Tarihi"}),e.jsx("th",{className:"p-4",children:"SÃ¼re"}),e.jsx("th",{className:"p-4",children:"Dil"}),e.jsx("th",{className:"p-4",children:"Etiketler"}),e.jsx("th",{className:"p-4 text-right",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:u?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"p-8 text-center text-slate-400",children:e.jsx(K,{className:"animate-spin mx-auto"})})}):i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"p-8 text-center text-slate-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(de,{size:48,className:"text-slate-300"}),e.jsx("p",{children:"Bu sitede henÃ¼z podcast bÃ¶lÃ¼mÃ¼ yok."}),e.jsx("button",{onClick:t,className:"text-purple-600 hover:underline font-medium",children:"Ä°lk bÃ¶lÃ¼mÃ¼ oluÅŸturmak iÃ§in tÄ±klayÄ±n"})]})})}):i.map(c=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${rt[c.status]?.color||"bg-slate-100 text-slate-600"}`,children:rt[c.status]?.label||c.status})}),e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-bold text-slate-900 line-clamp-1",children:c.title||"(baÅŸlÄ±ksÄ±z)"}),e.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["/",c.slug]})]}),e.jsx("td",{className:"p-4 text-sm text-slate-500",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ve,{size:14}),c.publish_date?new Date(c.publish_date).toLocaleDateString("tr-TR"):"-"]})}),e.jsx("td",{className:"p-4 text-sm text-slate-600 font-mono",children:x(c.duration_seconds)}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"px-2 py-1 bg-slate-100 rounded text-xs font-medium",children:Os[c.language]||c.language})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[(c.tags||[]).slice(0,3).map((P,E)=>e.jsx("span",{className:"px-2 py-0.5 bg-purple-50 text-purple-600 rounded text-xs",children:P},E)),(c.tags||[]).length>3&&e.jsxs("span",{className:"text-xs text-slate-400",children:["+",c.tags.length-3]})]})}),e.jsxs("td",{className:"p-4 text-right space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>o(c),className:"p-2 bg-white border border-slate-200 rounded-lg hover:border-purple-500 hover:text-purple-600 transition-all shadow-sm",children:e.jsx(Ce,{size:16})}),e.jsx("button",{type:"button",onClick:()=>L(c.id),className:"p-2 bg-white border border-slate-200 rounded-lg hover:border-red-500 hover:text-red-600 transition-all shadow-sm",children:e.jsx(W,{size:16})})]})]},c.id))})]})}),h>1&&e.jsxs("div",{className:"p-4 border-t border-slate-100 flex justify-center gap-2",children:[e.jsx("button",{type:"button",disabled:r===1,onClick:()=>n(c=>c-1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:e.jsx(Se,{size:16})}),e.jsxs("span",{className:"px-4 py-2 text-sm text-slate-600 font-medium",children:[r," / ",h]}),e.jsx("button",{type:"button",disabled:r===h,onClick:()=>n(c=>c+1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:e.jsx(ye,{size:16})})]})]})},Is=[{value:"draft",label:"Taslak"},{value:"scheduled",label:"PlanlandÄ±"},{value:"published",label:"YayÄ±nda"},{value:"archived",label:"ArÅŸiv"}],Rs=[{value:"tr",label:"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e"},{value:"en",label:"ğŸ‡¬ğŸ‡§ English"},{value:"zh",label:"ğŸ‡¨ğŸ‡³ ä¸­æ–‡"}],Fs=({token:a,podcast:o,onSave:t,onCancel:i})=>{const[N,u]=s.useState(!1),[y,v]=s.useState(!1),[S,f]=s.useState(!1),[C,_]=s.useState(!1),l=ae(),[r,n]=s.useState({title:"",slug:"",status:"draft",publish_date:"",language:"tr",short_description:"",full_description:"",audio_url:"",preview_clip_url:"",duration_seconds:0,cover_image_url:"",tags:[],external_links:{spotify:"",apple:"",youtube:"",other:""},extra_images:[],extra_videos:[]}),[h,T]=s.useState(""),g="/api",m=g.endsWith("/index.php")?g:`${g}/index.php`;s.useEffect(()=>{o?.id?(v(!0),fetch(`${m}?action=get_podcast&id=${o.id}`,{headers:{Authorization:`Bearer ${a}`,...D()}}).then(d=>d.json()).then(d=>{if(d.success&&d.data){const w=d.data;n({title:w.title||"",slug:w.slug||"",status:w.status||"draft",publish_date:w.publish_date?w.publish_date.slice(0,16):"",language:w.language||"tr",short_description:w.short_description||"",full_description:w.full_description||"",audio_url:w.audio_url||"",preview_clip_url:w.preview_clip_url||"",duration_seconds:w.duration_seconds||0,cover_image_url:w.cover_image_url||"",tags:w.tags||[],external_links:w.external_links||{spotify:"",apple:"",youtube:"",other:""},extra_images:w.extra_images||[],extra_videos:w.extra_videos||[]})}}).catch(d=>{console.error("Podcast detail fetch error:",d),l.error("Podcast detaylarÄ± yÃ¼klenemedi")}).finally(()=>v(!1))):o||n({title:"",slug:"",status:"draft",publish_date:"",language:"tr",short_description:"",full_description:"",audio_url:"",duration_seconds:0,cover_image_url:"",tags:[],external_links:{spotify:"",apple:"",youtube:"",other:""},extra_images:[],extra_videos:[]})},[o,a]);const B=d=>d.toLowerCase().replace(/ÄŸ/g,"g").replace(/Ã¼/g,"u").replace(/ÅŸ/g,"s").replace(/Ä±/g,"i").replace(/Ã¶/g,"o").replace(/Ã§/g,"c").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),p=(d,w)=>{n(j=>{const O={...j,[d]:w};return d==="title"&&!o&&(O.slug=B(w)),O})},b=(d,w)=>{n(j=>({...j,external_links:{...j.external_links,[d]:w}}))},k=()=>{const d=h.trim();d&&!r.tags.includes(d)&&(n(w=>({...w,tags:[...w.tags,d]})),T(""))},$=d=>{n(w=>({...w,tags:w.tags.filter(j=>j!==d)}))},L=()=>{n(d=>({...d,extra_videos:[...d.extra_videos,""]}))},x=(d,w)=>{n(j=>{const O=[...j.extra_videos];return O[d]=w,{...j,extra_videos:O}})},c=d=>{n(w=>({...w,extra_videos:w.extra_videos.filter((j,O)=>O!==d)}))},P=async d=>{if(d.preventDefault(),!r.title){l.error("BaÅŸlÄ±k zorunludur");return}u(!0);const w=o?"update_podcast":"create_podcast",j={...r,id:o?.id};try{const z=await(await fetch(`${m}?action=${w}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...D()},body:JSON.stringify(j)})).json();z.success?(l.success(o?"Podcast gÃ¼ncellendi":"Podcast oluÅŸturuldu"),t()):l.error("Hata: "+(z.error||"Kaydedilemedi"))}catch{l.error("BaÄŸlantÄ± hatasÄ±")}finally{u(!1)}},E=d=>{const w=Math.floor(d/60),j=d%60;return`${w}:${j.toString().padStart(2,"0")}`};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden relative",children:[y&&e.jsx("div",{className:"absolute inset-0 bg-white/80 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-3 text-purple-600",children:[e.jsx(K,{className:"w-8 h-8 animate-spin"}),e.jsx("span",{className:"font-medium",children:"Podcast yÃ¼kleniyor..."})]})}),e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[e.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-slate-500 hover:text-slate-900 font-medium transition-colors",children:[e.jsx(re,{size:18})," Listeye DÃ¶n"]}),e.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(de,{className:"text-purple-600"}),o?"Podcast DÃ¼zenle":"Yeni Podcast BÃ¶lÃ¼mÃ¼"]}),e.jsx("div",{className:"w-24"})," "]}),e.jsx("form",{onSubmit:P,className:"p-8",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(ee,{size:18})," Genel Bilgiler"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["BaÅŸlÄ±k ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-purple-500 outline-none text-lg font-bold",value:r.title,onChange:d=>p("title",d.target.value),placeholder:"Podcast bÃ¶lÃ¼m baÅŸlÄ±ÄŸÄ±...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Slug (URL)"}),e.jsxs("div",{className:"flex items-center gap-1 text-slate-400 bg-white p-3 rounded-xl border border-slate-200",children:[e.jsx("span",{className:"text-xs",children:"/podcast/"}),e.jsx("input",{type:"text",className:"flex-1 bg-transparent outline-none text-slate-700 font-medium",value:r.slug,onChange:d=>p("slug",d.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Dil"}),e.jsx("select",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-purple-500 outline-none bg-white",value:r.language,onChange:d=>p("language",d.target.value),children:Rs.map(d=>e.jsx("option",{value:d.value,children:d.label},d.value))})]})]})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100",children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Ä°Ã§erik"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"KÄ±sa AÃ§Ä±klama"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-purple-500 outline-none h-24 resize-none",value:r.short_description,onChange:d=>p("short_description",d.target.value),placeholder:"Podcast kartlarÄ±nda gÃ¶rÃ¼necek kÄ±sa aÃ§Ä±klama..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"DetaylÄ± AÃ§Ä±klama / Show Notes"}),e.jsx("textarea",{className:"w-full p-4 border border-slate-200 rounded-xl focus:border-purple-500 outline-none h-64 font-mono text-sm",value:r.full_description,onChange:d=>p("full_description",d.target.value),placeholder:"BÃ¶lÃ¼m notlarÄ±, konular, linkler..."}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Markdown desteklenir"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-1",children:[e.jsx(ft,{size:14})," Etiketler"]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:r.tags.map(d=>e.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm flex items-center gap-1",children:[d,e.jsx("button",{type:"button",onClick:()=>$(d),className:"hover:text-red-500",children:"Ã—"})]},d))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:"flex-1 p-2 border border-slate-200 rounded-lg outline-none focus:border-purple-500",value:h,onChange:d=>T(d.target.value),onKeyPress:d=>d.key==="Enter"&&(d.preventDefault(),k()),placeholder:"Etiket ekle..."}),e.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200",children:"Ekle"})]})]})]})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(de,{size:18})," Medya"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Kapak GÃ¶rseli"}),r.cover_image_url?e.jsxs("div",{className:"relative w-48 h-48 rounded-xl overflow-hidden border border-slate-200",children:[e.jsx("img",{src:r.cover_image_url,alt:"Cover",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>p("cover_image_url",""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:e.jsx(W,{size:14})})]}):e.jsxs("button",{type:"button",onClick:()=>f(!0),className:"w-48 h-48 border-2 border-dashed border-slate-300 rounded-xl flex flex-col items-center justify-center text-slate-400 hover:border-purple-500 hover:text-purple-500 transition-colors",children:[e.jsx(Ne,{size:32}),e.jsx("span",{className:"text-sm mt-2",children:"GÃ¶rsel SeÃ§"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ses DosyasÄ± URL (Cloudflare R2 / CDN)"}),e.jsx("input",{type:"url",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-purple-500 outline-none",value:r.audio_url,onChange:d=>p("audio_url",d.target.value),placeholder:"https://cdn.example.com/podcast-bolum-1.mp3"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-1",children:[e.jsx($e,{size:14})," Ã–n Ä°zleme Klip URL (30 saniye - Misafirler Ä°Ã§in)"]}),e.jsx("input",{type:"url",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-purple-500 outline-none",value:r.preview_clip_url,onChange:d=>p("preview_clip_url",d.target.value),placeholder:"https://cdn.example.com/podcast-bolum-1-preview.mp3"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Ãœye olmayan kullanÄ±cÄ±lar yalnÄ±zca bu 30 saniyelik Ã¶n izlemeyi dinleyebilecektir."})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-1",children:[e.jsx(ve,{size:14})," SÃ¼re (saniye)"]}),e.jsx("input",{type:"number",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-purple-500 outline-none",value:r.duration_seconds,onChange:d=>p("duration_seconds",parseInt(d.target.value)||0),placeholder:"3600"}),r.duration_seconds>0&&e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["â‰ˆ ",E(r.duration_seconds)]})]})})]})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(Rt,{size:18})," Harici Linkler"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Spotify"}),e.jsx("input",{type:"url",className:"w-full p-2 border border-slate-200 rounded-lg outline-none focus:border-green-500",value:r.external_links.spotify,onChange:d=>b("spotify",d.target.value),placeholder:"https://open.spotify.com/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Apple Podcasts"}),e.jsx("input",{type:"url",className:"w-full p-2 border border-slate-200 rounded-lg outline-none focus:border-purple-500",value:r.external_links.apple,onChange:d=>b("apple",d.target.value),placeholder:"https://podcasts.apple.com/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"YouTube"}),e.jsx("input",{type:"url",className:"w-full p-2 border border-slate-200 rounded-lg outline-none focus:border-red-500",value:r.external_links.youtube,onChange:d=>b("youtube",d.target.value),placeholder:"https://youtube.com/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"DiÄŸer"}),e.jsx("input",{type:"url",className:"w-full p-2 border border-slate-200 rounded-lg outline-none focus:border-slate-500",value:r.external_links.other,onChange:d=>b("other",d.target.value),placeholder:"https://..."})]})]})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100",children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Ek Materyaller"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ek GÃ¶rseller (Ä°nfografikler)"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[r.extra_images.map((d,w)=>e.jsxs("div",{className:"relative w-24 h-24 rounded-lg overflow-hidden border border-slate-200",children:[e.jsx("img",{src:d,alt:`Extra ${w}`,className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>n(j=>({...j,extra_images:j.extra_images.filter((O,z)=>z!==w)})),className:"absolute top-1 right-1 p-0.5 bg-red-500 text-white rounded-full hover:bg-red-600",children:e.jsx(W,{size:12})})]},w)),e.jsxs("button",{type:"button",onClick:()=>_(!0),className:"w-24 h-24 border-2 border-dashed border-slate-300 rounded-lg flex flex-col items-center justify-center text-slate-400 hover:border-purple-500 hover:text-purple-500",children:[e.jsx(X,{size:20}),e.jsx("span",{className:"text-xs",children:"Ekle"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ek Videolar"}),e.jsxs("div",{className:"space-y-2",children:[r.extra_videos.map((d,w)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"url",className:"flex-1 p-2 border border-slate-200 rounded-lg outline-none focus:border-purple-500",value:d,onChange:j=>x(w,j.target.value),placeholder:"https://youtube.com/..."}),e.jsx("button",{type:"button",onClick:()=>c(w),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:e.jsx(W,{size:18})})]},w)),e.jsxs("button",{type:"button",onClick:L,className:"flex items-center gap-2 px-4 py-2 text-sm text-purple-600 bg-purple-50 hover:bg-purple-100 rounded-lg",children:[e.jsx(X,{size:16})," Video Ekle"]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100",children:[e.jsx("h3",{className:"font-bold text-slate-900 border-b border-slate-200 pb-2 mb-4",children:"YayÄ±n AyarlarÄ±"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-1",children:[e.jsx(V,{size:14,className:"text-slate-400"})," Durum"]}),e.jsx("select",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-purple-500 outline-none bg-white",value:r.status,onChange:d=>p("status",d.target.value),children:Is.map(d=>e.jsx("option",{value:d.value,children:d.label},d.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-1",children:[e.jsx(me,{size:14,className:"text-slate-400"})," YayÄ±n Tarihi"]}),e.jsx("input",{type:"datetime-local",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-purple-500 outline-none bg-white",value:r.publish_date,onChange:d=>p("publish_date",d.target.value)})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-indigo-700 p-6 rounded-xl text-white",children:[e.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[e.jsx($e,{size:18})," Ã–nizleme"]}),e.jsxs("div",{className:"bg-white/10 rounded-lg overflow-hidden backdrop-blur-sm",children:[r.cover_image_url?e.jsx("img",{src:r.cover_image_url,alt:"Preview",className:"w-full h-32 object-cover"}):e.jsx("div",{className:"w-full h-32 bg-white/20 flex items-center justify-center",children:e.jsx(de,{size:32,className:"opacity-50"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-bold line-clamp-2",children:r.title||"Podcast BaÅŸlÄ±ÄŸÄ±"}),e.jsx("p",{className:"text-sm text-white/70 mt-1 line-clamp-2",children:r.short_description||"KÄ±sa aÃ§Ä±klama..."}),e.jsxs("div",{className:"flex items-center justify-between mt-3 text-xs text-white/60",children:[e.jsx("span",{children:r.publish_date?new Date(r.publish_date).toLocaleDateString("tr-TR"):"Tarih"}),e.jsx("span",{children:r.duration_seconds>0?E(r.duration_seconds):"0:00"})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:r.tags.slice(0,3).map(d=>e.jsx("span",{className:"px-2 py-0.5 bg-white/20 rounded text-xs",children:d},d))})]})]})]}),e.jsxs("button",{type:"submit",disabled:N,className:"w-full py-4 bg-gradient-to-r from-purple-500 to-indigo-500 text-white font-bold rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[N?e.jsx(K,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),N?"Kaydediliyor...":o?"GÃ¼ncelle":"Kaydet"]})]})]})})]}),e.jsx(we,{isOpen:S,onClose:()=>f(!1),onSelect:d=>{p("cover_image_url",d.url),f(!1)}}),e.jsx(we,{isOpen:C,onClose:()=>_(!1),onSelect:d=>{n(w=>({...w,extra_images:[...w.extra_images,d.url]})),_(!1)}})]})},Be="/api",nt=Be.endsWith("/index.php")?Be:`${Be}/index.php`;function Us({token:a}){const[o,t]=s.useState(null),[i,N]=s.useState(!0),[u,y]=s.useState(!1),[v,S]=s.useState(!1),[f,C]=s.useState({processed:0,total:0}),[_,l]=s.useState(0),[r,n]=s.useState(null),[h,T]=s.useState(!0),[g]=s.useState(25),m=D(),B=L=>{if(L===0)return"0 B";const x=1024,c=["B","KB","MB","GB"],P=Math.floor(Math.log(L)/Math.log(x));return parseFloat((L/Math.pow(x,P)).toFixed(1))+" "+c[P]},p=s.useCallback(async()=>{try{const x=await(await fetch(`${nt}?action=get_media_optimization_stats`,{headers:{Authorization:`Bearer ${a}`,...m}})).json();x.success&&x.data&&t(x.data)}catch(L){console.error("Failed to fetch stats:",L)}finally{N(!1)}},[a,m]);s.useEffect(()=>{p()},[p]);const b=async()=>{try{return await(await fetch(`${nt}?action=optimize_media_batch`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json",...m},body:JSON.stringify({limit:g,only_unoptimized:h})})).json()}catch(L){return console.error("Batch optimization error:",L),null}},k=async()=>{y(!0),S(!1),n(null),C({processed:0,total:o?.unoptimized_count||0}),l(0);let L=0,x=0,c=o?.unoptimized_count||1;for(;c>0&&!v;){const P=await b();if(!P||!P.success){n("Optimizasyon sÄ±rasÄ±nda bir hata oluÅŸtu");break}if(L+=P.processed,x+=P.bytes_saved,c=P.remaining,C({processed:L,total:o?.unoptimized_count||0}),l(x),P.remaining===0||P.processed===0)break;await new Promise(E=>setTimeout(E,100))}y(!1),p()},$=()=>{S(!0)};return i?e.jsx("div",{className:"p-8 flex items-center justify-center",children:e.jsx(K,{className:"w-8 h-8 animate-spin text-blue-500"})}):e.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:e.jsx(fe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"GÃ¶rsel Optimizasyonu"}),e.jsx("p",{className:"text-sm text-slate-500",children:"GÃ¶rselleri kÃ¼Ã§Ã¼lterek yÃ¼kleme hÄ±zÄ±nÄ± artÄ±rÄ±n"})]})]}),o&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm mb-1",children:[e.jsx(ze,{className:"w-4 h-4"}),"Toplam GÃ¶rsel"]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:o.total_images})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-600 text-sm mb-1",children:[e.jsx(zt,{className:"w-4 h-4"}),"Optimize EdilmiÅŸ"]}),e.jsx("div",{className:"text-2xl font-bold text-green-700",children:o.optimized_count})]}),e.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm mb-1",children:[e.jsx(xe,{className:"w-4 h-4"}),"Bekleyen"]}),e.jsx("div",{className:"text-2xl font-bold text-amber-700",children:o.unoptimized_count})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-purple-600 text-sm mb-1",children:[e.jsx(ht,{className:"w-4 h-4"}),"KazanÃ§"]}),e.jsxs("div",{className:"text-2xl font-bold text-purple-700",children:[B(o.bytes_saved),o.percentage_saved>0&&e.jsxs("span",{className:"text-sm font-normal ml-1",children:["(%",o.percentage_saved,")"]})]})]})]}),u&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm text-slate-600 mb-2",children:[e.jsxs("span",{children:["Ä°ÅŸlenen: ",f.processed," / ",f.total]}),e.jsxs("span",{children:["KazanÃ§: ",B(_)]})]}),e.jsx("div",{className:"h-3 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300",style:{width:`${f.total>0?f.processed/f.total*100:0}%`}})})]}),r&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm",children:r}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:L=>T(L.target.checked),disabled:u,className:"rounded border-slate-300"}),"Sadece optimize edilmemiÅŸ gÃ¶rselleri iÅŸle"]}),e.jsx("div",{className:"flex-1"}),u?e.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-5 py-2.5 bg-amber-500 text-white font-semibold rounded-lg hover:bg-amber-600 transition-colors",children:[e.jsx(Ct,{className:"w-4 h-4"}),"Duraklat"]}):e.jsxs("button",{onClick:k,disabled:o?.unoptimized_count===0,className:"flex items-center gap-2 px-5 py-2.5 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx($e,{className:"w-4 h-4"}),"Optimizasyonu BaÅŸlat"]})]})]})}const Ks=({tenants:a,onSelect:o})=>{const{setAvailableTenants:t}=ke();return s.useEffect(()=>{t(a)},[a,t]),s.useEffect(()=>{a.length===1&&o(a[0])},[a,o]),a.length===1?e.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"YÃ¼kleniyor..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-cyan-500 to-teal-500 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx(je,{className:"text-white",size:32})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Site SeÃ§in"}),e.jsx("p",{className:"text-slate-500",children:"YÃ¶netmek istediÄŸiniz siteyi seÃ§in"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:a.map(i=>e.jsx("button",{onClick:()=>o(i),className:"bg-white rounded-2xl p-6 text-left hover:shadow-xl transition-all hover:-translate-y-1 border-2 border-transparent hover:border-cyan-500 group",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1 group-hover:text-cyan-600 transition-colors",children:i.name}),e.jsx("p",{className:"text-slate-500 text-sm",children:i.primary_domain}),e.jsx("span",{className:"inline-block mt-3 px-3 py-1 rounded-full text-xs font-bold uppercase",style:{backgroundColor:i.primary_color?`${i.primary_color}20`:"#0891b220",color:i.primary_color||"#0891b2"},children:i.tenant_role})]}),e.jsx(ot,{className:"text-slate-300 group-hover:text-cyan-500 transition-colors",size:24})]})},i.id))})]})})},Gs=()=>{const{currentTenant:a,availableTenants:o,setCurrentTenant:t}=ke(),[i,N]=s.useState(!1);return a?o.length<=1?e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white/5 rounded-lg text-white text-sm border border-white/10",children:[e.jsx(je,{size:16,className:"text-emerald-400"}),e.jsx("span",{className:"font-medium",children:a.name})]}):e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>N(!i),className:"flex items-center gap-2 px-3 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors text-white text-sm",children:[e.jsx(je,{size:16}),e.jsx("span",{className:"font-medium",children:a.name}),e.jsx(mt,{size:14,className:`transition-transform ${i?"rotate-180":""}`})]}),i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>N(!1)}),e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white rounded-xl shadow-xl border border-slate-200 z-50 overflow-hidden",children:[e.jsx("div",{className:"p-2 border-b border-slate-100",children:e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase px-2",children:"Site DeÄŸiÅŸtir"})}),e.jsx("div",{className:"py-1",children:o.map(u=>e.jsxs("button",{onClick:()=>{console.log("[TenantSwitcher] Switching to tenant:",u),t(u),N(!1),setTimeout(()=>{console.log("[TenantSwitcher] Navigating to /admin"),window.location.href="/admin"},100)},className:`w-full px-4 py-3 text-left flex items-center justify-between hover:bg-slate-50 transition-colors ${u.code===a.code?"bg-cyan-50":""}`,children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:u.name}),e.jsx("div",{className:"text-xs text-slate-500",children:u.primary_domain})]}),u.code===a.code&&e.jsx(he,{size:16,className:"text-cyan-600"})]},u.id))})]})]})]}):null},Hs=[{id:"content",title:"Ä°Ã§erik & Ä°letiÅŸim",icon:De,items:[{id:"messages",label:"Mesajlar",icon:xt},{id:"blog_list",label:"Ä°Ã§erik / Blog",icon:Kt},{id:"faq_list",label:"SSS",icon:Tt},{id:"podcast_list",label:"Podcastler",icon:de},{id:"landing_list",label:"Landing Builder",icon:Ut},{id:"media",label:"Medya",icon:ze},{id:"image_optimizer",label:"GÃ¶rsel Optimizasyonu",icon:ht}]},{id:"users",title:"KullanÄ±cÄ± & Klinik Ä°ÅŸlemler",icon:Pe,items:[{id:"user_list",label:"KullanÄ±cÄ±lar",icon:Pe},{id:"doctors",label:"Doktorlar",icon:Bt},{id:"nipt_bookings",label:"NIPT RandevularÄ±",icon:me}]},{id:"marketing",title:"Pazarlama & Analitik",icon:Ze,items:[{id:"analytics_seo",label:"Analytics & SEO",icon:Ze},{id:"branding",label:"Branding & Social",icon:bt}]},{id:"legal",title:"Hukuki & Uyumluluk",icon:qe,items:[{id:"legal_list",label:"Hukuki DokÃ¼manlar",icon:qe},{id:"contact_config_list",label:"Ä°letiÅŸim AyarlarÄ±",icon:Ie}]},{id:"system",title:"Sistem & Genel Ayarlar",icon:fe,items:[{id:"settings",label:"Ayarlar",icon:fe}]}],Ys=()=>{console.log("[DEBUG] Admin Component Mounting");const[a,o]=s.useState(()=>{const A=localStorage.getItem("admin_session");return A?JSON.parse(A):null}),[t,i]=s.useState(()=>localStorage.getItem("admin_active_tab")||"messages"),[N,u]=s.useState(()=>{const A=localStorage.getItem("admin_editing_post");return A?JSON.parse(A):null}),[y,v]=s.useState(null),[S,f]=s.useState(null),[C,_]=s.useState(null),[l,r]=s.useState(null),[n,h]=s.useState(null),[T,g]=s.useState(null),[m,B]=s.useState(!1),[p,b]=s.useState(["content","users","marketing","legal","system"]),k=A=>{b(R=>R.includes(A)?R.filter(I=>I!==A):[...R,A])},[$,L]=s.useState(null),{currentTenant:x,setCurrentTenant:c,setAvailableTenants:P,clearTenantContext:E}=ke(),d=x?.tenant_role||"viewer";s.useEffect(()=>{a&&a.tenants&&a.tenants.length>0&&(P(a.tenants),x||(a.tenants.length===1?c(a.tenants[0]):L(a.tenants)))},[a]),s.useEffect(()=>{localStorage.setItem("admin_active_tab",t)},[t]),s.useEffect(()=>{N?localStorage.setItem("admin_editing_post",JSON.stringify(N)):localStorage.removeItem("admin_editing_post")},[N]),s.useEffect(()=>{const A=async()=>{if(a)try{const I="/api",U={Authorization:`Bearer ${a.token}`};x&&(U["X-Tenant-Code"]=x.code),(await fetch(`${I}/index.php?action=check_session`,{headers:U})).status===401&&w()}catch{}};A();const R=setInterval(A,6e4);return()=>clearInterval(R)},[a,x]);const w=()=>{localStorage.clear(),E(),o(null)},j=A=>{o(A),localStorage.setItem("admin_session",JSON.stringify(A)),A.tenants&&A.tenants.length>0&&(P(A.tenants),A.tenants.length===1?c(A.tenants[0]):L(A.tenants))},O=A=>{c(A),L(null)};if(!a)return e.jsx(ss,{onLogin:j});if($&&$.length>1&&!x)return e.jsx(Ks,{tenants:$,onSelect:O});const z=()=>{switch(t){case"messages":return e.jsx(tt,{token:a.token});case"blog_list":return e.jsx(ls,{token:a.token,onEdit:A=>{u(A),i("blog_edit")},onCreate:()=>{u(null),i("blog_edit")}});case"blog_edit":return e.jsx(us,{token:a.token,post:N,onCancel:()=>i("blog_list"),onSave:()=>i("blog_list")});case"settings":return e.jsx(hs,{token:a.token,userName:a.user.name,userEmail:a.user.email});case"faq_list":return e.jsx(ps,{token:a.token,onEdit:A=>{v(A),i("faq_edit")},onCreate:()=>{v(null),i("faq_edit")}});case"faq_edit":return e.jsx(bs,{token:a.token,faq:y,onCancel:()=>i("faq_list"),onSave:()=>i("faq_list")});case"user_list":return e.jsx(ys,{token:a.token,userRole:d,onEdit:A=>{f(A),i("user_edit")},onCreate:()=>{f(null),i("user_edit")}});case"user_edit":return e.jsx(vs,{token:a.token,user:S,onCancel:()=>i("user_list"),onSave:()=>i("user_list")});case"analytics_seo":return e.jsx(Ns,{token:a.token});case"legal_list":return e.jsx(_s,{token:a.token,onEdit:A=>{_(A),i("legal_edit")},onCreate:()=>{_(null),i("legal_edit")}});case"legal_edit":return e.jsx(ks,{token:a.token,doc:C,onCancel:()=>i("legal_list"),onSave:()=>i("legal_list")});case"landing_list":return e.jsx(ws,{onEdit:A=>{r(A),i("landing_edit")}});case"landing_edit":return e.jsx(Ss,{editId:l,onBack:()=>i("landing_list")});case"contact_config_list":return e.jsx(zs,{onEdit:A=>{h(A),i("contact_config_edit")}});case"contact_config_edit":return e.jsx(As,{editId:n,onBack:()=>i("contact_config_list")});case"media":return e.jsx(Ts,{});case"image_optimizer":return e.jsx(Us,{token:a.token});case"nipt_bookings":return e.jsx(Ps,{token:a.token});case"doctors":return e.jsx(Ls,{token:a.token});case"branding":return e.jsx(Ds,{});case"podcast_list":return e.jsx(Ms,{token:a.token,onEdit:A=>{g(A),i("podcast_edit")},onCreate:()=>{g(null),i("podcast_edit")}});case"podcast_edit":return e.jsx(Fs,{token:a.token,podcast:T,onCancel:()=>i("podcast_list"),onSave:()=>i("podcast_list")});default:return e.jsx(tt,{token:a.token})}};return e.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[e.jsx("button",{onClick:()=>B(!m),className:"lg:hidden fixed bottom-6 right-6 z-50 bg-slate-900 text-white p-4 rounded-full shadow-2xl",children:m?e.jsx(ie,{size:24}):e.jsx(At,{size:24})}),e.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-40 w-64 bg-slate-900 text-white transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0
        ${m?"translate-x-0":"-translate-x-full"}
      `,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-rose-500 to-purple-600 flex items-center justify-center font-bold text-white",children:"T"}),e.jsxs("span",{className:"font-heading font-bold text-lg",children:["Turp ",e.jsx("span",{className:"text-slate-400",children:"Panel"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx(Gs,{})}),e.jsx("nav",{className:"space-y-2",children:Hs.map(A=>{const R=A.items.some(I=>t===I.id||t.startsWith(I.id.replace("_list","")));return e.jsxs("div",{className:"mb-2",children:[e.jsxs("button",{onClick:()=>k(A.id),className:`w-full flex items-center justify-between px-4 py-2 transition-colors ${R?"text-white":"text-slate-400 hover:text-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A.icon,{size:18,className:R?"text-rose-400":""}),e.jsx("span",{className:"font-semibold text-sm uppercase tracking-wider",children:A.title})]}),p.includes(A.id)?e.jsx(mt,{size:16}):e.jsx(ye,{size:16})]}),p.includes(A.id)&&e.jsx("div",{className:"mt-1 space-y-1 pl-4 border-l border-white/10 ml-4",children:A.items.map(I=>{let M=d==="admin";return I.id==="messages"&&(M=!0),I.id==="settings"&&(M=!0),M?e.jsxs("button",{onClick:()=>{i(I.id),B(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-all ${t===I.id||t.startsWith(I.id.replace("_list",""))?"bg-rose-600 text-white shadow-md":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[e.jsx(I.icon,{size:18}),e.jsx("span",{className:"font-medium text-sm",children:I.label})]},I.id):null})})]},A.id)})}),e.jsxs("div",{className:"absolute bottom-6 left-6 right-6 pt-6 border-t border-white/10",children:[e.jsxs("a",{href:"/",target:"_blank",className:"w-full flex items-center gap-3 px-4 py-3 text-slate-400 hover:text-white transition-colors mb-2",children:[e.jsx(Pt,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Web Sitesine Git"})]}),e.jsxs("button",{onClick:w,className:"w-full flex items-center gap-3 px-4 py-3 text-rose-400 hover:text-rose-300 transition-colors",children:[e.jsx(Ft,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"GÃ¼venli Ã‡Ä±kÄ±ÅŸ"})]})]})]})}),e.jsxs("main",{className:"flex-1 p-6 lg:p-10 overflow-y-auto h-screen",children:[e.jsx("header",{className:"mb-8 flex justify-between items-center",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-slate-900",children:[t==="messages"&&"Mesaj YÃ¶netimi",t==="blog_list"&&"Ä°Ã§erik YÃ¶netimi",t==="blog_edit"&&"Ä°Ã§erik DÃ¼zenleyici",t==="faq_list"&&"SSS YÃ¶netimi",t==="faq_edit"&&"SSS DÃ¼zenleyici",t==="user_list"&&"KullanÄ±cÄ± YÃ¶netimi",t==="user_edit"&&"KullanÄ±cÄ± DÃ¼zenleyici",t==="analytics_seo"&&"Analytics & SEO",t==="legal_list"&&"Hukuki DokÃ¼manlar",t==="legal_edit"&&"DokÃ¼man DÃ¼zenleyici",t==="nipt_bookings"&&"NIPT Randevu YÃ¶netimi",t==="podcast_list"&&"Podcast YÃ¶netimi",t==="podcast_edit"&&"Podcast DÃ¼zenleyici",t==="image_optimizer"&&"GÃ¶rsel Optimizasyonu",t==="settings"&&"Hesap AyarlarÄ±"]}),e.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["HoÅŸgeldin, ",a.user.name]})]})}),z()]}),m&&e.jsx("div",{onClick:()=>B(!1),className:"fixed inset-0 z-30 bg-black/50 lg:hidden backdrop-blur-sm"})]})},ra=()=>e.jsx(Wt,{children:e.jsx(Nt,{children:e.jsx(Ys,{})})});export{ra as Admin};
