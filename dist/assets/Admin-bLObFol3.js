import{j as e}from"./vendor-radix-qxIl5h-v.js";import{r as s,f as pt}from"./vendor-react-Dt9o8Ni5.js";import{c as G,d as W,e as re,h as et,E as be,L as F,b as tt,u as ae,i as ke,j as Se,X as ie,k as xe,F as _e,S as le,l as me,m as ge,_ as bt,n as he,A as ne,C as fe,o as Te,G as ee,p as st,q as $e,r as Le,U as at,s as Oe,v as gt,w as Re,x as lt,P as Pe,B as je,y as ft,I as Fe,z as Ke,T as Ue,D as de,H as jt,J as yt,K as vt,N as Nt}from"./index-D1pfzlRg.js";import{u as Ge,o as rt,b as _t,s as Be}from"./vendor-forms-CJaTxEnb.js";import{a as He}from"./zod-CxgM3QOf.js";import{u as wt}from"./vendor-i18n-vL7LjlWW.js";import{E as te}from"./eye-HycRCOwH.js";import{B as nt}from"./bar-chart-3-DkEBiS7_.js";import{I as Ee}from"./image-Cn1ZL72Q.js";import{F as Ye}from"./facebook-CAQh2leZ.js";import{M as kt}from"./message-circle-ZaUshX9y.js";import{H as St}from"./help-circle-jQwRuTQR.js";import{E as zt}from"./external-link-CW_S-kiO.js";import"./vendor-utils-BznqKjY6.js";import"./vendor-markdown-DGnlj1uy.js";const Ct=G("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const De=G("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const At=G("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Tt=G("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]);const ye=G("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const it=G("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);const Bt=G("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);const Me=G("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);const $t=G("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const Lt=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const ot=G("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const Pt=G("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const ve=G("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);const ze=G("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const X=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const ct=G("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Z=G("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Et=G("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const Dt=G("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const dt=G("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);const V=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Mt=G("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);const It=G("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);const xt=G("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Je=G("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const Ot=G("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);const Rt=G("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Ft={logo:{light:null,dark:null},favicon:null,loginHeroImage:null,colors:{primary:"#6366f1",secondary:"#8b5cf6",accent:"#10b981",background:"#ffffff",textPrimary:"#1f2937",textMuted:"#6b7280"},typography:{fontBase:"Inter",fontHeading:"Inter",borderRadius:"0.5rem"},social:{}},Kt=s.createContext({branding:Ft,loading:!0,error:null}),Ie=()=>s.useContext(Kt),Ut=({features:a=[],tagline:c="YÃ¶netim Paneline HoÅŸ Geldiniz"})=>{const{branding:t}=Ie(),i=["GÃ¼venli EriÅŸim","Ä°Ã§erik YÃ¶netimi","Veri Analizi"],j=a.length>0?a:i,g=s.useMemo(()=>t.loginHeroImage?{backgroundImage:`url(${t.loginHeroImage})`,backgroundSize:"cover",backgroundPosition:"center"}:{background:`linear-gradient(135deg, ${t.colors.primary}cc 0%, ${t.colors.secondary}cc 100%)`},[t.loginHeroImage,t.colors.primary,t.colors.secondary]);return e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative text-white flex-col justify-between p-12",style:g,children:[t.loginHeroImage&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 to-black/40"}),e.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full",children:[t.logo.light&&e.jsx("div",{className:"mb-8",children:e.jsx("img",{src:t.logo.light,alt:"Logo",className:"h-10 w-auto object-contain filter brightness-0 invert"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold leading-tight mb-4",children:c}),e.jsx("p",{className:"text-white/90 text-lg leading-relaxed",children:"Klinik Ã§alÄ±ÅŸma ve veri yÃ¶netimi platformuna hoÅŸ geldiniz. Site yÃ¶netimi, kullanÄ±cÄ± kontrolÃ¼ ve iÃ§erik dÃ¼zenleme araÃ§larÄ±na buradan eriÅŸebilirsiniz."})]}),j.length>0&&e.jsx("div",{className:"space-y-3 mt-8 pt-6 border-t border-white/20",children:j.map((f,v)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(W,{size:20,className:"text-white/80 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-base font-medium text-white/90",children:f})]},v))})]}),e.jsx("div",{className:"text-white/60 text-sm border-t border-white/20 pt-6",children:"Â© 2026 Turp. TÃ¼m haklarÄ± saklÄ±dÄ±r."})]})]})},Gt=rt({email:Be().email("GeÃ§erli bir e-posta adresi girin"),password:Be().min(6,"Åifre en az 6 karakter olmalÄ±dÄ±r"),rememberMe:_t().optional()}),Ht=rt({email:Be().email("GeÃ§erli bir e-posta adresi girin")}),Yt=({onSuccess:a,onError:c})=>{const{branding:t}=Ie(),{i18n:i}=wt(),[j,g]=s.useState("login"),[f,v]=s.useState(!1),[k,y]=s.useState(!1),[A,_]=s.useState(""),[r,n]=s.useState(""),l="/api",{register:p,handleSubmit:T,formState:{errors:S},reset:m}=Ge({resolver:He(Gt)}),{register:w,handleSubmit:b,formState:{errors:u},reset:N}=Ge({resolver:He(Ht)}),$=async o=>{_(""),y(!0);try{const B=await(await fetch(`${l}/index.php?action=login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o.email,password:o.password,remember_me:o.rememberMe||!1})})).json();if(B.error){const d=B.error||"GiriÅŸ baÅŸarÄ±sÄ±z oldu";_(d),c?.(d)}else B.success&&(localStorage.setItem("admin_token",B.token),localStorage.setItem("admin_user",JSON.stringify(B.user)),m(),a?.(B))}catch{const B="BaÄŸlantÄ± hatasÄ± oluÅŸtu";_(B),c?.(B)}finally{y(!1)}},D=async o=>{_(""),y(!0);try{const B=await(await fetch(`${l}/index.php?action=forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o.email})})).json();B.message?(n(B.message),g("success"),N()):B.error&&_(B.error)}catch{_("BaÄŸlantÄ± hatasÄ± oluÅŸtu")}finally{y(!1)}},h=()=>{g("login"),_(""),N()};return e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[t.logo.light&&e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("img",{src:t.logo.light,alt:"Logo",className:"h-12 w-auto object-contain"})}),j==="login"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"GiriÅŸ Yap"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"YÃ¶netim paneline eriÅŸmek iÃ§in bilgilerinizi girin"})]}),j==="forgot-password"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Åifremi Unuttum"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"E-posta adresinizi girin, size ÅŸifre sÄ±fÄ±rlama baÄŸlantÄ±sÄ± gÃ¶nderelim"})]}),j==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",style:{backgroundColor:`${t.colors.primary}20`},children:e.jsx(W,{size:32,style:{color:t.colors.primary}})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"E-posta GÃ¶nderildi!"})]})]}),j==="login"&&e.jsxs("form",{onSubmit:T($),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"E-posta Adresi"}),e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),e.jsx("input",{type:"email",placeholder:"admin@turp.health",className:"w-full pl-11 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:border-slate-300 focus:ring-2 transition-all outline-none",style:{"--tw-ring-color":`${t.colors.primary}40`,"--focus-border":t.colors.primary},...p("email"),disabled:k})]}),S.email&&e.jsx("p",{className:"text-sm text-red-600",children:S.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Åifre"}),e.jsxs("div",{className:"relative",children:[e.jsx(et,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),e.jsx("input",{type:f?"text":"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"w-full pl-11 pr-12 py-3 border-2 border-slate-200 rounded-xl focus:border-slate-300 focus:ring-2 transition-all outline-none",style:{"--tw-ring-color":`${t.colors.primary}40`},...p("password"),disabled:k}),e.jsx("button",{type:"button",onClick:()=>v(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:f?e.jsx(be,{size:20}):e.jsx(te,{size:20})})]}),S.password&&e.jsx("p",{className:"text-sm text-red-600",children:S.password.message})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 transition-all",style:{accentColor:t.colors.primary},...p("rememberMe")}),e.jsx("span",{className:"text-sm text-slate-700",children:"Beni hatÄ±rla"})]}),e.jsx("button",{type:"button",onClick:()=>{g("forgot-password"),_("")},className:"text-sm font-medium transition-colors",style:{color:t.colors.primary},children:"Åifremi unuttum"})]}),A&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:A}),e.jsx("button",{type:"submit",disabled:k,className:"w-full text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:t.colors.primary,opacity:k?.7:1},children:k?e.jsxs(e.Fragment,{children:[e.jsx(F,{size:20,className:"animate-spin"}),"GiriÅŸ yapÄ±lÄ±yor..."]}):e.jsxs(e.Fragment,{children:["GiriÅŸ Yap",e.jsx(tt,{size:20})]})})]}),j==="forgot-password"&&e.jsxs("form",{onSubmit:b(D),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"E-posta Adresi"}),e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),e.jsx("input",{type:"email",placeholder:"admin@turp.health",className:"w-full pl-11 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:border-slate-300 focus:ring-2 transition-all outline-none",...w("email"),disabled:k})]}),u.email&&e.jsx("p",{className:"text-sm text-red-600",children:u.email.message})]}),A&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:A}),e.jsx("button",{type:"submit",disabled:k,className:"w-full text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all disabled:opacity-50",style:{backgroundColor:t.colors.primary},children:k?"GÃ¶nderiliyor...":"Åifre SÄ±fÄ±rlama Linki GÃ¶nder"}),e.jsx("button",{type:"button",onClick:h,className:"w-full font-medium py-2 transition-colors",style:{color:t.colors.primary},children:"â† GiriÅŸ ekranÄ±na dÃ¶n"})]}),j==="success"&&e.jsxs("div",{className:"text-center py-4 space-y-6",children:[e.jsx("p",{className:"text-slate-600",children:r}),e.jsx("button",{onClick:h,className:"font-medium transition-colors",style:{color:t.colors.primary},children:"â† GiriÅŸ ekranÄ±na dÃ¶n"})]}),e.jsx("div",{className:"mt-8 p-4 bg-slate-50 rounded-lg border border-slate-200",children:e.jsx("p",{className:"text-xs text-slate-600 text-center",children:"ğŸ”’ Bu panel yalnÄ±zca yetkili kullanÄ±cÄ±lar iÃ§indir. TÃ¼m giriÅŸ denemeleri kaydedilmektedir."})})]})},Jt=({onLogin:a})=>{const c=pt(),{branding:t,loading:i}=Ie(),j=f=>{a?a(f):c("/admin")},g=f=>{console.error("Login error:",f)};return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx(F,{className:"h-12 w-12 animate-spin mx-auto mb-4",style:{color:t.colors.primary}}),e.jsx("p",{className:"text-slate-600",children:"YÃ¼kleniyor..."})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:t.colors.background},children:e.jsx("div",{className:"w-full max-w-6xl bg-white rounded-2xl shadow-2xl overflow-hidden",children:e.jsxs("div",{className:"grid md:grid-cols-2",children:[e.jsx(Ut,{}),e.jsx("div",{className:"flex items-center justify-center p-8 md:p-12",children:e.jsx(Yt,{onSuccess:j,onError:g})})]})})})},mt=s.createContext(void 0),pe="admin_current_tenant",Ce="admin_available_tenants",qe=(a,c)=>{localStorage.getItem("DEBUG_TENANT")==="true"&&console.log(`[TenantContext] ${a}`,c||"")},ht=({children:a})=>{const[c,t]=s.useState(()=>{const y=localStorage.getItem(pe);return y?JSON.parse(y):null}),[i,j]=s.useState(()=>{const y=localStorage.getItem(Ce);return y?JSON.parse(y):[]}),g=s.useCallback(y=>{qe("setCurrentTenant called",{tenant:y,previousTenant:c}),t(y),localStorage.setItem(pe,JSON.stringify(y)),qe("localStorage updated",{key:pe,value:y})},[c]),f=s.useCallback(y=>{j(y),localStorage.setItem(Ce,JSON.stringify(y))},[]),v=s.useCallback(y=>{const A=i.find(_=>_.code===y);A&&g(A)},[i,g]),k=s.useCallback(()=>{t(null),j([]),localStorage.removeItem(pe),localStorage.removeItem(Ce)},[]);return e.jsx(mt.Provider,{value:{currentTenant:c,availableTenants:i,setCurrentTenant:g,setAvailableTenants:f,switchTenant:v,clearTenantContext:k},children:a})},Ne=()=>{const a=s.useContext(mt);if(a===void 0)throw new Error("useTenant must be used within a TenantProvider");return a},E=()=>{const a=localStorage.getItem(pe);if(a){const c=JSON.parse(a);return{"X-Tenant-Id":String(c.id||""),"X-Tenant-Code":c.code||""}}return{}},qt=Object.freeze(Object.defineProperty({__proto__:null,TenantProvider:ht,getTenantHeader:E,useTenant:Ne},Symbol.toStringTag,{value:"Module"})),We=({token:a})=>{const[c,t]=s.useState([]),[i,j]=s.useState(!0),g=ae(),[f,v]=s.useState("all"),[k,y]=s.useState(1),[A,_]=s.useState(1),[r,n]=s.useState(null),[l,p]=s.useState(!1),T="/api",S=T.endsWith("/index.php")?T:`${T}/index.php`,m=async()=>{j(!0);try{const u=await(await fetch(`${S}?action=get_messages&status=${f}&page=${k}`,{headers:{Authorization:`Bearer ${a}`,...E()}})).json();u.success?(t(u.data),_(u.pagination.pages)):g.error("Mesajlar yÃ¼klenirken hata oluÅŸtu: "+(u.error||"Bilinmeyen hata"))}catch(b){console.error(b),g.error("Mesajlar alÄ±namadÄ±: "+(b.message||"BaÄŸlantÄ± hatasÄ±"))}finally{j(!1)}};s.useEffect(()=>{m()},[f,k]);const w=async(b,u)=>{p(!0);try{(await(await fetch(`${S}?action=update_message_status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify({id:b,status:u})})).json()).success?(t(c.map(D=>D.id===b?{...D,status:u}:D)),r?.id===b&&n({...r,status:u}),g.success(u==="read"?"Mesaj okundu olarak iÅŸaretlendi":u==="archived"?"Mesaj arÅŸivlendi":"Durum gÃ¼ncellendi")):g.error("GÃ¼ncelleme hatasÄ±")}catch{g.error("BaÄŸlantÄ± hatasÄ±")}finally{p(!1)}};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(re,{className:"text-cyan-600"})," Mesaj Kutusu"]}),e.jsx("div",{className:"flex items-center gap-2 bg-slate-50 p-1 rounded-lg border border-slate-200",children:["all","new","read","archived"].map(b=>e.jsx("button",{onClick:()=>{v(b),y(1)},className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${f===b?"bg-white text-cyan-700 shadow-sm border border-slate-100":"text-slate-500 hover:text-slate-700"}`,children:b==="all"?"TÃ¼mÃ¼":b==="new"?"Yeni":b==="read"?"OkunmuÅŸ":"ArÅŸiv"},b))})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 border-b",children:"Durum"}),e.jsx("th",{className:"p-4 border-b",children:"GÃ¶nderen"}),e.jsx("th",{className:"p-4 border-b",children:"Konu"}),e.jsx("th",{className:"p-4 border-b",children:"Tarih"}),e.jsx("th",{className:"p-4 border-b text-right",children:"Ä°ÅŸlem"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:e.jsx(F,{className:"animate-spin mx-auto w-8 h-8 opacity-50"})})}):c.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"Mesaj bulunamadÄ±."})}):c.map(b=>e.jsxs("tr",{className:`hover:bg-slate-50 transition-colors cursor-pointer ${b.status==="new"?"bg-cyan-50/30":""}`,onClick:()=>n(b),children:[e.jsxs("td",{className:"p-4",children:[e.jsx("span",{className:`inline-block w-2.5 h-2.5 rounded-full ${b.status==="new"?"bg-green-500":b.status==="read"?"bg-slate-300":"bg-orange-300"}`}),e.jsx("span",{className:"ml-2 text-xs font-medium text-slate-500 uppercase",children:b.status})]}),e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-semibold text-slate-900",children:b.full_name}),e.jsx("div",{className:"text-xs text-slate-500",children:b.email})]}),e.jsx("td",{className:"p-4 text-slate-700 font-medium",children:b.subject}),e.jsx("td",{className:"p-4 text-slate-500 text-sm",children:new Date(b.created_at).toLocaleDateString("tr-TR")}),e.jsx("td",{className:"p-4 text-right",children:e.jsx("button",{className:"p-2 text-slate-400 hover:text-cyan-600 transition-colors",onClick:u=>{u.stopPropagation(),n(b)},children:e.jsx(te,{size:18})})})]},b.id))})]})}),A>1&&e.jsxs("div",{className:"p-4 border-t border-slate-100 flex justify-center gap-2",children:[e.jsx("button",{disabled:k===1,onClick:()=>y(b=>b-1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:e.jsx(ke,{size:16})}),e.jsxs("span",{className:"px-4 py-2 text-sm text-slate-600 font-medium",children:["Sayfa ",k," / ",A]}),e.jsx("button",{disabled:k===A,onClick:()=>y(b=>b+1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:e.jsx(Se,{size:16})})]}),r&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:r.subject}),e.jsx("button",{onClick:()=>n(null),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:e.jsx(ie,{size:20,className:"text-slate-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-400 text-xs uppercase font-bold mb-1",children:"GÃ¶nderen"}),e.jsx("div",{className:"font-medium text-slate-900",children:r.full_name}),e.jsx("div",{className:"text-cyan-600",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-400 text-xs uppercase font-bold mb-1",children:"Tarih"}),e.jsx("div",{className:"font-medium text-slate-900",children:new Date(r.created_at).toLocaleString("tr-TR")})]}),r.organization&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-slate-400 text-xs uppercase font-bold mb-1",children:"Kurum / Organizasyon"}),e.jsx("div",{className:"font-medium text-slate-900",children:r.organization})]})]}),e.jsx("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100 text-slate-800 leading-relaxed whitespace-pre-wrap",children:r.message_body}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex gap-2",children:[r.status!=="read"&&e.jsxs("button",{onClick:()=>w(r.id,"read"),disabled:l,className:"bg-white border border-green-200 text-green-700 hover:bg-green-50 px-4 py-2 rounded-lg font-medium text-sm flex items-center gap-2",children:[e.jsx(W,{size:16})," Okundu Ä°ÅŸaretle"]}),r.status!=="archived"&&e.jsxs("button",{onClick:()=>w(r.id,"archived"),disabled:l,className:"bg-white border border-orange-200 text-orange-700 hover:bg-orange-50 px-4 py-2 rounded-lg font-medium text-sm flex items-center gap-2",children:[e.jsx(Ct,{size:16})," ArÅŸivle"]})]}),e.jsx("a",{href:`mailto:${r.email}?subject=RE: ${r.subject}`,className:"bg-cyan-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-cyan-700 transition-colors shadow-lg shadow-cyan-200",children:"YanÄ±tla"})]})]})]})})]})},Wt=({token:a,onEdit:c,onCreate:t})=>{const[i,j]=s.useState([]),[g,f]=s.useState(!0),v=ae(),k=xe(),[y,A]=s.useState("all"),[_,r]=s.useState(""),[n,l]=s.useState(1),[p,T]=s.useState(1),S="/api",m=S.endsWith("/index.php")?S:`${S}/index.php`,w=async()=>{f(!0);try{const $=await(await fetch(`${m}?action=get_blog_posts_admin&status=${y}&search=${_}&page=${n}`,{headers:{Authorization:`Bearer ${a}`,...E()}})).json();$.success?(j($.data),T($.pagination.pages)):v.error($.error||"Blog yazÄ±larÄ± alÄ±namadÄ±")}catch(N){console.error("Fetch error:",N),v.error("Veri yÃ¼klenemedi: "+(N.message||"BaÄŸlantÄ± hatasÄ±"))}finally{f(!1)}};s.useEffect(()=>{const N=setTimeout(()=>{w()},300);return()=>clearTimeout(N)},[y,_,n]);const b=async N=>{if(await k({title:"Ä°Ã§erik Sil",message:"Bu iÃ§eriÄŸi silmek istediÄŸinize emin misiniz? Bu iÅŸlem geri alÄ±namaz.",confirmLabel:"Sil",cancelLabel:"Ä°ptal",type:"danger"}))try{(await(await fetch(`${m}?action=delete_blog_post`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify({id:N})})).json()).success?(j(i.filter(o=>o.id!==N)),v.success("Ä°Ã§erik baÅŸarÄ±yla silindi")):v.error("Silme hatasÄ±")}catch{v.error("BaÄŸlantÄ± hatasÄ±")}},u=({hasTranslation:N,lang:$})=>e.jsxs("span",{className:`inline-flex items-center gap-0.5 text-xs ${N?"text-green-600":"text-amber-500"}`,children:[$,N?e.jsx(W,{size:10}):e.jsx(ge,{size:10})]});return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 mb-1",children:[e.jsx(_e,{className:"text-rose-600"})," Blog Ä°Ã§erikleri"]}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Ã‡ok dilli blog yazÄ±larÄ±nÄ± buradan yÃ¶netin."})]}),e.jsxs("button",{type:"button",onClick:t,className:"bg-slate-900 text-white px-4 py-2 rounded-xl font-bold hover:bg-rose-600 transition-all flex items-center gap-2 shadow-lg shadow-rose-200",children:[e.jsx(X,{size:18})," Yeni Ä°Ã§erik Ekle"]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"BaÅŸlÄ±kta ara (TR/EN/ZH)...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg outline-none focus:border-rose-500",value:_,onChange:N=>r(N.target.value)})]}),e.jsxs("select",{className:"p-2 border border-slate-200 rounded-lg outline-none focus:border-rose-500 bg-white",value:y,onChange:N=>A(N.target.value),children:[e.jsx("option",{value:"all",children:"TÃ¼m Durumlar"}),e.jsx("option",{value:"published",children:"YayÄ±nda"}),e.jsx("option",{value:"draft",children:"Taslak"}),e.jsx("option",{value:"archived",children:"ArÅŸiv"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-white text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Durum"}),e.jsx("th",{className:"p-4",children:"BaÅŸlÄ±k"}),e.jsx("th",{className:"p-4",children:"Ã‡eviriler"}),e.jsx("th",{className:"p-4",children:"Tarih"}),e.jsx("th",{className:"p-4 text-right",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:g?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-400",children:e.jsx(F,{className:"animate-spin mx-auto"})})}):i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"Ä°Ã§erik bulunamadÄ±."})}):i.map(N=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${N.status==="published"?"bg-green-100 text-green-700":N.status==="draft"?"bg-slate-100 text-slate-600":"bg-orange-100 text-orange-700"}`,children:N.status})}),e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-bold text-slate-900 line-clamp-1",children:N.title_tr||"(baÅŸlÄ±ksÄ±z)"}),e.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["/",N.slug]})]}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{hasTranslation:!!N.title_tr,lang:"TR"}),e.jsx(u,{hasTranslation:!!N.title_en,lang:"EN"}),e.jsx(u,{hasTranslation:!!N.title_zh,lang:"ZH"})]})}),e.jsx("td",{className:"p-4 text-sm text-slate-500",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(me,{size:14})," ",new Date(N.created_at).toLocaleDateString("tr-TR")]})}),e.jsxs("td",{className:"p-4 text-right space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>c(N),className:"p-2 bg-white border border-slate-200 rounded-lg hover:border-cyan-500 hover:text-cyan-600 transition-all shadow-sm",children:e.jsx(ze,{size:16})}),e.jsx("button",{type:"button",onClick:()=>b(N.id),className:"p-2 bg-white border border-slate-200 rounded-lg hover:border-red-500 hover:text-red-600 transition-all shadow-sm",children:e.jsx(V,{size:16})})]})]},N.id))})]})}),p>1&&e.jsxs("div",{className:"p-4 border-t border-slate-100 flex justify-center gap-2",children:[e.jsx("button",{type:"button",disabled:n===1,onClick:()=>l(N=>N-1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:e.jsx(ke,{size:16})}),e.jsxs("span",{className:"px-4 py-2 text-sm text-slate-600 font-medium",children:[n," / ",p]}),e.jsx("button",{type:"button",disabled:n===p,onClick:()=>l(N=>N+1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:e.jsx(Se,{size:16})})]})]})},Vt={maxWidth:1600,maxHeight:1600,quality:.8,targetMaxSizeKB:500,outputFormat:"image/webp"};function Xt(a){return new Promise((c,t)=>{const i=new Image;i.onload=()=>c(i),i.onerror=()=>t(new Error("GÃ¶rsel yÃ¼klenirken hata oluÅŸtu")),i.src=URL.createObjectURL(a)})}function Zt(a,c,t,i){if(a<=t&&c<=i)return{width:a,height:c};const j=a/c;let g=t,f=t/j;return f>i&&(f=i,g=i*j),{width:Math.round(g),height:Math.round(f)}}async function Qt(a,c,t,i){let j=i,g=null;const f=.3;for(;j>=f;){if(g=await new Promise(k=>{a.toBlob(k,t,j)}),!g)throw new Error("GÃ¶rsel sÄ±kÄ±ÅŸtÄ±rÄ±lÄ±rken hata oluÅŸtu");if(g.size/1024<=c||j<=f)break;j-=.1}return g}async function es(a,c={}){const t={...Vt,...c};let i=t.outputFormat;a.type==="image/png"&&i==="image/jpeg"&&(i="image/webp");const j=a.size/1024,g=await Xt(a),f=g.naturalWidth,v=g.naturalHeight;if(j<=t.targetMaxSizeKB&&f<=t.maxWidth&&v<=t.maxHeight){const p=await new Promise(T=>{const S=new FileReader;S.onloadend=()=>T(S.result),S.readAsDataURL(a)});return URL.revokeObjectURL(g.src),{blob:a,width:f,height:v,originalWidth:f,originalHeight:v,originalSizeKB:Math.round(j),processedSizeKB:Math.round(j),dataUrl:p}}const{width:y,height:A}=Zt(f,v,t.maxWidth,t.maxHeight),_=document.createElement("canvas");_.width=y,_.height=A;const r=_.getContext("2d");if(!r)throw new Error("Canvas context oluÅŸturulamadÄ±");r.imageSmoothingEnabled=!0,r.imageSmoothingQuality="high",r.drawImage(g,0,0,y,A),URL.revokeObjectURL(g.src);const n=await Qt(_,t.targetMaxSizeKB,i,t.quality),l=await new Promise(p=>{const T=new FileReader;T.onloadend=()=>p(T.result),T.readAsDataURL(n)});return{blob:n,width:y,height:A,originalWidth:f,originalHeight:v,originalSizeKB:Math.round(j),processedSizeKB:Math.round(n.size/1024),dataUrl:l}}function ts(a,c=20){if(!["image/jpeg","image/png","image/webp","image/gif"].includes(a.type))return{valid:!1,error:"Desteklenmeyen dosya formatÄ±. LÃ¼tfen JPEG, PNG veya WebP yÃ¼kleyin."};const i=c*1024*1024;return a.size>i?{valid:!1,error:`Dosya Ã§ok bÃ¼yÃ¼k. Maksimum boyut: ${c}MB`}:{valid:!0}}const ss={blogCover:{maxWidth:1600,maxHeight:900,quality:.85,targetMaxSizeKB:400,outputFormat:"image/webp"},thumbnail:{maxWidth:400,maxHeight:300,quality:.75,targetMaxSizeKB:100,outputFormat:"image/webp"},avatar:{maxWidth:512,maxHeight:512,quality:.8,targetMaxSizeKB:150,outputFormat:"image/webp"},hero:{maxWidth:1920,maxHeight:1080,quality:.85,targetMaxSizeKB:600,outputFormat:"image/webp"}},as=({uploadEndpoint:a="/api/index.php?action=upload_image",token:c,onUploadSuccess:t,onUploadError:i,onRemove:j,existingImageUrl:g,processingOptions:f,preset:v,maxFileSizeMB:k=20,label:y="GÃ¶rsel YÃ¼kle",helperText:A="JPEG, PNG veya WebP. Maks 20MB.",showSizeInfo:_=!0,disabled:r=!1,className:n="",compact:l=!1})=>{const[p,T]=s.useState("idle"),[S,m]=s.useState(null),[w,b]=s.useState(g||null),[u,N]=s.useState(null),[$,D]=s.useState(!1),h=s.useRef(null),o=s.useCallback(()=>({...v?ss[v]:{},...f}),[v,f]),L=s.useCallback(()=>{T("idle"),m(null),b(g||null),N(null),h.current&&(h.current.value="")},[g]),B=s.useCallback(async M=>{m(null);const U=ts(M,k);if(!U.valid){m(U.error),T("error"),i?.(U.error);return}try{T("processing");const J=await es(M,o());N(J),b(J.dataUrl),T("uploading");const q=new FormData,ue=J.blob.type.split("/")[1],oe=new File([J.blob],`image.${ue}`,{type:J.blob.type});q.append("image",oe);const{getTenantHeader:O}=await bt(async()=>{const{getTenantHeader:ut}=await Promise.resolve().then(()=>qt);return{getTenantHeader:ut}},void 0),Y=O();Y["X-Tenant-Id"]&&q.append("tenant_id",Y["X-Tenant-Id"]),Y["X-Tenant-Code"]&&q.append("tenant_code",Y["X-Tenant-Code"]);const se={...Y};c&&(se.Authorization=`Bearer ${c}`);const Q=await(await fetch(a,{method:"POST",headers:se,body:q})).json();if(Q.success&&Q.url)T("success"),t?.(Q.url,J);else throw new Error(Q.error||"YÃ¼kleme baÅŸarÄ±sÄ±z oldu")}catch(J){const q=J instanceof Error?J.message:"Bir hata oluÅŸtu";m(q),T("error"),i?.(q)}},[o,k,i,t,c,a]),d=s.useCallback(M=>{const U=M.target.files?.[0];U&&B(U)},[B]),C=s.useCallback(M=>{M.preventDefault(),M.stopPropagation(),r||D(!0)},[r]),x=s.useCallback(M=>{M.preventDefault(),M.stopPropagation(),D(!1)},[]),P=s.useCallback(M=>{if(M.preventDefault(),M.stopPropagation(),D(!1),r)return;const U=M.dataTransfer.files?.[0];U&&U.type.startsWith("image/")?B(U):(m("LÃ¼tfen geÃ§erli bir gÃ¶rsel dosyasÄ± bÄ±rakÄ±n"),T("error"))},[r,B]),z=s.useCallback(()=>{L(),j?.()},[L,j]),I=s.useCallback(()=>{!r&&p!=="processing"&&p!=="uploading"&&h.current?.click()},[r,p]),K=s.useCallback(M=>{(M.key==="Enter"||M.key===" ")&&!r&&(M.preventDefault(),I())},[r,I]),H=()=>{switch(p){case"processing":return"GÃ¶rsel iÅŸleniyor...";case"uploading":return"YÃ¼kleniyor...";case"success":return"YÃ¼kleme tamamlandÄ±";case"error":return S||"Bir hata oluÅŸtu";default:return null}},R=["relative rounded-xl border-2 border-dashed transition-all duration-200",$?"border-cyan-400 bg-cyan-50":"border-slate-200 hover:border-slate-300",r?"opacity-50 cursor-not-allowed":"cursor-pointer",p==="error"?"border-red-300 bg-red-50":"",p==="success"?"border-emerald-300":"",n].filter(Boolean).join(" ");return e.jsxs("div",{className:"space-y-2",children:[y&&e.jsx("label",{className:"block text-sm font-bold text-slate-700",children:y}),e.jsxs("div",{className:R,onDragOver:C,onDragLeave:x,onDrop:P,onClick:I,onKeyDown:K,tabIndex:r?-1:0,role:"button","aria-label":y,"aria-disabled":r,children:[e.jsx("input",{ref:h,type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:d,className:"sr-only",disabled:r||p==="processing"||p==="uploading","aria-hidden":"true"}),w?e.jsxs("div",{className:l?"p-3":"p-4",children:[e.jsxs("div",{className:`relative ${l?"h-32":"h-48"} w-full overflow-hidden rounded-lg bg-slate-100`,children:[e.jsx("img",{src:w,alt:"Ã–nizleme",className:"h-full w-full object-contain"}),(p==="processing"||p==="uploading")&&e.jsx("div",{className:"absolute inset-0 bg-white/80 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-2 text-cyan-600",children:[e.jsx(F,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{className:"font-medium",children:H()})]})})]}),_&&u&&p==="success"&&e.jsxs("div",{className:"mt-2 text-xs text-slate-500 flex items-center gap-3",children:[e.jsxs("span",{children:[u.width," Ã— ",u.height,"px"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{className:"text-emerald-600",children:[u.originalSizeKB,"KB â†’ ",u.processedSizeKB,"KB",e.jsxs("span",{className:"ml-1 text-emerald-700 font-medium",children:["(",Math.round((1-u.processedSizeKB/u.originalSizeKB)*100),"% kÃ¼Ã§Ã¼ltÃ¼ldÃ¼)"]})]})]}),!r&&p!=="processing"&&p!=="uploading"&&e.jsx("button",{type:"button",onClick:M=>{M.stopPropagation(),z()},className:"absolute top-6 right-6 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg","aria-label":"GÃ¶rseli kaldÄ±r",children:e.jsx(V,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:`flex flex-col items-center justify-center ${l?"py-6 px-4":"py-10 px-6"}`,children:[e.jsx("div",{className:`${l?"p-2":"p-3"} rounded-full bg-slate-100 text-slate-400 mb-3`,children:p==="processing"||p==="uploading"?e.jsx(F,{className:`${l?"w-6 h-6":"w-8 h-8"} animate-spin text-cyan-600`}):e.jsx(Tt,{className:l?"w-6 h-6":"w-8 h-8"})}),e.jsx("div",{className:"text-center",children:p==="processing"||p==="uploading"?e.jsx("p",{className:"text-sm font-medium text-cyan-600",children:H()}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:`font-medium text-slate-700 ${l?"text-sm":""}`,children:[e.jsx("span",{className:"text-cyan-600",children:"Dosya seÃ§in"})," veya sÃ¼rÃ¼kleyip bÄ±rakÄ±n"]}),A&&e.jsx("p",{className:"mt-1 text-xs text-slate-400",children:A})]})})]})]}),p==="error"&&S&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-50 p-2 rounded-lg",role:"alert",children:[e.jsx(ge,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:S})]}),p==="success"&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-emerald-600",role:"status","aria-live":"polite",children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("span",{children:"GÃ¶rsel baÅŸarÄ±yla yÃ¼klendi"})]})]})},we=({isOpen:a,onClose:c,onSelect:t,multiple:i=!1})=>{const[j,g]=s.useState([]),[f,v]=s.useState(!0),[k,y]=s.useState(""),[A,_]=s.useState(""),[r,n]=s.useState([]),[l,p]=s.useState([]),[T,S]=s.useState(1),[m,w]=s.useState(1),b="/api",u=s.useCallback(async()=>{v(!0);try{const h=localStorage.getItem("admin_token");h||console.warn("[MediaPicker] No admin_token found in localStorage");const o=new URLSearchParams({page:T.toString(),limit:"24"});k&&o.append("search",k),A&&o.append("category",A);const L=`${b}/index.php?action=get_media_list&${o}`;console.log("[MediaPicker] Fetching:",L);const d=await(await fetch(L,{headers:{Authorization:`Bearer ${h}`,...E()}})).json();console.log("[MediaPicker] Response:",d),d.success?(g(d.data),w(d.pagination.pages)):console.error("[MediaPicker] API Error:",d.error)}catch(h){console.error("Failed to fetch media:",h)}finally{v(!1)}},[b,T,k,A]),N=async()=>{try{const h=localStorage.getItem("admin_token"),L=await(await fetch(`${b}/index.php?action=get_media_categories`,{headers:{Authorization:`Bearer ${h}`,...E()}})).json();L.success&&n(L.data)}catch(h){console.error("Failed to fetch categories:",h)}};s.useEffect(()=>{a&&(u(),N())},[a,u]),s.useEffect(()=>{p([])},[a]);const $=h=>{p(i?o=>o.find(L=>L.id===h.id)?o.filter(L=>L.id!==h.id):[...o,h]:[h])},D=()=>{if(l.length!==0){if(i)l.forEach(h=>t({id:h.id,url:h.url,alt_text:h.alt_text}));else{const h=l[0];t({id:h.id,url:h.url,alt_text:h.alt_text})}c()}};return a?e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:c,children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-5xl w-full max-h-[85vh] flex flex-col",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-lg text-slate-900",children:"Medya KÃ¼tÃ¼phanesinden SeÃ§"}),e.jsx("p",{className:"text-sm text-slate-500",children:i?"Birden fazla gÃ¶rsel seÃ§ebilirsiniz":"Bir gÃ¶rsel seÃ§in"})]}),e.jsx("button",{onClick:c,className:"p-2 hover:bg-slate-100 rounded-lg",children:e.jsx(ie,{size:20})})]}),e.jsxs("div",{className:"flex items-center gap-4 px-6 py-3 border-b border-slate-200 bg-slate-50",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(le,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Ara...",value:k,onChange:h=>{y(h.target.value),S(1)},className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent text-sm"})]}),e.jsxs("select",{value:A,onChange:h=>{_(h.target.value),S(1)},className:"px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500 text-sm",children:[e.jsx("option",{value:"",children:"TÃ¼m Kategoriler"}),r.map(h=>e.jsx("option",{value:h,children:h},h))]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[f?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(F,{className:"animate-spin text-rose-500",size:32})}):j.length===0?e.jsxs("div",{className:"text-center py-20 text-slate-400",children:[e.jsx(ye,{size:48,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"GÃ¶rsel bulunamadÄ±"})]}):e.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 gap-3",children:j.map(h=>{const o=l.some(L=>L.id===h.id);return e.jsxs("div",{onClick:()=>$(h),className:`relative aspect-square bg-slate-100 rounded-lg overflow-hidden cursor-pointer border-2 transition-all ${o?"border-rose-500 ring-2 ring-rose-200":"border-transparent hover:border-slate-300"}`,children:[e.jsx("img",{src:h.url,alt:h.alt_text||h.filename_original,className:"w-full h-full object-cover",loading:"lazy"}),o&&e.jsx("div",{className:"absolute top-1 right-1 w-6 h-6 bg-rose-500 rounded-full flex items-center justify-center",children:e.jsx(he,{size:14,className:"text-white"})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2",children:e.jsx("p",{className:"text-xs text-white truncate",children:h.title||h.filename_original})})]},h.id)})}),m>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-4",children:Array.from({length:Math.min(m,10)},(h,o)=>o+1).map(h=>e.jsx("button",{onClick:()=>S(h),className:`px-2 py-1 text-sm rounded ${h===T?"bg-rose-500 text-white":"bg-slate-100 hover:bg-slate-200"}`,children:h},h))})]}),e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200 bg-slate-50",children:[e.jsx("p",{className:"text-sm text-slate-500",children:l.length>0?`${l.length} gÃ¶rsel seÃ§ildi`:"GÃ¶rsel seÃ§ilmedi"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:"Ä°ptal"}),e.jsx("button",{onClick:D,disabled:l.length===0,className:"px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"SeÃ§"})]})]})]})}):null},ls=({token:a,post:c,onSave:t,onCancel:i})=>{const[j,g]=s.useState(!1),[f,v]=s.useState(!1),[k,y]=s.useState(!1),[A,_]=s.useState(!1),[r,n]=s.useState("tr"),l=ae(),[p,T]=s.useState({slug:"",image_url:"",status:"draft",publish_at:"",title_tr:"",excerpt_tr:"",content_tr:"",title_en:"",excerpt_en:"",content_en:"",title_zh:"",excerpt_zh:"",content_zh:""}),S="/api",m=S.endsWith("/index.php")?S:`${S}/index.php`;s.useEffect(()=>{c?.id?(y(!0),fetch(`${m}?action=get_blog_post_detail&id=${c.id}`,{headers:{Authorization:`Bearer ${a}`,...E()}}).then(h=>h.json()).then(h=>{if(h.success&&h.data){const o=h.data;T({slug:o.slug||"",image_url:o.image_url||"",status:o.status||"draft",publish_at:o.publish_at?o.publish_at.slice(0,16):"",title_tr:o.title_tr||"",excerpt_tr:o.excerpt_tr||"",content_tr:o.content_tr||"",title_en:o.title_en||"",excerpt_en:o.excerpt_en||"",content_en:o.content_en||"",title_zh:o.title_zh||"",excerpt_zh:o.excerpt_zh||"",content_zh:o.content_zh||""})}}).catch(h=>{console.error("Post detail fetch error:",h),l.error("Ä°Ã§erik detaylarÄ± yÃ¼klenemedi")}).finally(()=>y(!1))):c||T({slug:"",image_url:"",status:"draft",publish_at:"",title_tr:"",excerpt_tr:"",content_tr:"",title_en:"",excerpt_en:"",content_en:"",title_zh:"",excerpt_zh:"",content_zh:""})},[c,a,S]);const w=h=>h.toLowerCase().replace(/ÄŸ/g,"g").replace(/Ã¼/g,"u").replace(/ÅŸ/g,"s").replace(/Ä±/g,"i").replace(/Ã¶/g,"o").replace(/Ã§/g,"c").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),b=(h,o)=>{T(L=>{const B={...L,[h]:o};return h==="title_tr"&&!c&&(B.slug=w(o)),B})},u=async h=>{h.preventDefault(),g(!0);const o=c?"update_blog_post":"create_blog_post",L={...p,id:c?.id};try{const d=await(await fetch(`${m}?action=${o}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify(L)})).json();d.success?(l.success(c?"Ä°Ã§erik baÅŸarÄ±yla gÃ¼ncellendi":"Ä°Ã§erik baÅŸarÄ±yla oluÅŸturuldu"),t()):l.error("Hata: "+(d.error||"Kaydedilemedi"))}catch{l.error("BaÄŸlantÄ± hatasÄ±")}finally{g(!1)}},N=async()=>{if(!p.title_tr&&!p.content_tr){l.error("Ã‡eviri iÃ§in TÃ¼rkÃ§e baÅŸlÄ±k ve iÃ§erik gereklidir.");return}v(!0);try{const o=await(await fetch(`${m}?action=ai_translate_blog_all`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify({title_tr:p.title_tr,excerpt_tr:p.excerpt_tr,content_tr:p.content_tr})})).json();o.en||o.zh?(T(L=>({...L,title_en:o.en?.title||L.title_en,excerpt_en:o.en?.excerpt||L.excerpt_en,content_en:o.en?.content||L.content_en,title_zh:o.zh?.title||L.title_zh,excerpt_zh:o.zh?.excerpt||L.excerpt_zh,content_zh:o.zh?.content||L.content_zh})),l.success("EN ve ZH Ã§evirileri oluÅŸturuldu. Kontrol edip kaydedebilirsiniz.")):o.error&&l.error("Ã‡eviri hatasÄ±: "+o.error)}catch{l.error("Ã‡eviri baÅŸarÄ±sÄ±z oldu.")}finally{v(!1)}},$=[{key:"tr",label:"TÃ¼rkÃ§e",flag:"ğŸ‡¹ğŸ‡·"},{key:"en",label:"English",flag:"ğŸ‡¬ğŸ‡§"},{key:"zh",label:"ä¸­æ–‡",flag:"ğŸ‡¨ğŸ‡³"}],D=h=>p[`title_${h}`]||p[`content_${h}`];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden relative",children:[k&&e.jsx("div",{className:"absolute inset-0 bg-white/80 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-3 text-cyan-600",children:[e.jsx(F,{className:"w-8 h-8 animate-spin"}),e.jsx("span",{className:"font-medium",children:"Ä°Ã§erik yÃ¼kleniyor..."})]})}),e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[e.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-slate-500 hover:text-slate-900 font-medium transition-colors",children:[e.jsx(ne,{size:18})," Listeye DÃ¶n"]}),e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:c?"Ä°Ã§eriÄŸi DÃ¼zenle":"Yeni Ä°Ã§erik Ekle"}),e.jsxs("button",{type:"button",onClick:N,disabled:f,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all font-medium text-sm disabled:opacity-50",children:[f?e.jsx(F,{className:"animate-spin",size:16}):e.jsx(Ot,{size:16}),f?"Ã‡evriliyor...":"EN + ZH Ã‡eviri OluÅŸtur"]})]}),e.jsx("div",{className:"flex border-b border-slate-200 bg-slate-50/50",children:$.map(h=>e.jsxs("button",{type:"button",onClick:()=>n(h.key),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors ${r===h.key?"border-cyan-500 text-cyan-600 bg-white":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[e.jsx("span",{children:h.flag}),h.label,h.key!=="tr"&&D(h.key)&&e.jsx(W,{size:14,className:"text-green-500"}),h.key!=="tr"&&!D(h.key)&&e.jsx("span",{className:"text-xs text-amber-500",children:"(boÅŸ)"})]},h.key))}),e.jsx("form",{onSubmit:u,className:"p-8 max-w-5xl mx-auto",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"md:col-span-2 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["BaÅŸlÄ±k (",$.find(h=>h.key===r)?.label,")",r==="tr"&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none text-lg font-bold",value:p[`title_${r}`],onChange:h=>b(`title_${r}`,h.target.value),placeholder:r==="tr"?"Blog baÅŸlÄ±ÄŸÄ±...":`${$.find(h=>h.key===r)?.label} title...`,required:r==="tr"})]}),r==="tr"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Slug (URL)"}),e.jsxs("div",{className:"flex items-center gap-1 text-slate-400 bg-slate-50 p-3 rounded-xl border border-slate-200",children:[e.jsx("span",{className:"text-xs",children:"ct.turp.health/blog/"}),e.jsx("input",{type:"text",className:"flex-1 bg-transparent outline-none text-slate-700 font-medium",value:p.slug,onChange:h=>b("slug",h.target.value)})]})]}),r==="tr"&&e.jsxs("div",{children:[e.jsx(as,{label:"Kapak GÃ¶rseli",uploadEndpoint:`${m}?action=upload_image`,token:a,existingImageUrl:p.image_url,preset:"blogCover",onUploadSuccess:h=>b("image_url",h),onUploadError:h=>l.error("GÃ¶rsel yÃ¼kleme hatasÄ±: "+h),onRemove:()=>b("image_url",""),helperText:"Otomatik olarak optimize edilir (maks 1600Ã—900, ~400KB)"}),e.jsxs("button",{type:"button",onClick:()=>_(!0),className:"mt-2 w-full flex items-center justify-center gap-2 px-4 py-2 text-sm text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors",children:[e.jsx(ye,{size:16}),"Medya KÃ¼tÃ¼phanesinden SeÃ§"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["Ã–zet (",$.find(h=>h.key===r)?.label,")"]}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none h-24 resize-none",value:p[`excerpt_${r}`],onChange:h=>b(`excerpt_${r}`,h.target.value),placeholder:r==="tr"?"Liste gÃ¶rÃ¼nÃ¼mÃ¼nde Ã§Ä±kacak kÄ±sa aÃ§Ä±klama...":"Short excerpt..."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["Ä°Ã§erik (",$.find(h=>h.key===r)?.label,")",r==="tr"&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("textarea",{className:"w-full p-4 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none h-[400px] font-mono text-sm leading-relaxed",value:p[`content_${r}`],onChange:h=>b(`content_${r}`,h.target.value),placeholder:r==="tr"?"Ä°Ã§eriÄŸinizi buraya yazÄ±n...":"Content...",required:r==="tr"}),e.jsx("p",{className:"text-xs text-slate-400 mt-2 text-right",children:"HTML etiketleri desteklenir."})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100 space-y-4",children:[e.jsx("h3",{className:"font-bold text-slate-900 border-b border-slate-200 pb-2 mb-4",children:"YayÄ±n AyarlarÄ±"}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-slate-700 mb-2",children:[e.jsx(W,{size:16,className:"text-slate-400"})," Durum"]}),e.jsxs("select",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none bg-white",value:p.status,onChange:h=>b("status",h.target.value),children:[e.jsx("option",{value:"draft",children:"Taslak"}),e.jsx("option",{value:"published",children:"YayÄ±nda"}),e.jsx("option",{value:"archived",children:"ArÅŸiv"})]})]}),p.status==="published"&&e.jsxs("div",{className:"p-3 bg-green-50 text-green-700 rounded-lg text-sm border border-green-100",children:[e.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[e.jsx(W,{size:14})," YayÄ±nda"]}),e.jsxs("a",{href:`${window.location.origin}/blog/${p.slug}`,target:"_blank",rel:"noopener noreferrer",className:"underline break-all hover:text-green-800",children:["/blog/",p.slug]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-slate-700 mb-2",children:[e.jsx(fe,{size:16,className:"text-slate-400"})," YayÄ±n Tarihi"]}),e.jsx("input",{type:"datetime-local",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none bg-white",value:p.publish_at,onChange:h=>b("publish_at",h.target.value)})]})]}),e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-2xl border border-indigo-100",children:[e.jsxs("div",{className:"flex items-center gap-2 text-indigo-700 font-bold mb-3",children:[e.jsx(Me,{size:16}),"Ã‡eviri Durumu"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e"}),e.jsx("span",{className:p.title_tr?"text-green-600 font-bold":"text-slate-400",children:p.title_tr?"âœ“ Mevcut":"â€”"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"ğŸ‡¬ğŸ‡§ English"}),e.jsx("span",{className:p.title_en?"text-green-600 font-bold":"text-amber-500",children:p.title_en?"âœ“ Mevcut":"âš  Eksik"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"ğŸ‡¨ğŸ‡³ ä¸­æ–‡"}),e.jsx("span",{className:p.title_zh?"text-green-600 font-bold":"text-amber-500",children:p.title_zh?"âœ“ Mevcut":"âš  Eksik"})]})]})]}),e.jsxs("button",{type:"submit",disabled:j,className:"w-full py-4 bg-gradient-to-r from-cyan-500 to-teal-500 text-white font-bold rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[j?e.jsx(F,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),j?"Kaydediliyor...":c?"GÃ¼ncelle":"Kaydet"]})]})]})})]}),e.jsx(we,{isOpen:A,onClose:()=>_(!1),onSelect:h=>{b("image_url",h.url),_(!1)}})]})},rs=({token:a,userName:c,userEmail:t})=>{const[i,j]=s.useState(""),[g,f]=s.useState(""),[v,k]=s.useState(""),[y,A]=s.useState(!1),[_,r]=s.useState(null),[n,l]=s.useState(!1),[p,T]=s.useState(!1),[S,m]=s.useState(""),[w,b]=s.useState(!1),[u,N]=s.useState(null),[$,D]=s.useState(!0),h="/api",o=h.endsWith("/index.php")?h:`${h}/index.php`;s.useEffect(()=>{(async()=>{try{const x=await(await fetch(`${o}?action=get_settings`,{headers:{Authorization:`Bearer ${a}`,...E()}})).json();x.success&&x.data&&m(x.data.notification_emails||"berko@omega-cro.com.tr")}catch(C){console.error("Settings load error:",C)}finally{D(!1)}})()},[a,h]);const L=async d=>{if(d.preventDefault(),r(null),g.length<8){r({type:"error",text:"Yeni ÅŸifre en az 8 karakter olmalÄ±dÄ±r."});return}if(g!==v){r({type:"error",text:"Yeni ÅŸifreler eÅŸleÅŸmiyor."});return}A(!0);try{const x=await(await fetch(`${o}?action=change_password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({current_password:i,new_password:g})})).json();x.success?(r({type:"success",text:"Åifreniz baÅŸarÄ±yla gÃ¼ncellendi."}),j(""),f(""),k("")):r({type:"error",text:x.error||"Åifre gÃ¼ncellenemedi."})}catch{r({type:"error",text:"BaÄŸlantÄ± hatasÄ±."})}finally{A(!1)}},B=async d=>{d.preventDefault(),N(null);const x=S.split(",").map(P=>P.trim()).filter(P=>P&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P));if(x.length>0){N({type:"error",text:`GeÃ§ersiz e-posta: ${x.join(", ")}`});return}b(!0);try{const z=await(await fetch(`${o}?action=update_settings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({notification_emails:S})})).json();z.success?N({type:"success",text:"E-posta ayarlarÄ± kaydedildi."}):N({type:"error",text:z.error||"Ayarlar kaydedilemedi."})}catch{N({type:"error",text:"BaÄŸlantÄ± hatasÄ±."})}finally{b(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-rose-50 to-pink-50",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(re,{className:"text-rose-600"})," E-posta Bildirimleri"]}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Ä°letiÅŸim formu mesajlarÄ±nÄ±n gÃ¶nderileceÄŸi e-posta adreslerini ayarlayÄ±n."})]}),e.jsx("div",{className:"p-8 max-w-2xl",children:$?e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(F,{className:"animate-spin",size:20}),e.jsx("span",{children:"Ayarlar yÃ¼kleniyor..."})]}):e.jsxs("form",{onSubmit:B,className:"space-y-4",children:[u&&e.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${u.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[u.type==="success"?e.jsx(W,{size:18}):e.jsx(ge,{size:18}),e.jsx("span",{className:"font-medium",children:u.text})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Bildirim E-postalarÄ±"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none resize-none h-24",value:S,onChange:d=>m(d.target.value),placeholder:"email1@example.com, email2@example.com"}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Birden fazla e-posta adresi iÃ§in virgÃ¼l ile ayÄ±rÄ±n. Ä°letiÅŸim formundan gelen mesajlar bu adreslere gÃ¶nderilir."})]}),e.jsxs("button",{type:"submit",disabled:w,className:"px-6 py-3 bg-rose-600 text-white font-bold rounded-xl hover:bg-rose-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[w?e.jsx(F,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),w?"Kaydediliyor...":"E-posta AyarlarÄ±nÄ± Kaydet"]})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-cyan-50 to-blue-50",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(et,{className:"text-cyan-600"})," Hesap AyarlarÄ±"]}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Åifrenizi deÄŸiÅŸtirin ve hesap bilgilerinizi gÃ¶rÃ¼ntÃ¼leyin."})]}),e.jsxs("div",{className:"p-8 max-w-2xl",children:[e.jsx("div",{className:"mb-8 p-4 bg-slate-50 rounded-xl border border-slate-100",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400 text-xs uppercase font-bold",children:"KullanÄ±cÄ± AdÄ±"}),e.jsx("p",{className:"font-medium text-slate-900",children:c})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400 text-xs uppercase font-bold",children:"E-posta"}),e.jsx("p",{className:"font-medium text-slate-900",children:t})]})]})}),e.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Åifre DeÄŸiÅŸtir"}),_&&e.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg mb-6 ${_.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[_.type==="success"?e.jsx(W,{size:18}):e.jsx(ge,{size:18}),e.jsx("span",{className:"font-medium",children:_.text})]}),e.jsxs("form",{onSubmit:L,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Mevcut Åifre"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:n?"text":"password",className:"w-full p-3 pr-12 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none",value:i,onChange:d=>j(d.target.value),required:!0}),e.jsx("button",{type:"button",onClick:()=>l(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:n?e.jsx(be,{size:20}):e.jsx(te,{size:20})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Yeni Åifre"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:p?"text":"password",className:"w-full p-3 pr-12 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none",value:g,onChange:d=>f(d.target.value),placeholder:"En az 8 karakter",required:!0}),e.jsx("button",{type:"button",onClick:()=>T(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:p?e.jsx(be,{size:20}):e.jsx(te,{size:20})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Yeni Åifre (Tekrar)"}),e.jsx("input",{type:"password",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-cyan-500 outline-none",value:v,onChange:d=>k(d.target.value),placeholder:"Åifreyi tekrar girin",required:!0})]}),e.jsxs("button",{type:"submit",disabled:y,className:"mt-6 px-6 py-3 bg-cyan-600 text-white font-bold rounded-xl hover:bg-cyan-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[y?e.jsx(F,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),y?"Kaydediliyor...":"Åifreyi GÃ¼ncelle"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-emerald-50 to-teal-50",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(Te,{className:"text-emerald-600"})," VeritabanÄ± BakÄ±mÄ±"]}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Gerekli durumlarda veritabanÄ± tablolarÄ±nÄ± gÃ¼ncelleyin."})]}),e.jsx("div",{className:"p-8 max-w-2xl",children:e.jsxs("button",{onClick:async()=>{if(confirm("VeritabanÄ± gÃ¼ncellemesi baÅŸlatÄ±lsÄ±n mÄ±?"))try{const C=await(await fetch(`${o}?action=migrate_db`,{headers:{Authorization:`Bearer ${a}`,...E()}})).text();alert("SonuÃ§: "+C)}catch(d){alert("Hata: "+d)}},className:"px-6 py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center gap-2",children:[e.jsx(Te,{size:20}),"VeritabanÄ±nÄ± GÃ¼ncelle / Onar"]})})]})]})},ns=({token:a,onEdit:c,onCreate:t})=>{const[i,j]=s.useState([]),[g,f]=s.useState(!0),v=ae(),k=xe(),[y,A]=s.useState("all"),[_,r]=s.useState("all"),[n,l]=s.useState("all"),[p,T]=s.useState(""),[S,m]=s.useState(1),[w,b]=s.useState(1),u="/api",N=u.endsWith("/index.php")?u:`${u}/index.php`,$=async()=>{f(!0);try{const o=new URLSearchParams({action:"get_faqs_admin",language:y,is_showcased:_,is_active:n,search:p,page:String(S)}),L=await fetch(`${N}?${o}`,{headers:{Authorization:`Bearer ${a}`,...E()}});if(!L.ok){const d=await L.text();throw new Error(`API Error: ${L.status} - ${d.substring(0,100)}`)}const B=await L.json();B.success?(j(B.data),b(B.pagination?.pages||1)):v.error(B.error||"SSS listesi alÄ±namadÄ±")}catch(o){console.error("FAQ Fetch Error:",o),v.error(`Hata: ${o.message||"BaÄŸlantÄ± hatasÄ±"}`)}finally{f(!1)}};s.useEffect(()=>{const o=setTimeout(()=>$(),300);return()=>clearTimeout(o)},[y,_,n,p,S]);const D=async o=>{if(await k({title:"SSS Sil",message:"Bu SSS'yi silmek istediÄŸinize emin misiniz?",confirmLabel:"Sil",cancelLabel:"Ä°ptal",type:"danger"}))try{(await(await fetch(`${N}?action=delete_faq`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({id:o})})).json()).success?(j(i.filter(C=>C.id!==o)),v.success("SSS baÅŸarÄ±yla silindi")):v.error("Silme hatasÄ±")}catch{v.error("BaÄŸlantÄ± hatasÄ±")}},h=async(o,L,B)=>{const d=i.find(C=>C.id===o);if(d)try{(await(await fetch(`${N}?action=update_faq`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({...d,[L]:!Number(B)})})).json()).success&&j(i.map(P=>P.id===o?{...P,[L]:Number(B)?0:1}:P))}catch(C){console.error(C)}};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold flex items-center gap-2 mb-1",children:"â“ SÄ±kÃ§a Sorulan Sorular"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"SSS iÃ§eriklerini buradan yÃ¶netin."})]}),e.jsxs("button",{type:"button",onClick:t,className:"bg-slate-900 text-white px-4 py-2 rounded-xl font-bold hover:bg-rose-600 transition-all flex items-center gap-2 shadow-lg shadow-rose-200",children:[e.jsx(X,{size:18})," Yeni SSS Ekle"]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Soruda ara...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg outline-none focus:border-rose-500",value:p,onChange:o=>T(o.target.value)})]}),e.jsxs("select",{className:"p-2 border border-slate-200 rounded-lg outline-none focus:border-rose-500 bg-white",value:y,onChange:o=>A(o.target.value),children:[e.jsx("option",{value:"all",children:"TÃ¼m Diller"}),e.jsx("option",{value:"tr",children:"TÃ¼rkÃ§e"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"zh",children:"ä¸­æ–‡"})]}),e.jsxs("select",{className:"p-2 border border-slate-200 rounded-lg outline-none focus:border-rose-500 bg-white",value:_,onChange:o=>r(o.target.value),children:[e.jsx("option",{value:"all",children:"TÃ¼m (Vitrin)"}),e.jsx("option",{value:"true",children:"Vitrinde"}),e.jsx("option",{value:"false",children:"Vitrinde DeÄŸil"})]}),e.jsxs("select",{className:"p-2 border border-slate-200 rounded-lg outline-none focus:border-rose-500 bg-white",value:n,onChange:o=>l(o.target.value),children:[e.jsx("option",{value:"all",children:"TÃ¼m (Durum)"}),e.jsx("option",{value:"true",children:"Aktif"}),e.jsx("option",{value:"false",children:"Pasif"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-white text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Soru"}),e.jsx("th",{className:"p-4 w-20",children:"Dil"}),e.jsx("th",{className:"p-4 w-24",children:"Vitrin"}),e.jsx("th",{className:"p-4 w-24",children:"Aktif"}),e.jsx("th",{className:"p-4 w-20",children:"SÄ±ra"}),e.jsx("th",{className:"p-4 text-right w-32",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:g?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center text-slate-400",children:e.jsx(F,{className:"animate-spin mx-auto"})})}):i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center text-slate-500",children:"SSS bulunamadÄ±."})}):i.map(o=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-medium text-slate-900 line-clamp-2",children:o.question}),e.jsx("div",{className:"text-xs text-slate-400 mt-1",children:o.category})]}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:"flex items-center gap-1 text-sm text-slate-600 uppercase font-bold",children:[e.jsx(ee,{size:14,className:"text-slate-400"})," ",o.language]})}),e.jsx("td",{className:"p-4",children:e.jsx("button",{onClick:()=>h(o.id,"is_showcased",o.is_showcased),className:`p-2 rounded-lg transition-colors ${Number(o.is_showcased)?"bg-amber-100 text-amber-600":"bg-slate-100 text-slate-400"}`,children:Number(o.is_showcased)?e.jsx(st,{size:16}):e.jsx(Dt,{size:16})})}),e.jsx("td",{className:"p-4",children:e.jsx("button",{onClick:()=>h(o.id,"is_active",o.is_active),className:`p-2 rounded-lg transition-colors ${Number(o.is_active)?"bg-green-100 text-green-600":"bg-red-100 text-red-400"}`,children:Number(o.is_active)?e.jsx(te,{size:16}):e.jsx(be,{size:16})})}),e.jsx("td",{className:"p-4 text-sm text-slate-500 font-mono",children:o.sort_order}),e.jsxs("td",{className:"p-4 text-right space-x-2",children:[e.jsx("button",{onClick:()=>c(o),className:"p-2 bg-white border border-slate-200 rounded-lg hover:border-cyan-500 hover:text-cyan-600 transition-all shadow-sm",children:e.jsx(ze,{size:16})}),e.jsx("button",{onClick:()=>D(o.id),className:"p-2 bg-white border border-slate-200 rounded-lg hover:border-red-500 hover:text-red-600 transition-all shadow-sm",children:e.jsx(V,{size:16})})]})]},o.id))})]})}),w>1&&e.jsxs("div",{className:"p-4 border-t border-slate-100 flex justify-center gap-2",children:[e.jsx("button",{disabled:S===1,onClick:()=>m(o=>o-1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:e.jsx(ke,{size:16})}),e.jsxs("span",{className:"px-4 py-2 text-sm text-slate-600 font-medium",children:[S," / ",w]}),e.jsx("button",{disabled:S===w,onClick:()=>m(o=>o+1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:e.jsx(Se,{size:16})})]})]})},is=({token:a,faq:c,onCancel:t,onSave:i})=>{const[j,g]=s.useState(c?.question||""),[f,v]=s.useState(c?.answer||""),[k,y]=s.useState(c?.question_en||""),[A,_]=s.useState(c?.answer_en||""),[r,n]=s.useState(c?.question_zh||""),[l,p]=s.useState(c?.answer_zh||""),[T,S]=s.useState(c?.category||"Genel"),[m,w]=s.useState(""),[b,u]=s.useState(!1),[N,$]=s.useState(["Genel","Hastalar","AraÅŸtÄ±rÄ±cÄ±lar","Teknik","FiyatlandÄ±rma"]),[D,h]=s.useState(!!Number(c?.is_showcased)),[o,L]=s.useState(c?!!Number(c.is_active):!0),[B,d]=s.useState(c?.sort_order||0),[C,x]=s.useState(!1),[P,z]=s.useState(!1),[I,K]=s.useState(null),[H,R]=s.useState(!1),M="/api",U=M.endsWith("/index.php")?M:`${M}/index.php`,J=!!c?.id;s.useEffect(()=>{(async()=>{try{const se=await(await fetch(`${U}?action=get_settings`,{headers:{Authorization:`Bearer ${a}`,...E()}})).json();if(se.success&&se.data?.faq_categories){const ce=se.data.faq_categories.split(",").map(Q=>Q.trim()).filter(Q=>Q);ce.length>0&&($(ce),c?.category&&!ce.includes(c.category)&&$([...ce,c.category]))}}catch(Y){console.error("Categories fetch error:",Y)}})()},[a,M,c?.category]);const q=()=>{if(m.trim()&&!N.includes(m.trim())){const O=[...N,m.trim()];$(O),S(m.trim()),w(""),u(!1),fetch(`${U}?action=update_settings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify({faq_categories:O.join(", ")})}).catch(Y=>console.error("Category save error:",Y))}},ue=async()=>{if(!j.trim()||!f.trim()){K("Ã‡eviri iÃ§in Ã¶nce TÃ¼rkÃ§e soru ve cevap girin.");return}z(!0),K(null),R(!1);try{const Y=await(await fetch(`${U}?action=translate_faq_all`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify({question_tr:j,answer_tr:f})})).json();Y.success&&Y.translations?(y(Y.translations.en.question),_(Y.translations.en.answer),n(Y.translations.zh.question),p(Y.translations.zh.answer),R(!0),setTimeout(()=>R(!1),3e3)):K(Y.error||"Ã‡eviri baÅŸarÄ±sÄ±z")}catch{K("Ã‡eviri baÄŸlantÄ± hatasÄ±")}finally{z(!1)}},oe=async O=>{if(O.preventDefault(),K(null),!j.trim()||!f.trim()){K("Soru ve cevap alanlarÄ± zorunludur.");return}x(!0);try{const Y=J?"update_faq":"create_faq",se={question:j,answer:f,question_en:k,answer_en:A,question_zh:r,answer_zh:l,category:T,is_showcased:D,is_active:o,sort_order:B};J&&(se.id=c.id);const Q=await(await fetch(`${U}?action=${Y}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify(se)})).json();Q.success?i():K(Q.error||"KayÄ±t baÅŸarÄ±sÄ±z")}catch{K("BaÄŸlantÄ± hatasÄ±")}finally{x(!1)}};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(ne,{className:"text-slate-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:J?"SSS DÃ¼zenle":"Yeni SSS Ekle"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"SÄ±k sorulan sorularÄ± buradan yÃ¶netin."})]})]})}),e.jsxs("form",{onSubmit:oe,className:"p-8 max-w-4xl space-y-6",children:[I&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 text-red-700 rounded-xl font-medium",children:I}),H&&e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 text-green-700 rounded-xl font-medium flex items-center gap-2",children:[e.jsx($e,{size:18})," Ã‡eviriler baÅŸarÄ±yla oluÅŸturuldu!"]}),e.jsxs("div",{className:"bg-rose-50 p-6 rounded-xl border border-rose-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(ee,{size:18,className:"text-rose-600"})," TÃ¼rkÃ§e (Ana Ä°Ã§erik)"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["Soru ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none bg-white",value:j,onChange:O=>g(O.target.value),placeholder:"Ã–rn: e-NabÄ±z entegrasyonu nasÄ±l Ã§alÄ±ÅŸÄ±r?",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["Cevap ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none resize-none h-32 bg-white",value:f,onChange:O=>v(O.target.value),placeholder:"Sorunun cevabÄ±nÄ± buraya yazÄ±n...",required:!0})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"button",onClick:ue,disabled:P||!j.trim()||!f.trim(),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold rounded-xl hover:from-purple-700 hover:to-blue-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:P?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"animate-spin",size:20}),"Ã‡eviriliyor..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Me,{size:20}),"ğŸ¤– AI ile Ã‡evir (EN + ZH)"]})})}),e.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(ee,{size:18,className:"text-blue-600"})," English"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Question"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-blue-500 outline-none bg-white",value:k,onChange:O=>y(O.target.value),placeholder:"English question..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Answer"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-blue-500 outline-none resize-none h-24 bg-white",value:A,onChange:O=>_(O.target.value),placeholder:"English answer..."})]})]})]}),e.jsxs("div",{className:"bg-amber-50 p-6 rounded-xl border border-amber-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(ee,{size:18,className:"text-amber-600"})," ä¸­æ–‡"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"é—®é¢˜"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-amber-500 outline-none bg-white",value:r,onChange:O=>n(O.target.value),placeholder:"Chinese question..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"å›ç­”"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-amber-500 outline-none resize-none h-24 bg-white",value:l,onChange:O=>p(O.target.value),placeholder:"Chinese answer..."})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(it,{size:14})," Kategori"]}),b?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:"flex-1 p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:m,onChange:O=>w(O.target.value),placeholder:"Yeni kategori adÄ±...",autoFocus:!0}),e.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 bg-rose-600 text-white rounded-xl hover:bg-rose-700 transition-colors",children:e.jsx(X,{size:18})}),e.jsx("button",{type:"button",onClick:()=>{u(!1),w("")},className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-xl hover:bg-slate-300 transition-colors",children:"Ä°ptal"})]}):e.jsxs("div",{className:"flex gap-2",children:[e.jsx("select",{className:"flex-1 p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none bg-white",value:T,onChange:O=>S(O.target.value),children:N.map(O=>e.jsx("option",{value:O,children:O},O))}),e.jsxs("button",{type:"button",onClick:()=>u(!0),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl hover:bg-slate-200 transition-colors flex items-center gap-1",title:"Yeni kategori ekle",children:[e.jsx(X,{size:16})," Yeni"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"SÄ±ralama"}),e.jsx("input",{type:"number",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:B,onChange:O=>d(Number(O.target.value)),min:0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-50 rounded-xl border border-amber-100",children:[e.jsx("input",{type:"checkbox",id:"showcased",checked:D,onChange:O=>h(O.target.checked),className:"w-5 h-5 accent-amber-500"}),e.jsxs("label",{htmlFor:"showcased",className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(st,{size:18,className:"text-amber-500"}),e.jsx("span",{className:"font-medium text-slate-700",children:"Ana Sayfada GÃ¶ster"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-xl border border-green-100",children:[e.jsx("input",{type:"checkbox",id:"active",checked:o,onChange:O=>L(O.target.checked),className:"w-5 h-5 accent-green-500"}),e.jsxs("label",{htmlFor:"active",className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(te,{size:18,className:"text-green-500"}),e.jsx("span",{className:"font-medium text-slate-700",children:"Aktif"})]})]})]}),e.jsxs("div",{className:"pt-4 flex gap-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Ä°ptal"}),e.jsxs("button",{type:"submit",disabled:C,className:"px-6 py-3 bg-rose-600 text-white font-bold rounded-xl hover:bg-rose-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[C?e.jsx(F,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),C?"Kaydediliyor...":J?"GÃ¼ncelle":"Kaydet"]})]})]})]})},os={admin:"bg-rose-100 text-rose-700",editor:"bg-blue-100 text-blue-700",viewer:"bg-slate-100 text-slate-700"},cs={admin:"Admin",editor:"EditÃ¶r",viewer:"Ä°zleyici"},ds={admin:e.jsx(Le,{size:14}),editor:e.jsx(ve,{size:14}),viewer:e.jsx(te,{size:14})},xs=({token:a,userRole:c,onEdit:t,onCreate:i})=>{const[j,g]=s.useState([]),[f,v]=s.useState(!0),[k,y]=s.useState("all"),[A,_]=s.useState("all"),[r,n]=s.useState(""),l=xe(),p=ae(),T="/api",S=T.endsWith("/index.php")?T:`${T}/index.php`,m=async()=>{v(!0);try{const u=new URLSearchParams({role:k,status:A,search:r}),$=await(await fetch(`${S}?action=get_admin_users&${u}`,{headers:{Authorization:`Bearer ${a}`,...E()}})).json();$.success&&g($.data)}catch(u){console.error("User fetch error:",u)}finally{v(!1)}};s.useEffect(()=>{c==="admin"&&m()},[k,A,r]);const w=async u=>{if(await l({title:"KullanÄ±cÄ± Sil",message:`"${u.name}" kullanÄ±cÄ±sÄ±nÄ± silmek istediÄŸinize emin misiniz?`,confirmLabel:"Sil",cancelLabel:"Ä°ptal",type:"danger"}))try{const D=await(await fetch(`${S}?action=delete_admin_user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify({id:u.id})})).json();D.success?(p.success("KullanÄ±cÄ± baÅŸarÄ±yla silindi"),m()):p.error(D.error||"Silme iÅŸlemi baÅŸarÄ±sÄ±z")}catch{p.error("BaÄŸlantÄ± hatasÄ±")}},b=async u=>{try{(await(await fetch(`${S}?action=update_admin_user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify({...u,is_active:!u.is_active})})).json()).success&&m()}catch(N){console.error(N)}};return c!=="admin"?e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-12 text-center",children:[e.jsx(Le,{className:"mx-auto text-slate-300 mb-4",size:64}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"EriÅŸim Engellendi"}),e.jsx("p",{className:"text-slate-500",children:"KullanÄ±cÄ± yÃ¶netimi iÃ§in admin yetkisi gereklidir."})]}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-rose-100 rounded-xl flex items-center justify-center",children:e.jsx(at,{className:"text-rose-600",size:20})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-lg",children:"KullanÄ±cÄ±lar"}),e.jsxs("p",{className:"text-sm text-slate-500",children:[j.length," kayÄ±tlÄ± kullanÄ±cÄ±"]})]})]}),e.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 transition-colors",children:[e.jsx(X,{size:18})," Yeni KullanÄ±cÄ±"]})]}),e.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 flex flex-wrap gap-3",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Ad veya e-posta ara...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:border-rose-500 outline-none bg-white",value:r,onChange:u=>n(u.target.value)})]}),e.jsxs("select",{className:"p-2 border border-slate-200 rounded-lg bg-white outline-none focus:border-rose-500",value:k,onChange:u=>y(u.target.value),children:[e.jsx("option",{value:"all",children:"TÃ¼m Roller"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"editor",children:"EditÃ¶r"}),e.jsx("option",{value:"viewer",children:"Ä°zleyici"})]}),e.jsxs("select",{className:"p-2 border border-slate-200 rounded-lg bg-white outline-none focus:border-rose-500",value:A,onChange:u=>_(u.target.value),children:[e.jsx("option",{value:"all",children:"TÃ¼m Durumlar"}),e.jsx("option",{value:"active",children:"Aktif"}),e.jsx("option",{value:"inactive",children:"Devre DÄ±ÅŸÄ±"})]})]}),f?e.jsxs("div",{className:"p-12 text-center text-slate-500",children:[e.jsx(F,{className:"animate-spin mx-auto mb-2",size:24}),"YÃ¼kleniyor..."]}):j.length===0?e.jsx("div",{className:"p-12 text-center text-slate-500",children:"KullanÄ±cÄ± bulunamadÄ±."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 text-left text-sm text-slate-500",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 font-medium",children:"KullanÄ±cÄ±"}),e.jsx("th",{className:"p-4 font-medium",children:"Rol"}),e.jsx("th",{className:"p-4 font-medium",children:"Durum"}),e.jsx("th",{className:"p-4 font-medium",children:"Son GiriÅŸ"}),e.jsx("th",{className:"p-4 font-medium",children:"KayÄ±t"}),e.jsx("th",{className:"p-4 font-medium text-right",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:j.map(u=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-medium text-slate-900",children:u.name}),e.jsx("div",{className:"text-sm text-slate-500",children:u.email})]}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold ${os[u.role]}`,children:[ds[u.role],cs[u.role]]})}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold ${u.is_active?"bg-green-100 text-green-700":"bg-slate-100 text-slate-500"}`,children:[u.is_active?e.jsx(Oe,{size:12}):e.jsx(Je,{size:12}),u.is_active?"Aktif":"Devre DÄ±ÅŸÄ±"]})}),e.jsx("td",{className:"p-4 text-sm text-slate-500",children:u.last_login_at?new Date(u.last_login_at).toLocaleDateString("tr-TR"):"-"}),e.jsx("td",{className:"p-4 text-sm text-slate-500",children:new Date(u.created_at).toLocaleDateString("tr-TR")}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>t(u),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"DÃ¼zenle",children:e.jsx(ve,{size:16})}),e.jsx("button",{onClick:()=>b(u),className:`p-2 rounded-lg transition-colors ${u.is_active?"text-slate-400 hover:text-orange-600 hover:bg-orange-50":"text-slate-400 hover:text-green-600 hover:bg-green-50"}`,title:u.is_active?"Devre dÄ±ÅŸÄ± bÄ±rak":"AktifleÅŸtir",children:u.is_active?e.jsx(Je,{size:16}):e.jsx(Oe,{size:16})}),e.jsx("button",{onClick:()=>w(u),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Sil",children:e.jsx(V,{size:16})})]})})]},u.id))})]})})]})},ms=({token:a,user:c,onCancel:t,onSave:i})=>{const[j,g]=s.useState(c?.name||""),[f,v]=s.useState(c?.email||""),[k,y]=s.useState(c?.role||"editor"),[A,_]=s.useState(c?.is_active??!0),[r,n]=s.useState(""),[l,p]=s.useState(!1),[T,S]=s.useState(!1),[m,w]=s.useState(!1),[b,u]=s.useState(null),[N,$]=s.useState(null),D="/api",h=D.endsWith("/index.php")?D:`${D}/index.php`,o=!!c?.id,L=async d=>{if(d.preventDefault(),u(null),$(null),!j.trim()||!f.trim()){u("Ad ve e-posta zorunludur");return}if(!o&&r.length<8){u("Åifre en az 8 karakter olmalÄ±dÄ±r");return}S(!0);try{const C=o?"update_admin_user":"create_admin_user",x={name:j,email:f,role:k,is_active:A};o&&(x.id=c.id),o||(x.password=r);const z=await(await fetch(`${h}?action=${C}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify(x)})).json();z.success?i():u(z.error||"KayÄ±t baÅŸarÄ±sÄ±z")}catch{u("BaÄŸlantÄ± hatasÄ±")}finally{S(!1)}},B=async()=>{if(!r||r.length<8){u("Yeni ÅŸifre en az 8 karakter olmalÄ±dÄ±r");return}w(!0),u(null),$(null);try{const C=await(await fetch(`${h}?action=reset_user_password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify({id:c.id,new_password:r})})).json();C.success?($("Åifre baÅŸarÄ±yla gÃ¼ncellendi"),n("")):u(C.error||"Åifre gÃ¼ncellenemedi")}catch{u("BaÄŸlantÄ± hatasÄ±")}finally{w(!1)}};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-4",children:[e.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(ne,{className:"text-slate-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:o?"KullanÄ±cÄ± DÃ¼zenle":"Yeni KullanÄ±cÄ±"}),e.jsx("p",{className:"text-slate-500 text-sm",children:o?c?.email:"Yeni admin paneli kullanÄ±cÄ±sÄ± ekleyin"})]})]}),e.jsxs("form",{onSubmit:L,className:"p-8 max-w-2xl space-y-6",children:[b&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 text-red-700 rounded-xl font-medium",children:b}),N&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 text-green-700 rounded-xl font-medium",children:N}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(gt,{size:14})," Ad Soyad ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:j,onChange:d=>g(d.target.value),placeholder:"KullanÄ±cÄ± adÄ±",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(re,{size:14})," E-posta ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:f,onChange:d=>v(d.target.value),placeholder:"email@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(Le,{size:14})," Rol"]}),e.jsxs("select",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none bg-white",value:k,onChange:d=>y(d.target.value),children:[e.jsx("option",{value:"admin",children:"Admin - Tam yetki"}),e.jsx("option",{value:"editor",children:"EditÃ¶r - Ä°Ã§erik yÃ¶netimi"}),e.jsx("option",{value:"viewer",children:"Ä°zleyici - Salt okunur"})]}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Admin: TÃ¼m yetkilere sahip. EditÃ¶r: Blog, SSS ve mesajlarÄ± yÃ¶netir. Ä°zleyici: Sadece gÃ¶rÃ¼ntÃ¼ler."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(Bt,{size:14})," ",o?"Yeni Åifre (opsiyonel)":"Åifre"," ",!o&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:l?"text":"password",className:"flex-1 p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:r,onChange:d=>n(d.target.value),placeholder:o?"DeÄŸiÅŸtirmek iÃ§in yeni ÅŸifre girin":"En az 8 karakter",minLength:o?0:8,required:o?void 0:!1}),e.jsx("button",{type:"button",onClick:()=>p(!l),className:"px-4 py-2 bg-slate-100 rounded-xl hover:bg-slate-200 transition-colors",children:e.jsx(te,{size:18,className:"text-slate-600"})}),o&&r&&e.jsx("button",{type:"button",onClick:B,disabled:m,className:"px-4 py-2 bg-amber-100 text-amber-700 rounded-xl hover:bg-amber-200 transition-colors font-medium disabled:opacity-50",children:m?e.jsx(F,{className:"animate-spin",size:18}):"Åifreyi GÃ¼ncelle"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-xl border border-green-100",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:A,onChange:d=>_(d.target.checked),className:"w-5 h-5 accent-green-600"}),e.jsxs("label",{htmlFor:"is_active",className:"cursor-pointer",children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Aktif KullanÄ±cÄ±"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Devre dÄ±ÅŸÄ± kullanÄ±cÄ±lar giriÅŸ yapamaz"})]})]}),e.jsxs("div",{className:"pt-4 flex gap-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Ä°ptal"}),e.jsxs("button",{type:"submit",disabled:T,className:"px-6 py-3 bg-rose-600 text-white font-bold rounded-xl hover:bg-rose-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[T?e.jsx(F,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),T?"Kaydediliyor...":o?"GÃ¼ncelle":"KullanÄ±cÄ± OluÅŸtur"]})]})]})]})},hs=({token:a})=>{const[c,t]=s.useState("analytics"),[i,j]=s.useState(!0),[g,f]=s.useState(!1),[v,k]=s.useState(null),[y,A]=s.useState({ga_measurement_id:"",gtm_id:"",extra_head_html:"",extra_body_html:""}),[_,r]=s.useState({site_name:"TURP Clinical Trials",default_title:"TURP - Klinik AraÅŸtÄ±rma Platformu",default_description:"e-NabÄ±z entegrasyonu ile klinik araÅŸtÄ±rmalarda veri toplama platformu",default_og_image:"",default_language:"tr"}),n="/api",l=n.endsWith("/index.php")?n:`${n}/index.php`;s.useEffect(()=>{(async()=>{try{const w=await(await fetch(`${l}?action=get_settings`,{headers:{Authorization:`Bearer ${a}`,...E()}})).json();if(w.success&&w.data){if(w.data.analytics)try{const b=JSON.parse(w.data.analytics);A(u=>({...u,...b}))}catch{}if(w.data.global_seo)try{const b=JSON.parse(w.data.global_seo);r(u=>({...u,...b}))}catch{}}}catch(m){console.error("Settings fetch error:",m)}finally{j(!1)}})()},[a,n]);const p=async()=>{f(!0),k(null);try{const m=await(await fetch(`${l}?action=update_settings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify({analytics:JSON.stringify(y)})})).json();m.success?k({type:"success",text:"Analytics ayarlarÄ± kaydedildi."}):k({type:"error",text:m.error||"Kaydetme baÅŸarÄ±sÄ±z"})}catch{k({type:"error",text:"BaÄŸlantÄ± hatasÄ±"})}finally{f(!1)}},T=async()=>{f(!0),k(null);try{const m=await(await fetch(`${l}?action=update_settings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify({global_seo:JSON.stringify(_)})})).json();m.success?k({type:"success",text:"SEO ayarlarÄ± kaydedildi."}):k({type:"error",text:m.error||"Kaydetme baÅŸarÄ±sÄ±z"})}catch{k({type:"error",text:"BaÄŸlantÄ± hatasÄ±"})}finally{f(!1)}};return i?e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-12 text-center",children:[e.jsx(F,{className:"animate-spin mx-auto mb-2 text-slate-400",size:32}),e.jsx("p",{className:"text-slate-500",children:"Ayarlar yÃ¼kleniyor..."})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"flex border-b border-slate-200",children:[e.jsxs("button",{onClick:()=>t("analytics"),className:`flex-1 px-6 py-4 text-center font-medium transition-colors flex items-center justify-center gap-2 ${c==="analytics"?"bg-rose-50 text-rose-700 border-b-2 border-rose-500":"text-slate-500 hover:bg-slate-50"}`,children:[e.jsx(nt,{size:20}),"Analytics"]}),e.jsxs("button",{onClick:()=>t("seo"),className:`flex-1 px-6 py-4 text-center font-medium transition-colors flex items-center justify-center gap-2 ${c==="seo"?"bg-rose-50 text-rose-700 border-b-2 border-rose-500":"text-slate-500 hover:bg-slate-50"}`,children:[e.jsx(le,{size:20}),"SEO"]})]}),v&&e.jsxs("div",{className:`mx-6 mt-6 p-4 rounded-xl flex items-center gap-2 ${v.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[v.type==="success"?e.jsx(W,{size:18}):e.jsx(Re,{size:18}),v.text]}),c==="analytics"&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex gap-3",children:[e.jsx(Re,{className:"text-amber-600 flex-shrink-0",size:20}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:"UyarÄ±:"})," Sadece gÃ¼venilir kaynaklardan script ekleyin. YanlÄ±ÅŸ kod site gÃ¼venliÄŸini tehlikeye atabilir. KVKK/GDPR uyumluluÄŸuna dikkat edin."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Google Analytics Measurement ID"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:y.ga_measurement_id,onChange:S=>A({...y,ga_measurement_id:S.target.value}),placeholder:"G-XXXXXXXXXX"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Google Analytics 4 Ã¶lÃ§Ã¼m kimliÄŸi. Ã–rn: G-ABC123XYZ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Google Tag Manager ID (Opsiyonel)"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:y.gtm_id,onChange:S=>A({...y,gtm_id:S.target.value}),placeholder:"GTM-XXXXXXX"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ek Head HTML (Opsiyonel)"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none font-mono text-sm h-24",value:y.extra_head_html,onChange:S=>A({...y,extra_head_html:S.target.value}),placeholder:"<!-- Meta pikseller, chat widget'larÄ± vb. -->"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ek Body Sonu HTML (Opsiyonel)"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none font-mono text-sm h-24",value:y.extra_body_html,onChange:S=>A({...y,extra_body_html:S.target.value}),placeholder:"<!-- Body sonuna eklenecek scriptler -->"})]}),e.jsxs("button",{onClick:p,disabled:g,className:"px-6 py-3 bg-rose-600 text-white font-bold rounded-xl hover:bg-rose-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[g?e.jsx(F,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),g?"Kaydediliyor...":"Analytics AyarlarÄ±nÄ± Kaydet"]})]}),c==="seo"&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Site AdÄ±"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:_.site_name,onChange:S=>r({..._,site_name:S.target.value}),placeholder:"TURP Clinical Trials"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(ee,{size:14})," VarsayÄ±lan Dil"]}),e.jsxs("select",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none bg-white",value:_.default_language,onChange:S=>r({..._,default_language:S.target.value}),children:[e.jsx("option",{value:"tr",children:"TÃ¼rkÃ§e"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"zh",children:"ä¸­æ–‡"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"VarsayÄ±lan Sayfa BaÅŸlÄ±ÄŸÄ±"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:_.default_title,onChange:S=>r({..._,default_title:S.target.value}),placeholder:"TURP - Klinik AraÅŸtÄ±rma Platformu"}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[_.default_title.length,"/60 karakter (Ã¶nerilen: 50-60)"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"VarsayÄ±lan Meta AÃ§Ä±klama"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none h-24",value:_.default_description,onChange:S=>r({..._,default_description:S.target.value}),placeholder:"Site aÃ§Ä±klamasÄ±..."}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[_.default_description.length,"/160 karakter (Ã¶nerilen: 150-160)"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"VarsayÄ±lan OG Image URL"}),e.jsx("input",{type:"url",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:_.default_og_image,onChange:S=>r({..._,default_og_image:S.target.value}),placeholder:"https://ct.turp.health/og-image.jpg"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Sosyal medya paylaÅŸÄ±mlarÄ±nda gÃ¶rÃ¼necek gÃ¶rsel (1200x630px Ã¶nerilir)"})]}),e.jsxs("button",{onClick:T,disabled:g,className:"px-6 py-3 bg-rose-600 text-white font-bold rounded-xl hover:bg-rose-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[g?e.jsx(F,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),g?"Kaydediliyor...":"SEO AyarlarÄ±nÄ± Kaydet"]})]})]})})},us=({token:a,onEdit:c,onCreate:t})=>{const[i,j]=s.useState([]),[g,f]=s.useState(!0),v=ae(),k=xe(),[y,A]=s.useState(1),[_,r]=s.useState(""),n="/api",l=n.endsWith("/index.php")?n:`${n}/index.php`,p=async()=>{f(!0);try{const b=await(await fetch(`${l}?action=get_legal_docs_admin`,{headers:{Authorization:`Bearer ${a}`,...E()}})).json();b.success?j(b.data):v.error(b.error||"DokÃ¼man listesi alÄ±namadÄ±")}catch{v.error("BaÄŸlantÄ± hatasÄ±")}finally{f(!1)}};s.useEffect(()=>{p()},[]);const T=async w=>{if(await k({title:"DokÃ¼manÄ± Sil",message:"Bu dokÃ¼manÄ± silmek istediÄŸinize emin misiniz?",confirmLabel:"Sil",cancelLabel:"Ä°ptal",type:"danger"}))try{(await(await fetch(`${l}?action=delete_legal_doc`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify({id:w})})).json()).success?(j(i.filter($=>$.id!==w)),v.success("DokÃ¼man baÅŸarÄ±yla silindi")):v.error("Silme hatasÄ±")}catch{v.error("BaÄŸlantÄ± hatasÄ±")}},S=async(w,b)=>{const u=i.find(N=>N.id===w);if(u)try{(await(await fetch(`${l}?action=save_legal_doc`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify({...u,is_active:!b})})).json()).success?(j(i.map(D=>D.id===w?{...D,is_active:b?0:1}:D)),v.success("Durum gÃ¼ncellendi")):v.error("GÃ¼ncelleme hatasÄ±")}catch{v.error("BaÄŸlantÄ± hatasÄ±")}},m=i.filter(w=>w.title_tr.toLowerCase().includes(_.toLowerCase())||w.key.toLowerCase().includes(_.toLowerCase()));return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 mb-1",children:[e.jsx(_e,{className:"text-slate-900"})," Hukuki DokÃ¼manlar"]}),e.jsx("p",{className:"text-slate-500 text-sm",children:"SÃ¶zleÅŸme ve politikalarÄ± yÃ¶netin."})]}),e.jsxs("button",{type:"button",onClick:t,className:"bg-slate-900 text-white px-4 py-2 rounded-xl font-bold hover:bg-rose-600 transition-all flex items-center gap-2 shadow-lg shadow-rose-200",children:[e.jsx(X,{size:18})," Yeni DokÃ¼man"]})]}),e.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-100",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"BaÅŸlÄ±k veya key ara...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg outline-none focus:border-rose-500",value:_,onChange:w=>r(w.target.value)})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-white text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"BaÅŸlÄ±k / Key"}),e.jsx("th",{className:"p-4 w-32",children:"Etkin Tarih"}),e.jsx("th",{className:"p-4 w-24",children:"Aktif"}),e.jsx("th",{className:"p-4 w-20",children:"SÄ±ra"}),e.jsx("th",{className:"p-4 text-right w-32",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:g?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-400",children:e.jsx(F,{className:"animate-spin mx-auto"})})}):m.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"DokÃ¼man bulunamadÄ±."})}):m.map(w=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-medium text-slate-900",children:w.title_tr}),e.jsx("div",{className:"text-xs text-slate-400 font-mono mt-1",children:w.key})]}),e.jsx("td",{className:"p-4 text-sm text-slate-600",children:w.effective_date||"-"}),e.jsx("td",{className:"p-4",children:e.jsx("button",{onClick:()=>S(w.id,!!Number(w.is_active)),className:`p-2 rounded-lg transition-colors ${Number(w.is_active)?"bg-green-100 text-green-600":"bg-red-100 text-red-400"}`,children:Number(w.is_active)?e.jsx(te,{size:16}):e.jsx(be,{size:16})})}),e.jsx("td",{className:"p-4 text-sm text-slate-500 font-mono",children:w.sort_order}),e.jsxs("td",{className:"p-4 text-right space-x-2",children:[e.jsx("button",{onClick:()=>c(w),className:"p-2 bg-white border border-slate-200 rounded-lg hover:border-cyan-500 hover:text-cyan-600 transition-all shadow-sm",children:e.jsx(ze,{size:16})}),e.jsx("button",{onClick:()=>T(w.id),className:"p-2 bg-white border border-slate-200 rounded-lg hover:border-red-500 hover:text-red-600 transition-all shadow-sm",children:e.jsx(V,{size:16})})]})]},w.id))})]})})]})},ps=({token:a,doc:c,onCancel:t,onSave:i})=>{const[j,g]=s.useState(c?.key||""),[f,v]=s.useState(c?!!Number(c.is_active):!0),[k,y]=s.useState(c?.sort_order||0),[A,_]=s.useState(c?.effective_date||""),[r,n]=s.useState(c?.title_tr||""),[l,p]=s.useState(c?.content_tr||""),[T,S]=s.useState(c?.title_en||""),[m,w]=s.useState(c?.content_en||""),[b,u]=s.useState(c?.title_zh||""),[N,$]=s.useState(c?.content_zh||""),[D,h]=s.useState(!1),[o,L]=s.useState(!1),[B,d]=s.useState(null),[C,x]=s.useState(!1),P="/api",z=P.endsWith("/index.php")?P:`${P}/index.php`,I=!!c?.id,K=async()=>{if(!r.trim()||!l.trim()){d("Ã‡eviri iÃ§in Ã¶nce TÃ¼rkÃ§e baÅŸlÄ±k ve iÃ§erik girin.");return}L(!0),d(null),x(!1);try{const M=await(await fetch(`${z}?action=translate_legal`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify({title_tr:r,content_tr:l})})).json();M.success&&M.translations?(M.translations.en.success&&(S(M.translations.en.title),w(M.translations.en.content)),M.translations.zh.success&&(u(M.translations.zh.title),$(M.translations.zh.content)),x(!0),setTimeout(()=>x(!1),3e3)):d(M.error||"Ã‡eviri baÅŸarÄ±sÄ±z")}catch{d("Ã‡eviri baÄŸlantÄ± hatasÄ±")}finally{L(!1)}},H=async R=>{if(R.preventDefault(),d(null),!j.trim()||!r.trim()){d("Key ve TÃ¼rkÃ§e BaÅŸlÄ±k zorunludur.");return}h(!0);try{const M={key:j,title_tr:r,content_tr:l,title_en:T,content_en:m,title_zh:b,content_zh:N,is_active:f,sort_order:k,effective_date:A};I&&(M.id=c.id);const J=await(await fetch(`${z}?action=save_legal_doc`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify(M)})).json();J.success?i():d(J.error||"KayÄ±t baÅŸarÄ±sÄ±z")}catch{d("BaÄŸlantÄ± hatasÄ±")}finally{h(!1)}};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(ne,{className:"text-slate-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:I?"DokÃ¼man DÃ¼zenle":"Yeni DokÃ¼man Ekle"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Hukuki metinleri ve Ã§evirilerini yÃ¶netin."})]})]})}),e.jsxs("form",{onSubmit:H,className:"p-8 max-w-5xl space-y-8",children:[B&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 text-red-700 rounded-xl font-medium",children:B}),C&&e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 text-green-700 rounded-xl font-medium flex items-center gap-2",children:[e.jsx($e,{size:18})," Ã‡eviriler baÅŸarÄ±yla oluÅŸturuldu!"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 bg-slate-50 p-6 rounded-xl border border-slate-100",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:["Key (Benzersiz ID) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none font-mono text-sm disabled:bg-slate-100 disabled:text-slate-500",value:j,onChange:R=>g(R.target.value.toLowerCase().replace(/\s+/g,"_")),placeholder:"terms_of_use",disabled:I&&!!c.key,required:!0}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"URL'de kullanÄ±lacak tanÄ±mlayÄ±cÄ± (Ã¶rn: privacy_policy)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(fe,{size:14})," Etkin Tarih"]}),e.jsx("input",{type:"date",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:A,onChange:R=>_(R.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[e.jsx(it,{size:14})," SÄ±ralama"]}),e.jsx("input",{type:"number",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:k,onChange:R=>y(Number(R.target.value))})]}),e.jsxs("div",{className:"md:col-span-3 flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"active",checked:f,onChange:R=>v(R.target.checked),className:"w-5 h-5 accent-green-500"}),e.jsxs("label",{htmlFor:"active",className:"flex items-center gap-2 cursor-pointer font-bold text-slate-700",children:[e.jsx(te,{size:18,className:"text-green-500"})," Aktif (YayÄ±nla)"]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-rose-50 p-6 rounded-xl border border-rose-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2 border-b border-rose-200 pb-2",children:[e.jsx(ee,{size:18,className:"text-rose-600"})," TÃ¼rkÃ§e (Ana Dil)"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"BaÅŸlÄ±k"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none",value:r,onChange:R=>n(R.target.value),placeholder:"Ã–rn: KullanÄ±m KoÅŸullarÄ±"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ä°Ã§erik (Markdown/HTML)"}),e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Markdown formatÄ± destekler."}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-rose-500 outline-none font-mono text-sm h-64",value:l,onChange:R=>p(R.target.value),placeholder:`# BaÅŸlÄ±k

Ä°Ã§erik...`})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"button",onClick:K,disabled:o||!r.trim()||!l.trim(),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold rounded-xl hover:from-purple-700 hover:to-blue-700 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:o?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"animate-spin",size:20}),"Ã‡eviriliyor..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Me,{size:20}),"ğŸ¤– AI ile Ã‡evir (EN + ZH)"]})})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2 border-b border-blue-200 pb-2",children:[e.jsx(ee,{size:18,className:"text-blue-600"})," English"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Title"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-blue-500 outline-none",value:T,onChange:R=>S(R.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Content"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-blue-500 outline-none font-mono text-sm h-64",value:m,onChange:R=>w(R.target.value)})]})]})]}),e.jsxs("div",{className:"bg-amber-50 p-6 rounded-xl border border-amber-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2 border-b border-amber-200 pb-2",children:[e.jsx(ee,{size:18,className:"text-amber-600"})," ä¸­æ–‡"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"æ ‡é¢˜"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-amber-500 outline-none",value:b,onChange:R=>u(R.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"å†…å®¹"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-amber-500 outline-none font-mono text-sm h-64",value:N,onChange:R=>$(R.target.value)})]})]})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-slate-100 flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Ä°ptal"}),e.jsxs("button",{type:"submit",disabled:D,className:"px-6 py-3 bg-rose-600 text-white font-bold rounded-xl hover:bg-rose-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[D?e.jsx(F,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),D?"Kaydediliyor...":"Kaydet"]})]})]})]})},bs=({onEdit:a})=>{const[c,t]=s.useState([]),[i,j]=s.useState(!0),[g,f]=s.useState("all"),v="/api",k=v.endsWith("/index.php")?v:`${v}/index.php`,y=async()=>{try{const l=localStorage.getItem("admin_token"),T=await(await fetch(`${k}?action=get_landing_configs_admin&language=${g}`,{headers:{Authorization:`Bearer ${l}`,...E()}})).json();T.success&&t(T.data)}catch(l){console.error("Fetch error:",l)}finally{j(!1)}};s.useEffect(()=>{y()},[g]);const A=async l=>{if(confirm("Bu yapÄ±landÄ±rmayÄ± kopyalamak istiyor musunuz?"))try{const p=localStorage.getItem("admin_token");(await(await fetch(`${k}?action=duplicate_landing_config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`,...E()},body:JSON.stringify({id:l})})).json()).success&&y()}catch(p){console.error("Duplicate error:",p)}},_=async l=>{if(confirm("Bu yapÄ±landÄ±rmayÄ± silmek istediÄŸinizden emin misiniz?"))try{const p=localStorage.getItem("admin_token");(await(await fetch(`${k}?action=delete_landing_config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`,...E()},body:JSON.stringify({id:l})})).json()).success&&y()}catch(p){console.error("Delete error:",p)}},r=async l=>{try{const p=localStorage.getItem("admin_token");(await(await fetch(`${k}?action=save_landing_config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`,...E()},body:JSON.stringify({...l,is_active:l.is_active?0:1})})).json()).success&&y()}catch(p){console.error("Toggle error:",p)}},n=l=>{switch(l){case"tr":return"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e";case"en":return"ğŸ‡¬ğŸ‡§ English";case"zh":return"ğŸ‡¨ğŸ‡³ ä¸­æ–‡";default:return l}};return i?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"YÃ¼kleniyor..."}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Landing Builder"}),e.jsx("p",{className:"text-slate-500",children:"Hero bÃ¶lÃ¼mÃ¼ yapÄ±landÄ±rmalarÄ±"})]}),e.jsxs("button",{onClick:()=>a(null),className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors",children:[e.jsx(X,{size:20}),"Yeni YapÄ±landÄ±rma"]})]}),e.jsx("div",{className:"mb-4 flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{size:18,className:"text-slate-400"}),e.jsxs("select",{value:g,onChange:l=>f(l.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg",children:[e.jsx("option",{value:"all",children:"TÃ¼m Diller"}),e.jsx("option",{value:"tr",children:"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e"}),e.jsx("option",{value:"en",children:"ğŸ‡¬ğŸ‡§ English"}),e.jsx("option",{value:"zh",children:"ğŸ‡¨ğŸ‡³ ä¸­æ–‡"})]})]})}),c.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"HenÃ¼z yapÄ±landÄ±rma bulunamadÄ±."}):e.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-600",children:"Dil"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-600",children:"BaÅŸlÄ±k"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-slate-600",children:"Aktif"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-600",children:"GÃ¼ncellenme"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-600",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{children:c.map(l=>e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm",children:n(l.language)})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm font-medium text-slate-800 line-clamp-1",children:l.hero_title})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("button",{onClick:()=>r(l),className:`p-1 rounded-full ${l.is_active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:l.is_active?e.jsx(he,{size:16}):e.jsx(ie,{size:16})})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-slate-500",children:new Date(l.updated_at).toLocaleDateString("tr-TR")})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>a(l.id),className:"p-2 text-slate-500 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-colors",title:"DÃ¼zenle",children:e.jsx(ve,{size:16})}),e.jsx("button",{onClick:()=>A(l.id),className:"p-2 text-slate-500 hover:text-blue-500 hover:bg-blue-50 rounded-lg transition-colors",title:"Kopyala",children:e.jsx(De,{size:16})}),e.jsx("button",{onClick:()=>_(l.id),className:"p-2 text-slate-500 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Sil",children:e.jsx(V,{size:16})})]})})]},l.id))})]})})]})},Ve={language:"tr",hero_title:"",hero_title_line1:"",hero_title_line2:"",hero_subtitle:"",hero_badge:"",primary_cta_label:"",primary_cta_url:"",secondary_cta_label:"",secondary_cta_url:"",hero_image_url:"",background_style:"default",is_active:!0,hero_line1_use_gradient_text:!1,hero_line1_solid_color:"#FFFFFF",hero_line1_gradient_from:"#4F46E5",hero_line1_gradient_to:"#22C55E",hero_line1_gradient_angle:90,hero_line2_use_gradient_text:!0,hero_line2_solid_color:"#EC4899",hero_line2_gradient_from:"#EC4899",hero_line2_gradient_to:"#8B5CF6",hero_line2_gradient_angle:90,hero_use_gradient_background:!1,hero_gradient_bg_from:"#1E293B",hero_gradient_bg_to:"#0F172A",hero_gradient_bg_angle:180},gs=({editId:a,onBack:c})=>{const[t,i]=s.useState(Ve),[j,g]=s.useState(!1),[f,v]=s.useState(!1),[k,y]=s.useState(!1),[A,_]=s.useState(!1),r="/api",n=r.endsWith("/index.php")?r:`${r}/index.php`;s.useEffect(()=>{a&&l()},[a]);const l=async()=>{g(!0);try{const m=localStorage.getItem("admin_token"),b=await(await fetch(`${n}?action=get_landing_config_detail&id=${a}`,{headers:{Authorization:`Bearer ${m}`,...E()}})).json();b.success&&b.data&&i({...Ve,...b.data,is_active:!!b.data.is_active,hero_use_gradient_text:!!b.data.hero_use_gradient_text,hero_use_gradient_background:!!b.data.hero_use_gradient_background})}catch(m){console.error("Fetch error:",m)}finally{g(!1)}},p=async()=>{if(!t.hero_title.trim()){alert("Hero baÅŸlÄ±ÄŸÄ± zorunludur.");return}v(!0);try{const m=localStorage.getItem("admin_token"),b=await(await fetch(`${n}?action=save_landing_config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`,...E()},body:JSON.stringify({...t,id:a})})).json();b.success?c():alert(b.error||"KayÄ±t baÅŸarÄ±sÄ±z")}catch(m){console.error("Save error:",m),alert("Bir hata oluÅŸtu")}finally{v(!1)}},T=async()=>{const m=prompt("MarkanÄ±zÄ± veya Ã¼rÃ¼nÃ¼nÃ¼zÃ¼ kÄ±saca tanÄ±mlayÄ±n:");if(m){y(!0);try{const w=localStorage.getItem("admin_token"),u=await(await fetch(`${n}?action=translate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`,...E()},body:JSON.stringify({text:`Bu tanÄ±ma gÃ¶re etkileyici bir hero baÅŸlÄ±ÄŸÄ± ve alt baÅŸlÄ±k Ã¶ner (JSON formatÄ±nda title ve subtitle olarak dÃ¶ndÃ¼r): ${m}`,target_language:t.language==="en"?"English":t.language==="zh"?"Chinese":"Turkish"})})).json();if(u.translated_text)try{const N=JSON.parse(u.translated_text);N.title&&i($=>({...$,hero_title:N.title})),N.subtitle&&i($=>({...$,hero_subtitle:N.subtitle}))}catch{i(N=>({...N,hero_title:u.translated_text}))}}catch(w){console.error("AI error:",w)}finally{y(!1)}}},S=()=>{switch(t.background_style){case"light":return"bg-slate-100";case"dark":return"bg-slate-900 text-white";case"gradient":return"bg-gradient-to-br from-rose-600 to-purple-700 text-white";default:return"bg-white"}};return j?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"YÃ¼kleniyor..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:c,className:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-lg",children:e.jsx(ne,{size:20})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:a?"YapÄ±landÄ±rmayÄ± DÃ¼zenle":"Yeni YapÄ±landÄ±rma"}),e.jsx("p",{className:"text-slate-500",children:"Hero bÃ¶lÃ¼mÃ¼ ayarlarÄ±"})]})]}),e.jsxs("button",{onClick:p,disabled:f,className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors disabled:opacity-50",children:[e.jsx(Z,{size:20}),f?"Kaydediliyor...":"Kaydet"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Genel Ayarlar"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Dil"}),e.jsxs("select",{value:t.language,onChange:m=>i({...t,language:m.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg",children:[e.jsx("option",{value:"tr",children:"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e"}),e.jsx("option",{value:"en",children:"ğŸ‡¬ğŸ‡§ English"}),e.jsx("option",{value:"zh",children:"ğŸ‡¨ğŸ‡³ ä¸­æ–‡"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Arka Plan"}),e.jsxs("select",{value:t.background_style,onChange:m=>i({...t,background_style:m.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg",children:[e.jsx("option",{value:"default",children:"VarsayÄ±lan"}),e.jsx("option",{value:"light",children:"AÃ§Ä±k"}),e.jsx("option",{value:"dark",children:"Koyu"}),e.jsx("option",{value:"gradient",children:"Gradient"})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t.is_active,onChange:m=>i({...t,is_active:m.target.checked}),className:"w-4 h-4 text-rose-500 rounded"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Aktif (Bu dil iÃ§in ana yapÄ±landÄ±rma olarak kullan)"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-slate-800",children:"Hero Ä°Ã§erik"}),e.jsxs("button",{onClick:T,disabled:k,className:"flex items-center gap-1 px-3 py-1.5 text-sm text-purple-600 hover:bg-purple-50 rounded-lg transition-colors disabled:opacity-50",children:[e.jsx($e,{size:16}),k?"DÃ¼ÅŸÃ¼nÃ¼yor...":"AI Ã–ner"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Badge (Ãœst Etiket)"}),e.jsx("input",{type:"text",value:t.hero_badge,onChange:m=>i({...t,hero_badge:m.target.value}),placeholder:"Ã–rn: USBS OnaylÄ± & e-NabÄ±z Entegreli",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"BaÅŸlÄ±k - SatÄ±r 1 *"}),e.jsx("input",{type:"text",value:t.hero_title_line1,onChange:m=>i({...t,hero_title_line1:m.target.value,hero_title:m.target.value}),placeholder:"Ana baÅŸlÄ±k - birinci satÄ±r",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"BaÅŸlÄ±k - SatÄ±r 2"}),e.jsx("input",{type:"text",value:t.hero_title_line2,onChange:m=>i({...t,hero_title_line2:m.target.value}),placeholder:"Ana baÅŸlÄ±k - ikinci satÄ±r (opsiyonel)",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Alt BaÅŸlÄ±k"}),e.jsx("textarea",{value:t.hero_subtitle,onChange:m=>i({...t,hero_subtitle:m.target.value}),placeholder:"AÃ§Ä±klama metni",rows:3,className:"w-full px-3 py-2 border border-slate-200 rounded-lg resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Hero GÃ¶rsel URL"}),e.jsx("input",{type:"text",value:t.hero_image_url,onChange:m=>i({...t,hero_image_url:m.target.value}),placeholder:"/images/hero.jpg",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"}),e.jsxs("button",{type:"button",onClick:()=>_(!0),className:"mt-2 w-full flex items-center justify-center gap-2 px-4 py-2 text-sm text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors",children:[e.jsx(ye,{size:16}),"Medya KÃ¼tÃ¼phanesinden SeÃ§"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"CTA ButonlarÄ±"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Birincil Buton Metni"}),e.jsx("input",{type:"text",value:t.primary_cta_label,onChange:m=>i({...t,primary_cta_label:m.target.value}),placeholder:"Demo Talep Et",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Birincil Buton URL"}),e.jsx("input",{type:"text",value:t.primary_cta_url,onChange:m=>i({...t,primary_cta_url:m.target.value}),placeholder:"#contact",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Ä°kincil Buton Metni"}),e.jsx("input",{type:"text",value:t.secondary_cta_label,onChange:m=>i({...t,secondary_cta_label:m.target.value}),placeholder:"Daha Fazla Bilgi",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Ä°kincil Buton URL"}),e.jsx("input",{type:"text",value:t.secondary_cta_url,onChange:m=>i({...t,secondary_cta_url:m.target.value}),placeholder:"#features",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-slate-800",children:"Stil AyarlarÄ±"}),e.jsxs("button",{onClick:()=>i({...t,hero_line1_use_gradient_text:!1,hero_line1_solid_color:"#FFFFFF",hero_line1_gradient_from:"#4F46E5",hero_line1_gradient_to:"#22C55E",hero_line1_gradient_angle:90,hero_line2_use_gradient_text:!0,hero_line2_solid_color:"#EC4899",hero_line2_gradient_from:"#EC4899",hero_line2_gradient_to:"#8B5CF6",hero_line2_gradient_angle:90,hero_use_gradient_background:!1,hero_gradient_bg_from:"#1E293B",hero_gradient_bg_to:"#0F172A",hero_gradient_bg_angle:180}),className:"flex items-center gap-1 px-3 py-1.5 text-sm text-slate-500 hover:bg-slate-50 rounded-lg transition-colors",children:[e.jsx(ct,{size:14}),"VarsayÄ±lana DÃ¶n"]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-slate-700 mb-3",children:"SatÄ±r 1 Stili"}),e.jsxs("label",{className:"flex items-center gap-2 mb-3",children:[e.jsx("input",{type:"checkbox",checked:t.hero_line1_use_gradient_text,onChange:m=>i({...t,hero_line1_use_gradient_text:m.target.checked}),className:"w-4 h-4 text-rose-500 rounded"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Gradient Kullan"})]}),t.hero_line1_use_gradient_text?e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"BaÅŸlangÄ±Ã§"}),e.jsx("input",{type:"color",value:t.hero_line1_gradient_from,onChange:m=>i({...t,hero_line1_gradient_from:m.target.value}),className:"w-full h-10 rounded border border-slate-200 cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"BitiÅŸ"}),e.jsx("input",{type:"color",value:t.hero_line1_gradient_to,onChange:m=>i({...t,hero_line1_gradient_to:m.target.value}),className:"w-full h-10 rounded border border-slate-200 cursor-pointer"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-slate-500 mb-1",children:["AÃ§Ä± (",t.hero_line1_gradient_angle,"Â°)"]}),e.jsx("input",{type:"range",min:"0",max:"360",value:t.hero_line1_gradient_angle,onChange:m=>i({...t,hero_line1_gradient_angle:parseInt(m.target.value)}),className:"w-full h-10"})]})]}):e.jsxs("div",{className:"max-w-[150px]",children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"DÃ¼z Renk"}),e.jsx("input",{type:"color",value:t.hero_line1_solid_color,onChange:m=>i({...t,hero_line1_solid_color:m.target.value}),className:"w-full h-10 rounded border border-slate-200 cursor-pointer"})]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-slate-700 mb-3",children:"SatÄ±r 2 Stili"}),e.jsxs("label",{className:"flex items-center gap-2 mb-3",children:[e.jsx("input",{type:"checkbox",checked:t.hero_line2_use_gradient_text,onChange:m=>i({...t,hero_line2_use_gradient_text:m.target.checked}),className:"w-4 h-4 text-rose-500 rounded"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Gradient Kullan"})]}),t.hero_line2_use_gradient_text?e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"BaÅŸlangÄ±Ã§"}),e.jsx("input",{type:"color",value:t.hero_line2_gradient_from,onChange:m=>i({...t,hero_line2_gradient_from:m.target.value}),className:"w-full h-10 rounded border border-slate-200 cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"BitiÅŸ"}),e.jsx("input",{type:"color",value:t.hero_line2_gradient_to,onChange:m=>i({...t,hero_line2_gradient_to:m.target.value}),className:"w-full h-10 rounded border border-slate-200 cursor-pointer"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-slate-500 mb-1",children:["AÃ§Ä± (",t.hero_line2_gradient_angle,"Â°)"]}),e.jsx("input",{type:"range",min:"0",max:"360",value:t.hero_line2_gradient_angle,onChange:m=>i({...t,hero_line2_gradient_angle:parseInt(m.target.value)}),className:"w-full h-10"})]})]}):e.jsxs("div",{className:"max-w-[150px]",children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"DÃ¼z Renk"}),e.jsx("input",{type:"color",value:t.hero_line2_solid_color,onChange:m=>i({...t,hero_line2_solid_color:m.target.value}),className:"w-full h-10 rounded border border-slate-200 cursor-pointer"})]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[e.jsxs("label",{className:"flex items-center gap-2 mb-3",children:[e.jsx("input",{type:"checkbox",checked:t.hero_use_gradient_background,onChange:m=>i({...t,hero_use_gradient_background:m.target.checked}),className:"w-4 h-4 text-rose-500 rounded"}),e.jsx("span",{className:"font-medium text-slate-700",children:"Gradient Arka Plan"})]}),t.hero_use_gradient_background&&e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"BaÅŸlangÄ±Ã§"}),e.jsx("input",{type:"color",value:t.hero_gradient_bg_from,onChange:m=>i({...t,hero_gradient_bg_from:m.target.value}),className:"w-full h-10 rounded border border-slate-200 cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"BitiÅŸ"}),e.jsx("input",{type:"color",value:t.hero_gradient_bg_to,onChange:m=>i({...t,hero_gradient_bg_to:m.target.value}),className:"w-full h-10 rounded border border-slate-200 cursor-pointer"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-slate-500 mb-1",children:["AÃ§Ä± (",t.hero_gradient_bg_angle,"Â°)"]}),e.jsx("input",{type:"range",min:"0",max:"360",value:t.hero_gradient_bg_angle,onChange:m=>i({...t,hero_gradient_bg_angle:parseInt(m.target.value)}),className:"w-full h-10"})]})]})]})]})]}),e.jsx("div",{className:"lg:sticky lg:top-6 h-fit",children:e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-200",children:e.jsx("h3",{className:"font-semibold text-slate-800",children:"Ã–nizleme"})}),e.jsxs("div",{className:`p-8 min-h-[400px] ${S()}`,style:t.hero_use_gradient_background?{background:`linear-gradient(${t.hero_gradient_bg_angle}deg, ${t.hero_gradient_bg_from}, ${t.hero_gradient_bg_to})`,color:"white"}:void 0,children:[t.hero_badge&&e.jsx("div",{className:"inline-block px-3 py-1 bg-white/20 backdrop-blur-sm rounded-full text-sm mb-4 border border-white/30",children:t.hero_badge}),e.jsxs("h1",{className:"text-3xl font-bold mb-4 leading-tight",children:[e.jsx("span",{style:t.hero_line1_use_gradient_text?{background:`linear-gradient(${t.hero_line1_gradient_angle}deg, ${t.hero_line1_gradient_from}, ${t.hero_line1_gradient_to})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}:{color:t.hero_line1_solid_color},children:t.hero_title_line1||"Hero BaÅŸlÄ±ÄŸÄ± - SatÄ±r 1"}),t.hero_title_line2&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("span",{style:t.hero_line2_use_gradient_text?{background:`linear-gradient(${t.hero_line2_gradient_angle}deg, ${t.hero_line2_gradient_from}, ${t.hero_line2_gradient_to})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}:{color:t.hero_line2_solid_color},children:t.hero_title_line2})]})]}),e.jsx("p",{className:"text-lg opacity-80 mb-6",children:t.hero_subtitle||"Alt baÅŸlÄ±k buraya gelecek"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.primary_cta_label&&e.jsx("button",{className:"px-4 py-2 bg-rose-500 text-white rounded-lg text-sm",children:t.primary_cta_label}),t.secondary_cta_label&&e.jsx("button",{className:"px-4 py-2 border border-current rounded-lg text-sm",children:t.secondary_cta_label})]})]})]})})]})]}),e.jsx(we,{isOpen:A,onClose:()=>_(!1),onSelect:m=>{i({...t,hero_image_url:m.url}),_(!1)}})]})},fs=({onEdit:a})=>{const[c,t]=s.useState([]),[i,j]=s.useState(!0),[g,f]=s.useState("all"),v="/api",k=async()=>{try{const r=localStorage.getItem("admin_token"),l=await(await fetch(`${v}/index.php?action=get_contact_configs_admin&language=${g}`,{headers:{Authorization:`Bearer ${r}`,...E()}})).json();l.success&&t(l.data)}catch(r){console.error("Fetch error:",r)}finally{j(!1)}};s.useEffect(()=>{k()},[g]);const y=async r=>{if(confirm("Bu yapÄ±landÄ±rmayÄ± silmek istediÄŸinizden emin misiniz?"))try{const n=localStorage.getItem("admin_token");(await(await fetch(`${v}/index.php?action=delete_contact_config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,...E()},body:JSON.stringify({id:r})})).json()).success&&k()}catch(n){console.error("Delete error:",n)}},A=async r=>{try{const n=localStorage.getItem("admin_token");(await(await fetch(`${v}/index.php?action=save_contact_config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,...E()},body:JSON.stringify({...r,is_active:r.is_active?0:1})})).json()).success&&k()}catch(n){console.error("Toggle error:",n)}},_=r=>{switch(r){case"tr":return"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e";case"en":return"ğŸ‡¬ğŸ‡§ English";case"zh":return"ğŸ‡¨ğŸ‡³ ä¸­æ–‡";default:return r}};return i?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"YÃ¼kleniyor..."}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Ä°letiÅŸim AyarlarÄ±"}),e.jsx("p",{className:"text-slate-500",children:"Ä°letiÅŸim sayfasÄ± yapÄ±landÄ±rmalarÄ±"})]}),e.jsxs("button",{onClick:()=>a(null),className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors",children:[e.jsx(X,{size:20}),"Yeni YapÄ±landÄ±rma"]})]}),e.jsx("div",{className:"mb-4 flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{size:18,className:"text-slate-400"}),e.jsxs("select",{value:g,onChange:r=>f(r.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg",children:[e.jsx("option",{value:"all",children:"TÃ¼m Diller"}),e.jsx("option",{value:"tr",children:"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e"}),e.jsx("option",{value:"en",children:"ğŸ‡¬ğŸ‡§ English"}),e.jsx("option",{value:"zh",children:"ğŸ‡¨ğŸ‡³ ä¸­æ–‡"})]})]})}),c.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"HenÃ¼z yapÄ±landÄ±rma bulunamadÄ±."}):e.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-600",children:"Dil"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-600",children:"BaÅŸlÄ±k"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-600",children:"Åehir"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-slate-600",children:"Aktif"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-600",children:"GÃ¼ncellenme"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-600",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{children:c.map(r=>e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm",children:_(r.language)})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm font-medium text-slate-800 line-clamp-1",children:r.contact_title})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-slate-600",children:r.city||"-"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("button",{onClick:()=>A(r),className:`p-1 rounded-full ${r.is_active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:r.is_active?e.jsx(he,{size:16}):e.jsx(ie,{size:16})})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-slate-500",children:new Date(r.updated_at).toLocaleDateString("tr-TR")})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>a(r.id),className:"p-2 text-slate-500 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-colors",title:"DÃ¼zenle",children:e.jsx(ve,{size:16})}),e.jsx("button",{onClick:()=>y(r.id),className:"p-2 text-slate-500 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Sil",children:e.jsx(V,{size:16})})]})})]},r.id))})]})})]})},js={language:"tr",contact_title:"",contact_subtitle:"",address_line1:"",address_line2:"",city:"",country:"",phone:"",email:"",map_embed_url:"",working_hours:"",form_enabled:!0,notification_email:"",success_message:"MesajÄ±nÄ±z baÅŸarÄ±yla iletildi.",error_message:"Bir hata oluÅŸtu, lÃ¼tfen tekrar deneyin.",is_active:!0},ys=({editId:a,onBack:c})=>{const[t,i]=s.useState(js),[j,g]=s.useState(!1),[f,v]=s.useState(!1),k="/api",y=k.endsWith("/index.php")?k:`${k}/index.php`;s.useEffect(()=>{a&&A()},[a]);const A=async()=>{g(!0);try{const r=localStorage.getItem("admin_token"),l=await(await fetch(`${y}?action=get_contact_config_detail&id=${a}`,{headers:{Authorization:`Bearer ${r}`,...E()}})).json();l.success&&l.data&&i({...l.data,form_enabled:!!l.data.form_enabled,is_active:!!l.data.is_active})}catch(r){console.error("Fetch error:",r)}finally{g(!1)}},_=async()=>{if(!t.contact_title.trim()){alert("Ä°letiÅŸim baÅŸlÄ±ÄŸÄ± zorunludur.");return}v(!0);try{const r=localStorage.getItem("admin_token"),l=await(await fetch(`${y}?action=save_contact_config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,...E()},body:JSON.stringify({...t,id:a})})).json();l.success?c():alert(l.error||"KayÄ±t baÅŸarÄ±sÄ±z")}catch(r){console.error("Save error:",r),alert("Bir hata oluÅŸtu")}finally{v(!1)}};return j?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"YÃ¼kleniyor..."}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:c,className:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-lg",children:e.jsx(ne,{size:20})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:a?"YapÄ±landÄ±rmayÄ± DÃ¼zenle":"Yeni YapÄ±landÄ±rma"}),e.jsx("p",{className:"text-slate-500",children:"Ä°letiÅŸim bÃ¶lÃ¼mÃ¼ ayarlarÄ±"})]})]}),e.jsxs("button",{onClick:_,disabled:f,className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors disabled:opacity-50",children:[e.jsx(Z,{size:20}),f?"Kaydediliyor...":"Kaydet"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Genel Ayarlar"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Dil"}),e.jsxs("select",{value:t.language,onChange:r=>i({...t,language:r.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg",children:[e.jsx("option",{value:"tr",children:"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e"}),e.jsx("option",{value:"en",children:"ğŸ‡¬ğŸ‡§ English"}),e.jsx("option",{value:"zh",children:"ğŸ‡¨ğŸ‡³ ä¸­æ–‡"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t.is_active,onChange:r=>i({...t,is_active:r.target.checked}),className:"w-4 h-4 text-rose-500 rounded"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Aktif"})]})})]}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"BaÅŸlÄ±k *"}),e.jsx("input",{type:"text",value:t.contact_title,onChange:r=>i({...t,contact_title:r.target.value}),placeholder:"Bize UlaÅŸÄ±n",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Alt BaÅŸlÄ±k"}),e.jsx("textarea",{value:t.contact_subtitle,onChange:r=>i({...t,contact_subtitle:r.target.value}),placeholder:"SorularÄ±nÄ±z iÃ§in bizimle iletiÅŸime geÃ§in.",rows:2,className:"w-full px-3 py-2 border border-slate-200 rounded-lg resize-none"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Ä°letiÅŸim Bilgileri"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Adres SatÄ±rÄ± 1"}),e.jsx("input",{type:"text",value:t.address_line1,onChange:r=>i({...t,address_line1:r.target.value}),placeholder:"Cyberpark Teknokent",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Adres SatÄ±rÄ± 2"}),e.jsx("input",{type:"text",value:t.address_line2,onChange:r=>i({...t,address_line2:r.target.value}),placeholder:"A Blok No: 123",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Åehir"}),e.jsx("input",{type:"text",value:t.city,onChange:r=>i({...t,city:r.target.value}),placeholder:"Ankara",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Ãœlke"}),e.jsx("input",{type:"text",value:t.country,onChange:r=>i({...t,country:r.target.value}),placeholder:"TÃ¼rkiye",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Telefon"}),e.jsx("input",{type:"text",value:t.phone,onChange:r=>i({...t,phone:r.target.value}),placeholder:"+90 312 XXX XX XX",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"E-posta"}),e.jsx("input",{type:"email",value:t.email,onChange:r=>i({...t,email:r.target.value}),placeholder:"info@example.com",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Ã‡alÄ±ÅŸma Saatleri"}),e.jsx("input",{type:"text",value:t.working_hours,onChange:r=>i({...t,working_hours:r.target.value}),placeholder:"Pzt-Cum: 09:00 - 18:00",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Harita"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Google Maps Embed URL"}),e.jsx("input",{type:"text",value:t.map_embed_url,onChange:r=>i({...t,map_embed_url:r.target.value}),placeholder:"https://www.google.com/maps/embed?pb=...",className:`w-full px-3 py-2 border rounded-lg ${t.map_embed_url&&!t.map_embed_url.includes("google.com/maps/embed")?"border-amber-400 bg-amber-50":"border-slate-200"}`}),t.map_embed_url&&!t.map_embed_url.includes("google.com/maps/embed")&&e.jsx("p",{className:"text-xs text-amber-600 mt-1 font-medium",children:"âš ï¸ URL doÄŸru formatta deÄŸil! KÄ±saltÄ±lmÄ±ÅŸ linkler (maps.app.goo.gl) Ã§alÄ±ÅŸmaz."}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[`Google Maps'te konumu aÃ§Ä±n â†’ "PaylaÅŸ" â†’ "HaritayÄ± yerleÅŸtir" â†’ iframe kodundaki `,e.jsx("code",{className:"bg-slate-100 px-1 rounded",children:'src="..."'})," deÄŸerini kopyalayÄ±n."]}),e.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-800 mb-2",children:"ğŸ“ Harita URL'si NasÄ±l AlÄ±nÄ±r?"}),e.jsxs("ol",{className:"text-xs text-blue-700 space-y-1 list-decimal list-inside",children:[e.jsx("li",{children:"Google Maps'te konumunuzu aÃ§Ä±n"}),e.jsxs("li",{children:[e.jsx("strong",{children:'"PaylaÅŸ"'})," butonuna tÄ±klayÄ±n"]}),e.jsxs("li",{children:[e.jsx("strong",{children:'"HaritayÄ± yerleÅŸtir"'})," (Embed a map) sekmesine geÃ§in"]}),e.jsxs("li",{children:[`"HTML'yi kopyala" yerine, `,e.jsx("code",{className:"bg-white/50 px-1 rounded",children:'src="..."'})," iÃ§indeki URL'yi kopyalayÄ±n"]}),e.jsxs("li",{children:["URL ÅŸÃ¶yle gÃ¶rÃ¼nmeli: ",e.jsx("code",{className:"bg-white/50 px-1 rounded text-[10px]",children:"https://www.google.com/maps/embed?pb=!1m18..."})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Form AyarlarÄ±"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t.form_enabled,onChange:r=>i({...t,form_enabled:r.target.checked}),className:"w-4 h-4 text-rose-500 rounded"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Ä°letiÅŸim Formunu EtkinleÅŸtir"})]}),t.form_enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Bildirim E-postasÄ±"}),e.jsx("input",{type:"email",value:t.notification_email,onChange:r=>i({...t,notification_email:r.target.value}),placeholder:"admin@example.com",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Form gÃ¶nderimlerinin iletileceÄŸi e-posta adresi."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"BaÅŸarÄ± MesajÄ±"}),e.jsx("input",{type:"text",value:t.success_message,onChange:r=>i({...t,success_message:r.target.value}),placeholder:"MesajÄ±nÄ±z baÅŸarÄ±yla iletildi.",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Hata MesajÄ±"}),e.jsx("input",{type:"text",value:t.error_message,onChange:r=>i({...t,error_message:r.target.value}),placeholder:"Bir hata oluÅŸtu, lÃ¼tfen tekrar deneyin.",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]})]})]})]})]}),e.jsx("div",{className:"lg:sticky lg:top-6 h-fit",children:e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-200",children:e.jsx("h3",{className:"font-semibold text-slate-800",children:"Ã–nizleme"})}),e.jsxs("div",{className:"p-6 bg-slate-900 text-white min-h-[500px]",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:t.contact_title||"Ä°letiÅŸim BaÅŸlÄ±ÄŸÄ±"}),e.jsx("p",{className:"text-slate-400 text-sm mb-6",children:t.contact_subtitle||"Alt baÅŸlÄ±k buraya gelecek"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[(t.address_line1||t.city)&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(lt,{size:18,className:"text-rose-400 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{children:t.address_line1||"Adres"}),t.address_line2&&e.jsx("div",{children:t.address_line2}),e.jsxs("div",{children:[t.city,t.country&&`, ${t.country}`]})]})]}),t.phone&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Pe,{size:18,className:"text-rose-400"}),e.jsx("span",{className:"text-sm",children:t.phone})]}),t.email&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(re,{size:18,className:"text-rose-400"}),e.jsx("span",{className:"text-sm",children:t.email})]}),t.working_hours&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(me,{size:18,className:"text-rose-400"}),e.jsx("span",{className:"text-sm",children:t.working_hours})]})]}),t.form_enabled&&e.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-10 bg-white/20 rounded"}),e.jsx("div",{className:"h-10 bg-white/20 rounded"}),e.jsx("div",{className:"h-20 bg-white/20 rounded"}),e.jsx("button",{className:"w-full py-2 bg-rose-500 text-white rounded-lg text-sm",children:"GÃ¶nder"})]})}),t.map_embed_url&&e.jsx("div",{className:"mt-4 bg-slate-700 rounded-lg h-32 flex items-center justify-center text-slate-400 text-sm",children:"ğŸ—ºï¸ Harita Ã¶nizlemesi"})]})]})})]})]})},vs=({onBack:a})=>{const[c,t]=s.useState([]),[i,j]=s.useState(!0),[g,f]=s.useState({total:0,page:1,limit:24,pages:0}),[v,k]=s.useState(""),[y,A]=s.useState(""),[_,r]=s.useState([]),[n,l]=s.useState(null),[p,T]=s.useState(!1),[S,m]=s.useState(!1),[w,b]=s.useState(null),u="/api",N=u.endsWith("/index.php")?u:`${u}/index.php`,$=s.useCallback(async()=>{j(!0);try{const x=localStorage.getItem("admin_token"),P=new URLSearchParams({page:g.page.toString(),limit:g.limit.toString()});v&&P.append("search",v),y&&P.append("category",y);const I=await(await fetch(`${N}?action=get_media_list&${P}`,{headers:{Authorization:`Bearer ${x}`,...E()}})).json();I.success&&(t(I.data),f(I.pagination))}catch(x){console.error("Failed to fetch media:",x)}finally{j(!1)}},[u,g.page,v,y]),D=async()=>{try{const x=localStorage.getItem("admin_token"),z=await(await fetch(`${N}?action=get_media_categories`,{headers:{Authorization:`Bearer ${x}`,...E()}})).json();z.success&&r(z.data)}catch(x){console.error("Failed to fetch categories:",x)}};s.useEffect(()=>{$(),D()},[$]);const h=async x=>{if(!x||x.length===0)return;T(!0);const P=new FormData;Array.from(x).forEach(z=>{P.append("files[]",z)});try{const z=localStorage.getItem("admin_token"),K=await(await fetch(`${N}?action=upload_media`,{method:"POST",headers:{Authorization:`Bearer ${z}`,...E()},body:P})).json();K.success?($(),D()):alert(K.errors?.map(H=>H.error).join(`
`)||"Upload failed")}catch(z){console.error("Upload failed:",z)}finally{T(!1)}},o=async x=>{if(confirm("Bu gÃ¶rseli silmek istediÄŸinize emin misiniz?"))try{const P=localStorage.getItem("admin_token");(await(await fetch(`${N}?action=delete_media`,{method:"POST",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json",...E()},body:JSON.stringify({id:x})})).json()).success&&(t(K=>K.filter(H=>H.id!==x)),l(null))}catch(P){console.error("Delete failed:",P)}},L=async x=>{try{const P=localStorage.getItem("admin_token");(await(await fetch(`${N}?action=update_media`,{method:"POST",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json",...E()},body:JSON.stringify({id:x.id,title:x.title,alt_text:x.alt_text,category:x.category,tags:x.tags})})).json()).success&&(t(K=>K.map(H=>H.id===x.id?x:H)),D())}catch(P){console.error("Update failed:",P)}},B=x=>{navigator.clipboard.writeText(window.location.origin+x.url),b(x.id),setTimeout(()=>b(null),2e3)},d=x=>x<1024?x+" B":x<1024*1024?(x/1024).toFixed(1)+" KB":(x/(1024*1024)).toFixed(1)+" MB",C=x=>{x.preventDefault(),m(!1),h(x.dataTransfer.files)};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx("div",{className:"sticky top-0 z-30 bg-white border-b border-slate-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[a&&e.jsx("button",{onClick:a,className:"p-2 hover:bg-slate-100 rounded-lg",children:e.jsx(ne,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Medya KÃ¼tÃ¼phanesi"}),e.jsxs("p",{className:"text-sm text-slate-500",children:[g.total," gÃ¶rsel"]})]})]}),e.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 cursor-pointer transition-colors",children:[e.jsx(xt,{size:18}),"GÃ¶rsel YÃ¼kle",e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:x=>h(x.target.files)})]})]})}),e.jsx("div",{className:"px-6 py-4 bg-white border-b border-slate-200",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(le,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Ara (dosya adÄ±, baÅŸlÄ±k, etiket)...",value:v,onChange:x=>k(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),e.jsxs("select",{value:y,onChange:x=>A(x.target.value),className:"px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500",children:[e.jsx("option",{value:"",children:"TÃ¼m Kategoriler"}),_.map(x=>e.jsx("option",{value:x,children:x},x))]})]})}),e.jsx("div",{onDragOver:x=>{x.preventDefault(),m(!0)},onDragLeave:()=>m(!1),onDrop:C,className:`mx-6 mt-4 border-2 border-dashed rounded-xl p-8 text-center transition-colors ${S?"border-rose-500 bg-rose-50":"border-slate-200 bg-white"}`,children:p?e.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-500",children:[e.jsx(F,{className:"animate-spin",size:24}),"YÃ¼kleniyor..."]}):e.jsxs("div",{className:"text-slate-500",children:[e.jsx(Ee,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"GÃ¶rselleri buraya sÃ¼rÃ¼kleyip bÄ±rakÄ±n"}),e.jsx("p",{className:"text-xs mt-1",children:"veya yukarÄ±daki butonu kullanÄ±n"})]})}),e.jsxs("div",{className:"p-6",children:[i?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(F,{className:"animate-spin text-rose-500",size:32})}):c.length===0?e.jsxs("div",{className:"text-center py-20 text-slate-400",children:[e.jsx(ye,{size:48,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"HenÃ¼z gÃ¶rsel yok"})]}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:c.map(x=>e.jsxs("div",{onClick:()=>l(x),className:"group relative bg-white rounded-xl border border-slate-200 overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"aspect-square bg-slate-100 flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:x.url,alt:x.alt_text||x.filename_original,className:"w-full h-full object-cover",loading:"lazy"})}),e.jsxs("div",{className:"p-2",children:[e.jsx("p",{className:"text-xs font-medium text-slate-700 truncate",children:x.title||x.filename_original}),e.jsx("p",{className:"text-xs text-slate-400",children:d(x.size_bytes)})]}),e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("button",{onClick:P=>{P.stopPropagation(),B(x)},className:"p-1.5 bg-white/90 rounded-lg shadow hover:bg-white",children:w===x.id?e.jsx(he,{size:14,className:"text-green-500"}):e.jsx(De,{size:14})})})]},x.id))}),g.pages>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-8",children:Array.from({length:g.pages},(x,P)=>P+1).map(x=>e.jsx("button",{onClick:()=>f(P=>({...P,page:x})),className:`px-3 py-1 rounded-lg ${x===g.page?"bg-rose-500 text-white":"bg-white border border-slate-200 hover:bg-slate-50"}`,children:x},x))})]}),n&&e.jsx(Ns,{asset:n,onClose:()=>l(null),onUpdate:x=>{L(x),l(x)},onDelete:()=>o(n.id),onCopyUrl:()=>B(n),copiedUrl:w===n.id})]})},Ns=({asset:a,onClose:c,onUpdate:t,onDelete:i,onCopyUrl:j,copiedUrl:g})=>{const[f,v]=s.useState(a),[k,y]=s.useState(""),A=()=>{k.trim()&&!f.tags.includes(k.trim())&&(v({...f,tags:[...f.tags,k.trim()]}),y(""))},_=n=>{v({...f,tags:f.tags.filter(l=>l!==n)})},r=n=>n<1024?n+" B":n<1024*1024?(n/1024).toFixed(1)+" KB":(n/(1024*1024)).toFixed(1)+" MB";return e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:c,children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex",onClick:n=>n.stopPropagation(),children:[e.jsx("div",{className:"w-1/2 bg-slate-900 flex items-center justify-center p-4",children:e.jsx("img",{src:a.url,alt:a.alt_text,className:"max-w-full max-h-[70vh] object-contain"})}),e.jsxs("div",{className:"w-1/2 p-6 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"font-bold text-lg text-slate-900",children:"GÃ¶rsel DetaylarÄ±"}),e.jsx("button",{onClick:c,className:"p-1 hover:bg-slate-100 rounded-lg",children:e.jsx(ie,{size:20})})]}),e.jsxs("div",{className:"space-y-3 text-sm mb-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"Dosya adÄ±:"}),e.jsx("span",{className:"font-medium text-slate-700 truncate ml-2",children:a.filename_original})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"Boyut:"}),e.jsx("span",{className:"font-medium text-slate-700",children:r(a.size_bytes)})]}),a.width&&a.height&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"Boyutlar:"}),e.jsxs("span",{className:"font-medium text-slate-700",children:[a.width," Ã— ",a.height]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"TÃ¼r:"}),e.jsx("span",{className:"font-medium text-slate-700",children:a.mime_type})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:window.location.origin+a.url,readOnly:!0,className:"flex-1 px-3 py-2 text-sm bg-slate-50 border border-slate-200 rounded-lg"}),e.jsx("button",{onClick:j,className:"px-3 py-2 bg-slate-100 hover:bg-slate-200 rounded-lg",children:g?e.jsx(he,{size:18,className:"text-green-500"}):e.jsx(De,{size:18})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"BaÅŸlÄ±k"}),e.jsx("input",{type:"text",value:f.title,onChange:n=>v({...f,title:n.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Alt Metin"}),e.jsx("input",{type:"text",value:f.alt_text,onChange:n=>v({...f,alt_text:n.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Kategori"}),e.jsx("input",{type:"text",value:f.category,onChange:n=>v({...f,category:n.target.value}),placeholder:"hero, blog, logo...",className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Etiketler"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:f.tags.map(n=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-100 rounded-lg text-sm",children:[n,e.jsx("button",{onClick:()=>_(n),className:"hover:text-red-500",children:e.jsx(ie,{size:14})})]},n))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:k,onChange:n=>y(n.target.value),onKeyDown:n=>n.key==="Enter"&&(n.preventDefault(),A()),placeholder:"Etiket ekle...",className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg text-sm"}),e.jsx("button",{onClick:A,className:"px-3 py-2 bg-slate-100 hover:bg-slate-200 rounded-lg text-sm",children:"Ekle"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-slate-200",children:[e.jsx("button",{onClick:()=>t(f),className:"flex-1 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600",children:"Kaydet"}),e.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200",children:e.jsx(V,{size:18})})]})]})]})})},_s=({token:a})=>{const{currentTenant:c}=Ne(),[t,i]=s.useState([]),[j,g]=s.useState(!0),[f,v]=s.useState("all"),k="/api",y=async()=>{try{g(!0);const l=c?.code==="trombofili"?"get_trombofili_bookings":"get_bookings",T=await(await fetch(`${k}/index.php?action=${l}`,{headers:{Authorization:`Bearer ${a}`,...E()}})).json();T.success&&i(T.data)}catch(l){console.error("Failed to fetch bookings",l)}finally{g(!1)}};s.useEffect(()=>{y()},[]);const A=async(l,p)=>{if(confirm("StatÃ¼ gÃ¼ncellensin mi?"))try{const S=await(await fetch(`${k}/index.php?action=update_booking_status`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({id:l,status:p})})).json();S.success?y():alert("Hata: "+S.error)}catch{alert("Ä°ÅŸlem baÅŸarÄ±sÄ±z")}},_=f==="all"?t:t.filter(l=>l.status===f),r=l=>{switch(l){case"confirmed":return"bg-blue-100 text-blue-800";case"sample_collected":return"bg-purple-100 text-purple-800";case"in_lab":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-slate-100 text-slate-800"}},n=l=>({pending:"Bekliyor",confirmed:"OnaylandÄ±",sample_collected:"Numune AlÄ±ndÄ±",in_lab:"Labda Ä°ÅŸleniyor",completed:"SonuÃ§landÄ±",cancelled:"Ä°ptal"})[l]||l;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg",children:e.jsx(fe,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Yeni Randevu"}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.filter(l=>l.status==="pending").length})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-yellow-50 text-yellow-600 rounded-lg",children:e.jsx(me,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Ä°ÅŸlemde (Lab)"}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.filter(l=>l.status==="in_lab").length})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-green-50 text-green-600 rounded-lg",children:e.jsx(W,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"SonuÃ§lanan"}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.filter(l=>l.status==="completed").length})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-lg",children:e.jsx(je,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Evde AlÄ±m"}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.filter(l=>l.sample_collection_method==="home_care").length})]})]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto w-full md:w-auto",children:["all","pending","confirmed","sample_collected","in_lab","completed","cancelled"].map(l=>e.jsx("button",{onClick:()=>v(l),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${f===l?"bg-rose-600 text-white shadow-md shadow-rose-200":"bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:l==="all"?"TÃ¼mÃ¼":n(l)},l))}),e.jsx("div",{className:"w-full md:w-auto min-w-[300px]",children:e.jsx("input",{type:"text",placeholder:"Hasta adÄ±, telefon veya kod ara...",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500"})})]}),j?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"YÃ¼kleniyor..."}):e.jsxs("div",{className:"grid gap-4",children:[_.map(l=>e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-full ${l.sample_collection_method==="home_care"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:l.sample_collection_method==="home_care"?e.jsx(Mt,{size:24}):e.jsx(je,{size:24})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:l.patient_name}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase tracking-wider border ${l.tenant_name?.toLowerCase().includes("momguard")?"bg-emerald-50 text-emerald-700 border-emerald-200":l.tenant_name?.toLowerCase().includes("verifi")?"bg-blue-50 text-blue-700 border-blue-200":l.tenant_name?.toLowerCase().includes("veritas")?"bg-amber-50 text-amber-700 border-amber-200":"bg-gray-100 text-gray-600 border-gray-200"}`,children:l.tenant_name||"NIPT"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-500 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Pe,{size:14})," ",l.patient_phone]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(re,{size:14})," ",l.patient_email]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${r(l.status)}`,children:n(l.status)}),e.jsxs("select",{className:"text-sm border-slate-200 rounded-lg p-1.5 bg-slate-50",value:l.status,onChange:p=>A(l.id,p.target.value),children:[e.jsx("option",{value:"pending",children:"Bekliyor"}),e.jsx("option",{value:"confirmed",children:"Onayla"}),e.jsx("option",{value:"sample_collected",children:"Numune AlÄ±ndÄ±"}),e.jsx("option",{value:"in_lab",children:"Lab'a GÃ¶nder"}),e.jsx("option",{value:"completed",children:"Tamamla"}),e.jsx("option",{value:"cancelled",children:"Ä°ptal Et"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 p-4 bg-slate-50 rounded-lg text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"font-medium",children:"Randevu Tarihi:"}),e.jsxs("span",{children:[l.booking_date," / ",l.booking_time]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"font-medium",children:"Adres:"}),e.jsx("span",{className:"truncate max-w-[300px]",title:l.sample_collection_address,children:l.sample_collection_address})]})]}),e.jsxs("div",{className:"space-y-2",children:[l.referral_code&&e.jsxs("div",{className:"flex items-center gap-2 text-indigo-600",children:[e.jsx(dt,{size:16}),e.jsx("span",{className:"font-medium",children:"Referans:"}),e.jsx("b",{children:l.referral_code})," (",l.referrer_name,")",e.jsx("span",{className:"text-xs bg-indigo-100 px-1.5 py-0.5 rounded ml-1",children:"Ä°ndirimli"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(ge,{size:16}),e.jsx("span",{className:"font-medium",children:"Notlar:"}),l.notes||"-"]})]})]})]},l.id)),_.length===0&&e.jsx("div",{className:"text-center py-12 bg-white rounded-xl border border-slate-200 border-dashed",children:e.jsx("p",{className:"text-slate-500",children:"Bu filtrede randevu bulunamadÄ±."})})]})]})},ws=["Adana","Ankara","Antalya","Bursa","DiyarbakÄ±r","Erzurum","EskiÅŸehir","Gaziantep","Ä°stanbul","Ä°zmir","Kayseri","Kocaeli","Konya","Malatya","Mersin","Samsun","ÅanlÄ±urfa","TekirdaÄŸ","Trabzon","Van","DiÄŸer"],ks=({token:a})=>{const[c,t]=s.useState([]),[i,j]=s.useState(!0),[g,f]=s.useState(""),[v,k]=s.useState(!1),[y,A]=s.useState(!1),[_,r]=s.useState(null),[n,l]=s.useState({name:"",email:"",phone:"",city:"",clinic:"",notes:""}),[p,T]=s.useState([]),[S,m]=s.useState(!1),w=xe(),b=ae(),u="/api",N=u.endsWith("/index.php")?u:`${u}/index.php`,$=async()=>{j(!0);try{const I=await(await fetch(`${N}?action=admin_list_doctors`,{headers:{Authorization:`Bearer ${a}`,...E()}})).json();I.success&&t(I.data)}catch{b.error("Doktorlar yÃ¼klenirken hata oluÅŸtu")}finally{j(!1)}};s.useEffect(()=>{$()},[]);const D=c.filter(z=>z.name.toLowerCase().includes(g.toLowerCase())||z.email.toLowerCase().includes(g.toLowerCase())||z.city.toLowerCase().includes(g.toLowerCase())||z.clinic&&z.clinic.toLowerCase().includes(g.toLowerCase())),h=()=>{r(null),l({name:"",email:"",phone:"",city:"",clinic:"",notes:""}),k(!0)},o=z=>{r(z),l({name:z.name,email:z.email,phone:z.phone,city:z.city,clinic:z.clinic||"",notes:z.notes||""}),k(!0)},L=async z=>{z.preventDefault(),m(!0);try{const I=_?`${N}?action=admin_update_doctor`:`${N}?action=admin_create_doctor`,K=_?"PUT":"POST",H=_?{...n,id:_.id}:n,M=await(await fetch(I,{method:K,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify(H)})).json();M.success?(b.success(_?"Doktor gÃ¼ncellendi":"Doktor eklendi"),k(!1),$()):b.error(M.error||"Ä°ÅŸlem baÅŸarÄ±sÄ±z")}catch{b.error("BaÄŸlantÄ± hatasÄ±")}finally{m(!1)}},B=async z=>{if(await w({title:"Doktoru Sil",message:`"${z.name}" isimli doktoru silmek istediÄŸinize emin misiniz?`,confirmLabel:"Sil",cancelLabel:"Ä°ptal",type:"danger"}))try{const H=await(await fetch(`${N}?action=admin_delete_doctor&id=${z.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`,...E()}})).json();H.success?(b.success("Doktor silindi"),$()):b.error(H.error||"Silme iÅŸlemi baÅŸarÄ±sÄ±z")}catch{b.error("BaÄŸlantÄ± hatasÄ±")}},d=z=>{const I=z.target.files?.[0];if(!I)return;const K=new FileReader;K.onload=H=>{const M=(H.target?.result).split(`
`).filter(q=>q.trim()),U=M[0].split(",").map(q=>q.trim().toLowerCase()),J=M.slice(1).map(q=>{const ue=q.split(",").map(O=>O.trim().replace(/^"|"$/g,"")),oe={};return U.forEach((O,Y)=>{oe[O]=ue[Y]||""}),oe});T(J)},K.readAsText(I)},C=async()=>{if(p.length!==0){m(!0);try{const I=await(await fetch(`${N}?action=admin_import_doctors`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify({doctors:p})})).json();I.success?(b.success(`${I.imported} doktor iÃ§e aktarÄ±ldÄ±`),I.errors?.length>0&&b.warning(`${I.errors.length} satÄ±rda hata var`),A(!1),T([]),$()):b.error(I.error||"Ä°Ã§e aktarma baÅŸarÄ±sÄ±z")}catch{b.error("BaÄŸlantÄ± hatasÄ±")}finally{m(!1)}}},x=()=>{const z=["name","email","phone","city","clinic","notes"],I=c.filter(U=>U.is_active).map(U=>[U.name,U.email,U.phone,U.city,U.clinic||"",U.notes||""]),K=[z.join(","),...I.map(U=>U.map(J=>`"${J}"`).join(","))].join(`
`),H=new Blob([K],{type:"text/csv; charset=utf-8;"}),R=URL.createObjectURL(H),M=document.createElement("a");M.href=R,M.download=`omega_doctors_${new Date().toISOString().split("T")[0]}.csv`,M.click()},P=()=>{const z=`name,email,phone,city,clinic,notes
Dr. Ã–rnek,ornek@email.com,+905551234567,Ankara,Ã–rnek Klinik,NIPT uzmanÄ±`,I=new Blob([z],{type:"text/csv"}),K=URL.createObjectURL(I),H=document.createElement("a");H.href=K,H.download="doctors_template.csv",H.click()};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"ğŸ¥ Doktor YÃ¶netimi"}),e.jsx("p",{className:"text-slate-500 mt-1",children:"Hekimleri ekleyin, dÃ¼zenleyin ve yÃ¶netin"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[e.jsxs("div",{className:"flex-1 min-w-[250px] relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),e.jsx("input",{type:"text",placeholder:"AdÄ±, e-postasÄ± veya ÅŸehir ile ara...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 outline-none",value:g,onChange:z=>f(z.target.value)})]}),e.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2.5 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx(X,{size:18})," Yeni Doktor"]}),e.jsxs("button",{onClick:()=>A(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors",children:[e.jsx(xt,{size:18})," CSV Ä°Ã§e Aktar"]}),e.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors",children:[e.jsx(At,{size:18})," CSV DÄ±ÅŸa Aktar"]})]}),e.jsx("div",{className:"bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm",children:i?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(F,{className:"animate-spin text-rose-500",size:32})}):D.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("h3",{className:"text-lg font-medium text-slate-600",children:"HenÃ¼z doktor yok"}),e.jsx("p",{className:"text-slate-400 mt-1",children:"BaÅŸlamak iÃ§in ilk doktoru ekleyin"}),e.jsx("button",{onClick:h,className:"mt-4 px-4 py-2 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-medium",children:"+ Yeni Doktor Ekle"})]}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-rose-50/50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-slate-700",children:"AdÄ±"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-slate-700",children:"E-posta"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-slate-700",children:"Telefon"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-slate-700",children:"Åehir"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-slate-700",children:"Klinik"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-slate-700",children:"Durum"}),e.jsx("th",{className:"text-center px-4 py-3 text-sm font-semibold text-slate-700",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{children:D.map(z=>e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-rose-50/30 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-slate-900",children:z.name}),e.jsx("td",{className:"px-4 py-3 text-slate-600",children:z.email}),e.jsx("td",{className:"px-4 py-3 text-slate-600",children:z.phone}),e.jsx("td",{className:"px-4 py-3 text-slate-600",children:z.city}),e.jsx("td",{className:"px-4 py-3 text-slate-500",children:z.clinic||"-"}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium ${z.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[z.is_active?e.jsx(W,{size:12}):e.jsx(ft,{size:12}),z.is_active?"Aktif":"Pasif"]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>o(z),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(ve,{size:16})}),e.jsx("button",{onClick:()=>B(z),className:"p-2 text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",children:e.jsx(V,{size:16})})]})})]},z.id))})]})}),v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-slate-100",children:e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:_?"Doktoru DÃ¼zenle":"Yeni Doktor Ekle"})}),e.jsxs("form",{onSubmit:L,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"AdÄ± SoyadÄ± *"}),e.jsx("input",{type:"text",required:!0,value:n.name,onChange:z=>l({...n,name:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 outline-none",placeholder:"Dr. Aylin YÄ±lmaz"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"E-posta *"}),e.jsx("input",{type:"email",required:!0,value:n.email,onChange:z=>l({...n,email:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 outline-none",placeholder:"aylin@clinic.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Telefon *"}),e.jsx("input",{type:"tel",required:!0,value:n.phone,onChange:z=>l({...n,phone:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 outline-none",placeholder:"+90 555 123 4567"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Åehir *"}),e.jsxs("select",{required:!0,value:n.city,onChange:z=>l({...n,city:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 outline-none",children:[e.jsx("option",{value:"",children:"-- Åehir SeÃ§iniz --"}),ws.map(z=>e.jsx("option",{value:z,children:z},z))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Muayenehane/Hastane"}),e.jsx("input",{type:"text",value:n.clinic,onChange:z=>l({...n,clinic:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 outline-none",placeholder:"Ã–rnek Klinik"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notlar"}),e.jsx("textarea",{value:n.notes,onChange:z=>l({...n,notes:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 outline-none",rows:3,placeholder:"Ä°Ã§ kullanÄ±m notlarÄ±..."})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>k(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors",children:"Ä°ptal"}),e.jsx("button",{type:"submit",disabled:S,className:"flex-1 px-4 py-2.5 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:S?e.jsx(F,{className:"animate-spin mx-auto",size:20}):"Kaydet"})]})]})]})}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg",children:[e.jsx("div",{className:"p-6 border-b border-slate-100",children:e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"CSV'den Ä°Ã§e Aktar"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("p",{className:"text-sm text-slate-500",children:["Beklenen sÃ¼tunlar: ",e.jsx("code",{className:"bg-slate-100 px-1 rounded",children:"name, email, phone, city, clinic, notes"})]}),e.jsx("button",{onClick:P,className:"text-rose-600 font-medium text-sm hover:underline",children:"ğŸ“„ Ã–rnek CSV Ä°ndir"}),e.jsx("div",{children:e.jsx("input",{type:"file",accept:".csv",onChange:d,className:"w-full px-3 py-2 border border-slate-200 rounded-lg"})}),p.length>0&&e.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["âœ“ ",p.length," doktor iÃ§e aktarÄ±lmaya hazÄ±r"]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>{A(!1),T([])},className:"flex-1 px-4 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium",children:"Ä°ptal"}),e.jsx("button",{onClick:C,disabled:p.length===0||S,className:"flex-1 px-4 py-2.5 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-medium disabled:opacity-50",children:S?e.jsx(F,{className:"animate-spin mx-auto",size:20}):"Ä°Ã§e Aktar"})]})]})]})})]})},Ae={logo_light_url:null,logo_dark_url:null,favicon_url:null,primary_color:"#6366f1",secondary_color:"#8b5cf6",accent_color:"#10b981",background_color:"#ffffff",text_color_primary:"#1f2937",text_color_muted:"#6b7280",font_family_base:"Inter",font_family_heading:"Inter",border_radius:"0.5rem",instagram_url:null,facebook_url:null,linkedin_url:null,x_twitter_url:null,youtube_url:null,tiktok_url:null,whatsapp_url:null},Xe=["Inter","Roboto","Nunito","Open Sans","Poppins","Lato","Montserrat","Source Sans Pro","Raleway","Ubuntu"],Ss={clinical:{primary_color:"#1e3a5f",secondary_color:"#4a6fa5",accent_color:"#e63946",background_color:"#f8fafc",text_color_primary:"#1e293b",text_color_muted:"#64748b"},modern:{primary_color:"#6366f1",secondary_color:"#8b5cf6",accent_color:"#10b981",background_color:"#ffffff",text_color_primary:"#1f2937",text_color_muted:"#6b7280"},omega:{primary_color:"#1a365d",secondary_color:"#2d4a6f",accent_color:"#dc2626",background_color:"#f7f8fa",text_color_primary:"#0f172a",text_color_muted:"#64748b"}},Ze="/api",zs=()=>{const[a,c]=s.useState(Ae),[t,i]=s.useState(!0),[j,g]=s.useState(!1),[f,v]=s.useState(null);s.useEffect(()=>{y()},[]);const k=()=>{const n=localStorage.getItem("admin_session");return{Authorization:`Bearer ${n?JSON.parse(n).token:localStorage.getItem("admin_token")}`,"Content-Type":"application/json",...E()}},y=async()=>{try{const l=await(await fetch(`${Ze}/index.php?action=get_branding`,{headers:k()})).json();l?.success&&l.data&&c({...Ae,...l.data})}catch(n){console.error("Failed to load branding:",n)}finally{i(!1)}},A=async()=>{g(!0),v(null);try{const l=await(await fetch(`${Ze}/index.php?action=save_branding`,{method:"POST",headers:k(),body:JSON.stringify(a)})).json();l?.success?v({type:"success",text:"Branding ayarlarÄ± kaydedildi!"}):v({type:"error",text:l?.error||"Kaydetme baÅŸarÄ±sÄ±z"})}catch{v({type:"error",text:"BaÄŸlantÄ± hatasÄ±"})}finally{g(!1)}},_=n=>{c({...a,...Ss[n]})},r=(n,l)=>{c({...a,[n]:l})};return t?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):e.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Branding & Social"}),e.jsx("p",{className:"text-slate-500",children:"Logo, renkler, fontlar ve sosyal medya ayarlarÄ±"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>c(Ae),className:"px-4 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[e.jsx(ct,{size:16})," SÄ±fÄ±rla"]}),e.jsxs("button",{onClick:A,disabled:j,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2 disabled:opacity-50",children:[e.jsx(Z,{size:16})," ",j?"Kaydediliyor...":"Kaydet"]})]})]}),f&&e.jsx("div",{className:`mb-4 p-4 rounded-lg ${f.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:f.text}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(Ee,{size:20})," Logo & Favicon"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Logo (AÃ§Ä±k Arkaplan)"}),e.jsx("input",{type:"text",value:a.logo_light_url||"",onChange:n=>r("logo_light_url",n.target.value||null),placeholder:"/media/logo.png",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),a.logo_light_url&&e.jsx("img",{src:a.logo_light_url,alt:"Logo",className:"mt-2 h-10 object-contain"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Logo (Koyu Arkaplan)"}),e.jsx("input",{type:"text",value:a.logo_dark_url||"",onChange:n=>r("logo_dark_url",n.target.value||null),placeholder:"/media/logo-dark.png",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Favicon"}),e.jsx("input",{type:"text",value:a.favicon_url||"",onChange:n=>r("favicon_url",n.target.value||null),placeholder:"/media/favicon.ico",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(ot,{size:20})," Renkler"]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("button",{onClick:()=>_("clinical"),className:"px-3 py-1 text-sm bg-slate-100 rounded-full hover:bg-slate-200",children:"Klinik Preset"}),e.jsx("button",{onClick:()=>_("modern"),className:"px-3 py-1 text-sm bg-slate-100 rounded-full hover:bg-slate-200",children:"Modern Preset"}),e.jsx("button",{onClick:()=>_("omega"),className:"px-3 py-1 text-sm bg-slate-100 rounded-full hover:bg-slate-200",children:"Omega Genetik Preset"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{key:"primary_color",label:"Ana Renk"},{key:"secondary_color",label:"Ä°kincil Renk"},{key:"accent_color",label:"Vurgu Rengi"},{key:"background_color",label:"Arkaplan"},{key:"text_color_primary",label:"Metin (Ana)"},{key:"text_color_muted",label:"Metin (Soluk)"}].map(n=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:n.label}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:a[n.key],onChange:l=>r(n.key,l.target.value),className:"w-10 h-10 rounded border border-slate-300 cursor-pointer"}),e.jsx("input",{type:"text",value:a[n.key],onChange:l=>r(n.key,l.target.value),className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg text-sm"})]})]},n.key))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(It,{size:20})," Tipografi"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Ana Font"}),e.jsx("select",{value:a.font_family_base,onChange:n=>r("font_family_base",n.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:Xe.map(n=>e.jsx("option",{value:n,children:n},n))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"BaÅŸlÄ±k Fontu"}),e.jsx("select",{value:a.font_family_heading,onChange:n=>r("font_family_heading",n.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:Xe.map(n=>e.jsx("option",{value:n,children:n},n))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Border Radius"}),e.jsx("input",{type:"text",value:a.border_radius,onChange:n=>r("border_radius",n.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",placeholder:"0.5rem"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(Et,{size:20})," Sosyal Medya"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"instagram_url",label:"Instagram",icon:Fe},{key:"facebook_url",label:"Facebook",icon:Ye},{key:"linkedin_url",label:"LinkedIn",icon:Ke},{key:"x_twitter_url",label:"X (Twitter)",icon:Ue},{key:"youtube_url",label:"YouTube",icon:Rt},{key:"whatsapp_url",label:"WhatsApp",icon:kt}].map(n=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-2",children:[e.jsx(n.icon,{size:16})," ",n.label]}),e.jsx("input",{type:"url",value:a[n.key]||"",onChange:l=>r(n.key,l.target.value||null),placeholder:`https://${n.label.toLowerCase()}.com/...`,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]},n.key))})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"sticky top-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-slate-200",children:e.jsx("h3",{className:"font-semibold text-slate-900",children:"CanlÄ± Ã–nizleme"})}),e.jsx("div",{className:"p-4",style:{backgroundColor:a.primary_color},children:e.jsxs("div",{className:"flex items-center justify-between",children:[a.logo_light_url?e.jsx("img",{src:a.logo_light_url,alt:"Logo",className:"h-6 brightness-0 invert"}):e.jsx("div",{className:"text-white font-bold",style:{fontFamily:a.font_family_heading},children:"Logo"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-12 h-2 bg-white/30 rounded"}),e.jsx("div",{className:"w-12 h-2 bg-white/30 rounded"})]})]})}),e.jsxs("div",{className:"p-6",style:{backgroundColor:a.background_color},children:[e.jsx("h4",{className:"text-lg font-bold mb-2",style:{color:a.text_color_primary,fontFamily:a.font_family_heading},children:"Ã–rnek BaÅŸlÄ±k"}),e.jsx("p",{className:"text-sm mb-4",style:{color:a.text_color_muted,fontFamily:a.font_family_base},children:"Bu bir Ã¶rnek aÃ§Ä±klama metnidir."}),e.jsx("button",{className:"px-4 py-2 text-white text-sm font-medium",style:{backgroundColor:a.accent_color,borderRadius:a.border_radius},children:"Buton"})]}),e.jsx("div",{className:"p-4",style:{backgroundColor:a.primary_color},children:e.jsxs("div",{className:"flex justify-center gap-3",children:[a.instagram_url&&e.jsx(Fe,{size:16,className:"text-white/80"}),a.facebook_url&&e.jsx(Ye,{size:16,className:"text-white/80"}),a.linkedin_url&&e.jsx(Ke,{size:16,className:"text-white/80"}),a.x_twitter_url&&e.jsx(Ue,{size:16,className:"text-white/80"}),!a.instagram_url&&!a.facebook_url&&!a.linkedin_url&&!a.x_twitter_url&&e.jsx("span",{className:"text-white/50 text-xs",children:"Sosyal linkler ekleyin"})]})})]})})})]})]})},Qe={draft:{label:"Taslak",color:"bg-slate-100 text-slate-600"},scheduled:{label:"PlanlandÄ±",color:"bg-blue-100 text-blue-700"},published:{label:"YayÄ±nda",color:"bg-green-100 text-green-700"},archived:{label:"ArÅŸiv",color:"bg-orange-100 text-orange-700"}},Cs={tr:"TR",en:"EN",zh:"ZH"},As=({token:a,onEdit:c,onCreate:t})=>{const[i,j]=s.useState([]),[g,f]=s.useState(!0),[v,k]=s.useState("all"),[y,A]=s.useState("all"),[_,r]=s.useState(""),[n,l]=s.useState(1),[p,T]=s.useState(1),[S,m]=s.useState(0),w=ae(),b=xe(),u="/api",N=u.endsWith("/index.php")?u:`${u}/index.php`,$=async()=>{f(!0);try{const o=new URLSearchParams({action:"get_podcasts",page:String(n),pageSize:"20"});v!=="all"&&o.append("status",v),y!=="all"&&o.append("language",y),_&&o.append("search",_);const B=await(await fetch(`${N}?${o.toString()}`,{headers:{Authorization:`Bearer ${a}`,...E()}})).json();B.success?(j(B.data||[]),T(B.pagination?.pages||1),m(B.pagination?.total||0)):w.error(B.error||"Podcast listesi alÄ±namadÄ±")}catch(o){console.error("Fetch error:",o),w.error("Veri yÃ¼klenemedi: "+(o.message||"BaÄŸlantÄ± hatasÄ±"))}finally{f(!1)}};s.useEffect(()=>{const o=setTimeout(()=>{$()},300);return()=>clearTimeout(o)},[v,y,_,n]);const D=async o=>{if(await b({title:"Podcast Sil",message:"Bu podcast bÃ¶lÃ¼mÃ¼nÃ¼ silmek istediÄŸinize emin misiniz?",confirmLabel:"Sil",cancelLabel:"Ä°ptal",type:"danger"}))try{const d=await(await fetch(`${N}?action=delete_podcast`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify({id:o})})).json();d.success?(j(i.filter(C=>C.id!==o)),w.success("Podcast baÅŸarÄ±yla silindi")):w.error(d.error||"Silme hatasÄ±")}catch{w.error("BaÄŸlantÄ± hatasÄ±")}},h=o=>{if(!o)return"-";const L=Math.floor(o/60),B=o%60;return`${L}:${B.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 mb-1",children:[e.jsx(de,{className:"text-purple-600"})," Podcast BÃ¶lÃ¼mleri"]}),e.jsxs("p",{className:"text-slate-500 text-sm",children:["Podcast bÃ¶lÃ¼mlerini buradan yÃ¶netin. (",S," bÃ¶lÃ¼m)"]})]}),e.jsxs("button",{type:"button",onClick:t,className:"bg-slate-900 text-white px-4 py-2 rounded-xl font-bold hover:bg-purple-600 transition-all flex items-center gap-2 shadow-lg shadow-purple-200",children:[e.jsx(X,{size:18})," Yeni BÃ¶lÃ¼m"]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"BaÅŸlÄ±k veya aÃ§Ä±klamada ara...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg outline-none focus:border-purple-500",value:_,onChange:o=>r(o.target.value)})]}),e.jsxs("select",{className:"p-2 border border-slate-200 rounded-lg outline-none focus:border-purple-500 bg-white",value:v,onChange:o=>k(o.target.value),children:[e.jsx("option",{value:"all",children:"TÃ¼m Durumlar"}),e.jsx("option",{value:"draft",children:"Taslak"}),e.jsx("option",{value:"scheduled",children:"PlanlandÄ±"}),e.jsx("option",{value:"published",children:"YayÄ±nda"}),e.jsx("option",{value:"archived",children:"ArÅŸiv"})]}),e.jsxs("select",{className:"p-2 border border-slate-200 rounded-lg outline-none focus:border-purple-500 bg-white",value:y,onChange:o=>A(o.target.value),children:[e.jsx("option",{value:"all",children:"TÃ¼m Diller"}),e.jsx("option",{value:"tr",children:"TÃ¼rkÃ§e"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"zh",children:"ä¸­æ–‡"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-white text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Durum"}),e.jsx("th",{className:"p-4",children:"BaÅŸlÄ±k"}),e.jsx("th",{className:"p-4",children:"YayÄ±n Tarihi"}),e.jsx("th",{className:"p-4",children:"SÃ¼re"}),e.jsx("th",{className:"p-4",children:"Dil"}),e.jsx("th",{className:"p-4",children:"Etiketler"}),e.jsx("th",{className:"p-4 text-right",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:g?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"p-8 text-center text-slate-400",children:e.jsx(F,{className:"animate-spin mx-auto"})})}):i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"p-8 text-center text-slate-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(de,{size:48,className:"text-slate-300"}),e.jsx("p",{children:"Bu sitede henÃ¼z podcast bÃ¶lÃ¼mÃ¼ yok."}),e.jsx("button",{onClick:t,className:"text-purple-600 hover:underline font-medium",children:"Ä°lk bÃ¶lÃ¼mÃ¼ oluÅŸturmak iÃ§in tÄ±klayÄ±n"})]})})}):i.map(o=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${Qe[o.status]?.color||"bg-slate-100 text-slate-600"}`,children:Qe[o.status]?.label||o.status})}),e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-bold text-slate-900 line-clamp-1",children:o.title||"(baÅŸlÄ±ksÄ±z)"}),e.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["/",o.slug]})]}),e.jsx("td",{className:"p-4 text-sm text-slate-500",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(me,{size:14}),o.publish_date?new Date(o.publish_date).toLocaleDateString("tr-TR"):"-"]})}),e.jsx("td",{className:"p-4 text-sm text-slate-600 font-mono",children:h(o.duration_seconds)}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"px-2 py-1 bg-slate-100 rounded text-xs font-medium",children:Cs[o.language]||o.language})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[(o.tags||[]).slice(0,3).map((L,B)=>e.jsx("span",{className:"px-2 py-0.5 bg-purple-50 text-purple-600 rounded text-xs",children:L},B)),(o.tags||[]).length>3&&e.jsxs("span",{className:"text-xs text-slate-400",children:["+",o.tags.length-3]})]})}),e.jsxs("td",{className:"p-4 text-right space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>c(o),className:"p-2 bg-white border border-slate-200 rounded-lg hover:border-purple-500 hover:text-purple-600 transition-all shadow-sm",children:e.jsx(ze,{size:16})}),e.jsx("button",{type:"button",onClick:()=>D(o.id),className:"p-2 bg-white border border-slate-200 rounded-lg hover:border-red-500 hover:text-red-600 transition-all shadow-sm",children:e.jsx(V,{size:16})})]})]},o.id))})]})}),p>1&&e.jsxs("div",{className:"p-4 border-t border-slate-100 flex justify-center gap-2",children:[e.jsx("button",{type:"button",disabled:n===1,onClick:()=>l(o=>o-1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:e.jsx(ke,{size:16})}),e.jsxs("span",{className:"px-4 py-2 text-sm text-slate-600 font-medium",children:[n," / ",p]}),e.jsx("button",{type:"button",disabled:n===p,onClick:()=>l(o=>o+1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:e.jsx(Se,{size:16})})]})]})},Ts=[{value:"draft",label:"Taslak"},{value:"scheduled",label:"PlanlandÄ±"},{value:"published",label:"YayÄ±nda"},{value:"archived",label:"ArÅŸiv"}],Bs=[{value:"tr",label:"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e"},{value:"en",label:"ğŸ‡¬ğŸ‡§ English"},{value:"zh",label:"ğŸ‡¨ğŸ‡³ ä¸­æ–‡"}],$s=({token:a,podcast:c,onSave:t,onCancel:i})=>{const[j,g]=s.useState(!1),[f,v]=s.useState(!1),[k,y]=s.useState(!1),[A,_]=s.useState(!1),r=ae(),[n,l]=s.useState({title:"",slug:"",status:"draft",publish_date:"",language:"tr",short_description:"",full_description:"",audio_url:"",duration_seconds:0,cover_image_url:"",tags:[],external_links:{spotify:"",apple:"",youtube:"",other:""},extra_images:[],extra_videos:[]}),[p,T]=s.useState(""),S="/api",m=S.endsWith("/index.php")?S:`${S}/index.php`;s.useEffect(()=>{c?.id?(v(!0),fetch(`${m}?action=get_podcast&id=${c.id}`,{headers:{Authorization:`Bearer ${a}`,...E()}}).then(d=>d.json()).then(d=>{if(d.success&&d.data){const C=d.data;l({title:C.title||"",slug:C.slug||"",status:C.status||"draft",publish_date:C.publish_date?C.publish_date.slice(0,16):"",language:C.language||"tr",short_description:C.short_description||"",full_description:C.full_description||"",audio_url:C.audio_url||"",duration_seconds:C.duration_seconds||0,cover_image_url:C.cover_image_url||"",tags:C.tags||[],external_links:C.external_links||{spotify:"",apple:"",youtube:"",other:""},extra_images:C.extra_images||[],extra_videos:C.extra_videos||[]})}}).catch(d=>{console.error("Podcast detail fetch error:",d),r.error("Podcast detaylarÄ± yÃ¼klenemedi")}).finally(()=>v(!1))):c||l({title:"",slug:"",status:"draft",publish_date:"",language:"tr",short_description:"",full_description:"",audio_url:"",duration_seconds:0,cover_image_url:"",tags:[],external_links:{spotify:"",apple:"",youtube:"",other:""},extra_images:[],extra_videos:[]})},[c,a]);const w=d=>d.toLowerCase().replace(/ÄŸ/g,"g").replace(/Ã¼/g,"u").replace(/ÅŸ/g,"s").replace(/Ä±/g,"i").replace(/Ã¶/g,"o").replace(/Ã§/g,"c").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),b=(d,C)=>{l(x=>{const P={...x,[d]:C};return d==="title"&&!c&&(P.slug=w(C)),P})},u=(d,C)=>{l(x=>({...x,external_links:{...x.external_links,[d]:C}}))},N=()=>{const d=p.trim();d&&!n.tags.includes(d)&&(l(C=>({...C,tags:[...C.tags,d]})),T(""))},$=d=>{l(C=>({...C,tags:C.tags.filter(x=>x!==d)}))},D=()=>{l(d=>({...d,extra_videos:[...d.extra_videos,""]}))},h=(d,C)=>{l(x=>{const P=[...x.extra_videos];return P[d]=C,{...x,extra_videos:P}})},o=d=>{l(C=>({...C,extra_videos:C.extra_videos.filter((x,P)=>P!==d)}))},L=async d=>{if(d.preventDefault(),!n.title){r.error("BaÅŸlÄ±k zorunludur");return}g(!0);const C=c?"update_podcast":"create_podcast",x={...n,id:c?.id};try{const z=await(await fetch(`${m}?action=${C}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...E()},body:JSON.stringify(x)})).json();z.success?(r.success(c?"Podcast gÃ¼ncellendi":"Podcast oluÅŸturuldu"),t()):r.error("Hata: "+(z.error||"Kaydedilemedi"))}catch{r.error("BaÄŸlantÄ± hatasÄ±")}finally{g(!1)}},B=d=>{const C=Math.floor(d/60),x=d%60;return`${C}:${x.toString().padStart(2,"0")}`};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden relative",children:[f&&e.jsx("div",{className:"absolute inset-0 bg-white/80 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-3 text-purple-600",children:[e.jsx(F,{className:"w-8 h-8 animate-spin"}),e.jsx("span",{className:"font-medium",children:"Podcast yÃ¼kleniyor..."})]})}),e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[e.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-slate-500 hover:text-slate-900 font-medium transition-colors",children:[e.jsx(ne,{size:18})," Listeye DÃ¶n"]}),e.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(de,{className:"text-purple-600"}),c?"Podcast DÃ¼zenle":"Yeni Podcast BÃ¶lÃ¼mÃ¼"]}),e.jsx("div",{className:"w-24"})," "]}),e.jsx("form",{onSubmit:L,className:"p-8",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(ee,{size:18})," Genel Bilgiler"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["BaÅŸlÄ±k ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-purple-500 outline-none text-lg font-bold",value:n.title,onChange:d=>b("title",d.target.value),placeholder:"Podcast bÃ¶lÃ¼m baÅŸlÄ±ÄŸÄ±...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Slug (URL)"}),e.jsxs("div",{className:"flex items-center gap-1 text-slate-400 bg-white p-3 rounded-xl border border-slate-200",children:[e.jsx("span",{className:"text-xs",children:"/podcast/"}),e.jsx("input",{type:"text",className:"flex-1 bg-transparent outline-none text-slate-700 font-medium",value:n.slug,onChange:d=>b("slug",d.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Dil"}),e.jsx("select",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-purple-500 outline-none bg-white",value:n.language,onChange:d=>b("language",d.target.value),children:Bs.map(d=>e.jsx("option",{value:d.value,children:d.label},d.value))})]})]})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100",children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Ä°Ã§erik"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"KÄ±sa AÃ§Ä±klama"}),e.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-purple-500 outline-none h-24 resize-none",value:n.short_description,onChange:d=>b("short_description",d.target.value),placeholder:"Podcast kartlarÄ±nda gÃ¶rÃ¼necek kÄ±sa aÃ§Ä±klama..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"DetaylÄ± AÃ§Ä±klama / Show Notes"}),e.jsx("textarea",{className:"w-full p-4 border border-slate-200 rounded-xl focus:border-purple-500 outline-none h-64 font-mono text-sm",value:n.full_description,onChange:d=>b("full_description",d.target.value),placeholder:"BÃ¶lÃ¼m notlarÄ±, konular, linkler..."}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Markdown desteklenir"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-1",children:[e.jsx(dt,{size:14})," Etiketler"]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:n.tags.map(d=>e.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm flex items-center gap-1",children:[d,e.jsx("button",{type:"button",onClick:()=>$(d),className:"hover:text-red-500",children:"Ã—"})]},d))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:"flex-1 p-2 border border-slate-200 rounded-lg outline-none focus:border-purple-500",value:p,onChange:d=>T(d.target.value),onKeyPress:d=>d.key==="Enter"&&(d.preventDefault(),N()),placeholder:"Etiket ekle..."}),e.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200",children:"Ekle"})]})]})]})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(de,{size:18})," Medya"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Kapak GÃ¶rseli"}),n.cover_image_url?e.jsxs("div",{className:"relative w-48 h-48 rounded-xl overflow-hidden border border-slate-200",children:[e.jsx("img",{src:n.cover_image_url,alt:"Cover",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>b("cover_image_url",""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:e.jsx(V,{size:14})})]}):e.jsxs("button",{type:"button",onClick:()=>y(!0),className:"w-48 h-48 border-2 border-dashed border-slate-300 rounded-xl flex flex-col items-center justify-center text-slate-400 hover:border-purple-500 hover:text-purple-500 transition-colors",children:[e.jsx(ye,{size:32}),e.jsx("span",{className:"text-sm mt-2",children:"GÃ¶rsel SeÃ§"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ses DosyasÄ± URL (Cloudflare R2 / CDN)"}),e.jsx("input",{type:"url",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-purple-500 outline-none",value:n.audio_url,onChange:d=>b("audio_url",d.target.value),placeholder:"https://cdn.example.com/podcast-bolum-1.mp3"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-1",children:[e.jsx(me,{size:14})," SÃ¼re (saniye)"]}),e.jsx("input",{type:"number",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-purple-500 outline-none",value:n.duration_seconds,onChange:d=>b("duration_seconds",parseInt(d.target.value)||0),placeholder:"3600"}),n.duration_seconds>0&&e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["â‰ˆ ",B(n.duration_seconds)]})]})})]})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx($t,{size:18})," Harici Linkler"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Spotify"}),e.jsx("input",{type:"url",className:"w-full p-2 border border-slate-200 rounded-lg outline-none focus:border-green-500",value:n.external_links.spotify,onChange:d=>u("spotify",d.target.value),placeholder:"https://open.spotify.com/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Apple Podcasts"}),e.jsx("input",{type:"url",className:"w-full p-2 border border-slate-200 rounded-lg outline-none focus:border-purple-500",value:n.external_links.apple,onChange:d=>u("apple",d.target.value),placeholder:"https://podcasts.apple.com/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"YouTube"}),e.jsx("input",{type:"url",className:"w-full p-2 border border-slate-200 rounded-lg outline-none focus:border-red-500",value:n.external_links.youtube,onChange:d=>u("youtube",d.target.value),placeholder:"https://youtube.com/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"DiÄŸer"}),e.jsx("input",{type:"url",className:"w-full p-2 border border-slate-200 rounded-lg outline-none focus:border-slate-500",value:n.external_links.other,onChange:d=>u("other",d.target.value),placeholder:"https://..."})]})]})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100",children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Ek Materyaller"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ek GÃ¶rseller (Ä°nfografikler)"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[n.extra_images.map((d,C)=>e.jsxs("div",{className:"relative w-24 h-24 rounded-lg overflow-hidden border border-slate-200",children:[e.jsx("img",{src:d,alt:`Extra ${C}`,className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>l(x=>({...x,extra_images:x.extra_images.filter((P,z)=>z!==C)})),className:"absolute top-1 right-1 p-0.5 bg-red-500 text-white rounded-full hover:bg-red-600",children:e.jsx(V,{size:12})})]},C)),e.jsxs("button",{type:"button",onClick:()=>_(!0),className:"w-24 h-24 border-2 border-dashed border-slate-300 rounded-lg flex flex-col items-center justify-center text-slate-400 hover:border-purple-500 hover:text-purple-500",children:[e.jsx(X,{size:20}),e.jsx("span",{className:"text-xs",children:"Ekle"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ek Videolar"}),e.jsxs("div",{className:"space-y-2",children:[n.extra_videos.map((d,C)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"url",className:"flex-1 p-2 border border-slate-200 rounded-lg outline-none focus:border-purple-500",value:d,onChange:x=>h(C,x.target.value),placeholder:"https://youtube.com/..."}),e.jsx("button",{type:"button",onClick:()=>o(C),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:e.jsx(V,{size:18})})]},C)),e.jsxs("button",{type:"button",onClick:D,className:"flex items-center gap-2 px-4 py-2 text-sm text-purple-600 bg-purple-50 hover:bg-purple-100 rounded-lg",children:[e.jsx(X,{size:16})," Video Ekle"]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100",children:[e.jsx("h3",{className:"font-bold text-slate-900 border-b border-slate-200 pb-2 mb-4",children:"YayÄ±n AyarlarÄ±"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-1",children:[e.jsx(W,{size:14,className:"text-slate-400"})," Durum"]}),e.jsx("select",{className:"w-full p-3 border border-slate-200 rounded-xl focus:border-purple-500 outline-none bg-white",value:n.status,onChange:d=>b("status",d.target.value),children:Ts.map(d=>e.jsx("option",{value:d.value,children:d.label},d.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-1",children:[e.jsx(fe,{size:14,className:"text-slate-400"})," YayÄ±n Tarihi"]}),e.jsx("input",{type:"datetime-local",className:"w-full p-3 border border-slate-200 rounded-xl focus:border-purple-500 outline-none bg-white",value:n.publish_date,onChange:d=>b("publish_date",d.target.value)})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-indigo-700 p-6 rounded-xl text-white",children:[e.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[e.jsx(jt,{size:18})," Ã–nizleme"]}),e.jsxs("div",{className:"bg-white/10 rounded-lg overflow-hidden backdrop-blur-sm",children:[n.cover_image_url?e.jsx("img",{src:n.cover_image_url,alt:"Preview",className:"w-full h-32 object-cover"}):e.jsx("div",{className:"w-full h-32 bg-white/20 flex items-center justify-center",children:e.jsx(de,{size:32,className:"opacity-50"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-bold line-clamp-2",children:n.title||"Podcast BaÅŸlÄ±ÄŸÄ±"}),e.jsx("p",{className:"text-sm text-white/70 mt-1 line-clamp-2",children:n.short_description||"KÄ±sa aÃ§Ä±klama..."}),e.jsxs("div",{className:"flex items-center justify-between mt-3 text-xs text-white/60",children:[e.jsx("span",{children:n.publish_date?new Date(n.publish_date).toLocaleDateString("tr-TR"):"Tarih"}),e.jsx("span",{children:n.duration_seconds>0?B(n.duration_seconds):"0:00"})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:n.tags.slice(0,3).map(d=>e.jsx("span",{className:"px-2 py-0.5 bg-white/20 rounded text-xs",children:d},d))})]})]})]}),e.jsxs("button",{type:"submit",disabled:j,className:"w-full py-4 bg-gradient-to-r from-purple-500 to-indigo-500 text-white font-bold rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[j?e.jsx(F,{className:"animate-spin",size:20}):e.jsx(Z,{size:20}),j?"Kaydediliyor...":c?"GÃ¼ncelle":"Kaydet"]})]})]})})]}),e.jsx(we,{isOpen:k,onClose:()=>y(!1),onSelect:d=>{b("cover_image_url",d.url),y(!1)}}),e.jsx(we,{isOpen:A,onClose:()=>_(!1),onSelect:d=>{l(C=>({...C,extra_images:[...C.extra_images,d.url]})),_(!1)}})]})},Ls=({tenants:a,onSelect:c})=>{const{setAvailableTenants:t}=Ne();return s.useEffect(()=>{t(a)},[a,t]),s.useEffect(()=>{a.length===1&&c(a[0])},[a,c]),a.length===1?e.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"YÃ¼kleniyor..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-cyan-500 to-teal-500 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx(je,{className:"text-white",size:32})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Site SeÃ§in"}),e.jsx("p",{className:"text-slate-500",children:"YÃ¶netmek istediÄŸiniz siteyi seÃ§in"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:a.map(i=>e.jsx("button",{onClick:()=>c(i),className:"bg-white rounded-2xl p-6 text-left hover:shadow-xl transition-all hover:-translate-y-1 border-2 border-transparent hover:border-cyan-500 group",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1 group-hover:text-cyan-600 transition-colors",children:i.name}),e.jsx("p",{className:"text-slate-500 text-sm",children:i.primary_domain}),e.jsx("span",{className:"inline-block mt-3 px-3 py-1 rounded-full text-xs font-bold uppercase",style:{backgroundColor:i.primary_color?`${i.primary_color}20`:"#0891b220",color:i.primary_color||"#0891b2"},children:i.tenant_role})]}),e.jsx(tt,{className:"text-slate-300 group-hover:text-cyan-500 transition-colors",size:24})]})},i.id))})]})})},Ps=()=>{const{currentTenant:a,availableTenants:c,setCurrentTenant:t}=Ne(),[i,j]=s.useState(!1);return a?c.length<=1?e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white/5 rounded-lg text-white text-sm border border-white/10",children:[e.jsx(je,{size:16,className:"text-emerald-400"}),e.jsx("span",{className:"font-medium",children:a.name})]}):e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>j(!i),className:"flex items-center gap-2 px-3 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors text-white text-sm",children:[e.jsx(je,{size:16}),e.jsx("span",{className:"font-medium",children:a.name}),e.jsx(yt,{size:14,className:`transition-transform ${i?"rotate-180":""}`})]}),i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>j(!1)}),e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white rounded-xl shadow-xl border border-slate-200 z-50 overflow-hidden",children:[e.jsx("div",{className:"p-2 border-b border-slate-100",children:e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase px-2",children:"Site DeÄŸiÅŸtir"})}),e.jsx("div",{className:"py-1",children:c.map(g=>e.jsxs("button",{onClick:()=>{console.log("[TenantSwitcher] Switching to tenant:",g),t(g),j(!1),setTimeout(()=>{console.log("[TenantSwitcher] Navigating to /admin"),window.location.href="/admin"},100)},className:`w-full px-4 py-3 text-left flex items-center justify-between hover:bg-slate-50 transition-colors ${g.code===a.code?"bg-cyan-50":""}`,children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:g.name}),e.jsx("div",{className:"text-xs text-slate-500",children:g.primary_domain})]}),g.code===a.code&&e.jsx(he,{size:16,className:"text-cyan-600"})]},g.id))})]})]})]}):null},Es=()=>{const[a,c]=s.useState(()=>{const x=localStorage.getItem("admin_session");return x?JSON.parse(x):null}),[t,i]=s.useState(()=>localStorage.getItem("admin_active_tab")||"messages"),[j,g]=s.useState(()=>{const x=localStorage.getItem("admin_editing_post");return x?JSON.parse(x):null}),[f,v]=s.useState(null),[k,y]=s.useState(null),[A,_]=s.useState(null),[r,n]=s.useState(null),[l,p]=s.useState(null),[T,S]=s.useState(null),[m,w]=s.useState(!1),[b,u]=s.useState(null),{currentTenant:N,setCurrentTenant:$,setAvailableTenants:D,clearTenantContext:h}=Ne(),o=N?.tenant_role||"viewer";s.useEffect(()=>{a&&a.tenants&&a.tenants.length>0&&(D(a.tenants),N||(a.tenants.length===1?$(a.tenants[0]):u(a.tenants)))},[a]),s.useEffect(()=>{localStorage.setItem("admin_active_tab",t)},[t]),s.useEffect(()=>{j?localStorage.setItem("admin_editing_post",JSON.stringify(j)):localStorage.removeItem("admin_editing_post")},[j]),s.useEffect(()=>{const x=async()=>{if(a)try{const z="/api",I={Authorization:`Bearer ${a.token}`};N&&(I["X-Tenant-Code"]=N.code),(await fetch(`${z}/index.php?action=check_session`,{headers:I})).status===401&&L()}catch{}};x();const P=setInterval(x,6e4);return()=>clearInterval(P)},[a,N]);const L=()=>{localStorage.clear(),h(),c(null)},B=x=>{c(x),localStorage.setItem("admin_session",JSON.stringify(x)),x.tenants&&x.tenants.length>0&&(D(x.tenants),x.tenants.length===1?$(x.tenants[0]):u(x.tenants))},d=x=>{$(x),u(null)};if(!a)return e.jsx(Jt,{onLogin:B});if(b&&b.length>1&&!N)return e.jsx(Ls,{tenants:b,onSelect:d});const C=()=>{switch(t){case"messages":return e.jsx(We,{token:a.token});case"blog_list":return e.jsx(Wt,{token:a.token,onEdit:x=>{g(x),i("blog_edit")},onCreate:()=>{g(null),i("blog_edit")}});case"blog_edit":return e.jsx(ls,{token:a.token,post:j,onCancel:()=>i("blog_list"),onSave:()=>i("blog_list")});case"settings":return e.jsx(rs,{token:a.token,userName:a.user.name,userEmail:a.user.email});case"faq_list":return e.jsx(ns,{token:a.token,onEdit:x=>{v(x),i("faq_edit")},onCreate:()=>{v(null),i("faq_edit")}});case"faq_edit":return e.jsx(is,{token:a.token,faq:f,onCancel:()=>i("faq_list"),onSave:()=>i("faq_list")});case"user_list":return e.jsx(xs,{token:a.token,userRole:o,onEdit:x=>{y(x),i("user_edit")},onCreate:()=>{y(null),i("user_edit")}});case"user_edit":return e.jsx(ms,{token:a.token,user:k,onCancel:()=>i("user_list"),onSave:()=>i("user_list")});case"analytics_seo":return e.jsx(hs,{token:a.token});case"legal_list":return e.jsx(us,{token:a.token,onEdit:x=>{_(x),i("legal_edit")},onCreate:()=>{_(null),i("legal_edit")}});case"legal_edit":return e.jsx(ps,{token:a.token,doc:A,onCancel:()=>i("legal_list"),onSave:()=>i("legal_list")});case"landing_list":return e.jsx(bs,{onEdit:x=>{n(x),i("landing_edit")}});case"landing_edit":return e.jsx(gs,{editId:r,onBack:()=>i("landing_list")});case"contact_config_list":return e.jsx(fs,{onEdit:x=>{p(x),i("contact_config_edit")}});case"contact_config_edit":return e.jsx(ys,{editId:l,onBack:()=>i("contact_config_list")});case"media":return e.jsx(vs,{});case"nipt_bookings":return e.jsx(_s,{token:a.token});case"doctors":return e.jsx(ks,{token:a.token});case"branding":return e.jsx(zs,{});case"podcast_list":return e.jsx(As,{token:a.token,onEdit:x=>{S(x),i("podcast_edit")},onCreate:()=>{S(null),i("podcast_edit")}});case"podcast_edit":return e.jsx($s,{token:a.token,podcast:T,onCancel:()=>i("podcast_list"),onSave:()=>i("podcast_list")});default:return e.jsx(We,{token:a.token})}};return e.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[e.jsx("button",{onClick:()=>w(!m),className:"lg:hidden fixed bottom-6 right-6 z-50 bg-slate-900 text-white p-4 rounded-full shadow-2xl",children:m?e.jsx(ie,{size:24}):e.jsx(vt,{size:24})}),e.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-40 w-64 bg-slate-900 text-white transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0
        ${m?"translate-x-0":"-translate-x-full"}
      `,children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-rose-500 to-purple-600 flex items-center justify-center font-bold text-white",children:"T"}),e.jsxs("span",{className:"font-heading font-bold text-lg",children:["Turp ",e.jsx("span",{className:"text-slate-400",children:"Panel"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx(Ps,{})}),e.jsxs("nav",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>{i("messages"),w(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${t==="messages"?"bg-rose-600 text-white shadow-lg shadow-rose-900/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[e.jsx(re,{size:20}),e.jsx("span",{className:"font-medium",children:"Mesajlar"})]}),e.jsxs("button",{onClick:()=>{i("blog_list"),w(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${t.startsWith("blog")?"bg-rose-600 text-white shadow-lg shadow-rose-900/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[e.jsx(_e,{size:20}),e.jsx("span",{className:"font-medium",children:"Ä°Ã§erik / Blog"})]}),e.jsxs("button",{onClick:()=>{i("faq_list"),w(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${t.startsWith("faq")?"bg-rose-600 text-white shadow-lg shadow-rose-900/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[e.jsx(St,{size:20}),e.jsx("span",{className:"font-medium",children:"SSS"})]}),(o==="admin"||o==="editor")&&e.jsxs("button",{onClick:()=>{i("podcast_list"),w(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${t.startsWith("podcast")?"bg-rose-600 text-white shadow-lg shadow-rose-900/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[e.jsx(de,{size:20}),e.jsx("span",{className:"font-medium",children:"Podcastler"})]}),o==="admin"&&e.jsxs("button",{onClick:()=>{i("user_list"),w(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${t.startsWith("user")?"bg-rose-600 text-white shadow-lg shadow-rose-900/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[e.jsx(at,{size:20}),e.jsx("span",{className:"font-medium",children:"KullanÄ±cÄ±lar"})]}),o==="admin"&&e.jsxs("button",{onClick:()=>{i("analytics_seo"),w(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${t==="analytics_seo"?"bg-rose-600 text-white shadow-lg shadow-rose-900/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[e.jsx(nt,{size:20}),e.jsx("span",{className:"font-medium",children:"Analytics & SEO"})]}),(o==="admin"||o==="editor")&&e.jsxs("button",{onClick:()=>{i("legal_list"),w(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${t.startsWith("legal")?"bg-rose-600 text-white shadow-lg shadow-rose-900/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[e.jsx(_e,{size:20}),e.jsx("span",{className:"font-medium",children:"Hukuki DokÃ¼manlar"})]}),o==="admin"&&e.jsxs("button",{onClick:()=>{i("landing_list"),w(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${t.startsWith("landing")?"bg-rose-600 text-white shadow-lg shadow-rose-900/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[e.jsx(Pt,{size:20}),e.jsx("span",{className:"font-medium",children:"Landing Builder"})]}),o==="admin"&&e.jsxs("button",{onClick:()=>{i("contact_config_list"),w(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${t.startsWith("contact_config")?"bg-rose-600 text-white shadow-lg shadow-rose-900/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[e.jsx(Pe,{size:20}),e.jsx("span",{className:"font-medium",children:"Ä°letiÅŸim AyarlarÄ±"})]}),o==="admin"&&e.jsxs("button",{onClick:()=>{i("media"),w(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${t==="media"?"bg-rose-600 text-white shadow-lg shadow-rose-900/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[e.jsx(Ee,{size:20}),e.jsx("span",{className:"font-medium",children:"Medya"})]}),o==="admin"&&e.jsxs("button",{onClick:()=>{i("nipt_bookings"),w(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${t==="nipt_bookings"?"bg-rose-600 text-white shadow-lg shadow-rose-900/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[e.jsx(me,{size:20}),e.jsx("span",{className:"font-medium",children:"NIPT RandevularÄ±"})]}),o==="admin"&&e.jsxs("button",{onClick:()=>{i("doctors"),w(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${t==="doctors"?"bg-rose-600 text-white shadow-lg shadow-rose-900/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[e.jsx(Nt,{size:20}),e.jsx("span",{className:"font-medium",children:"Doktorlar"})]}),o==="admin"&&e.jsxs("button",{onClick:()=>{i("branding"),w(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${t==="branding"?"bg-rose-600 text-white shadow-lg shadow-rose-900/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[e.jsx(ot,{size:20}),e.jsx("span",{className:"font-medium",children:"Branding & Social"})]}),o==="admin"&&e.jsxs("button",{onClick:()=>{i("settings"),w(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${t==="settings"?"bg-rose-600 text-white shadow-lg shadow-rose-900/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[e.jsx(Te,{size:20}),e.jsx("span",{className:"font-medium",children:"Ayarlar"})]})]})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 border-t border-white/10 space-y-2",children:[e.jsxs("a",{href:"/",target:"_blank",className:"flex items-center gap-3 px-4 py-3 text-slate-400 hover:text-white transition-colors",children:[e.jsx(zt,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Siteyi GÃ¶rÃ¼ntÃ¼le"})]}),e.jsxs("button",{onClick:L,className:"w-full flex items-center gap-3 px-4 py-3 text-rose-400 hover:text-rose-300 transition-colors",children:[e.jsx(Lt,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"GÃ¼venli Ã‡Ä±kÄ±ÅŸ"})]})]})]}),e.jsxs("main",{className:"flex-1 p-6 lg:p-10 overflow-y-auto h-screen",children:[e.jsx("header",{className:"mb-8 flex justify-between items-center",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-slate-900",children:[t==="messages"&&"Mesaj YÃ¶netimi",t==="blog_list"&&"Ä°Ã§erik YÃ¶netimi",t==="blog_edit"&&"Ä°Ã§erik DÃ¼zenleyici",t==="faq_list"&&"SSS YÃ¶netimi",t==="faq_edit"&&"SSS DÃ¼zenleyici",t==="user_list"&&"KullanÄ±cÄ± YÃ¶netimi",t==="user_edit"&&"KullanÄ±cÄ± DÃ¼zenleyici",t==="analytics_seo"&&"Analytics & SEO",t==="legal_list"&&"Hukuki DokÃ¼manlar",t==="legal_edit"&&"DokÃ¼man DÃ¼zenleyici",t==="nipt_bookings"&&"NIPT Randevu YÃ¶netimi",t==="podcast_list"&&"Podcast YÃ¶netimi",t==="podcast_edit"&&"Podcast DÃ¼zenleyici",t==="settings"&&"Hesap AyarlarÄ±"]}),e.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:["HoÅŸgeldin, ",a.user.name]})]})}),C()]}),m&&e.jsx("div",{onClick:()=>w(!1),className:"fixed inset-0 z-30 bg-black/50 lg:hidden backdrop-blur-sm"})]})},Xs=()=>e.jsx(ht,{children:e.jsx(Es,{})});export{Xs as Admin};
