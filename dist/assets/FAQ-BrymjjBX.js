import{ah as C,j as e,ai as F,aj as _,ak as g,al as j}from"./vendor-radix-5f5J-VkS.js";import{ac as p,J as k,a9 as A,L as E,af as H,ag as $,ah as T,ai as R,ab as K}from"./index-21RUuat3.js";import{r as d}from"./vendor-react-CL8c0dpX.js";import{H as S}from"./Helmet-BlOM0qrZ.js";import{u as L}from"./vendor-i18n-CBQczT3A.js";import{H as O}from"./help-circle-VoWal5jI.js";import"./vendor-utils-BznqKjY6.js";import"./vendor-forms-DA0B5alq.js";import"./vendor-markdown-BCFZJOKS.js";const J=C,q=d.forwardRef(({className:a,...n},c)=>e.jsx(F,{ref:c,className:p("border-b",a),...n}));q.displayName="AccordionItem";const y=d.forwardRef(({className:a,children:n,...c},i)=>e.jsx(_,{className:"flex",children:e.jsxs(g,{ref:i,className:p("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...c,children:[n,e.jsx(k,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));y.displayName=g.displayName;const N=d.forwardRef(({className:a,children:n,...c},i)=>e.jsx(j,{ref:i,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...c,children:e.jsx("div",{className:p("pb-4 pt-0",a),children:n})}));N.displayName=j.displayName;const W=()=>{const{t:a,i18n:n}=L(),[c,i]=d.useState([]),[w,f]=d.useState(!0),h=()=>{const o=[{categoryKey:"faq.categories.randomization",questions:["q1","q2","q3"]},{categoryKey:"faq.categories.iwrs",questions:["q4","q5","q6"]},{categoryKey:"faq.categories.inventory",questions:["q7","q8","q9"]},{categoryKey:"faq.categories.security",questions:["q10","q11","q12"]}],s=[];return o.forEach(t=>{t.questions.forEach(r=>{s.push({question:a(`faq.questions.${r}.question`),answer:a(`faq.questions.${r}.answer`),category:a(t.categoryKey)})})}),s};d.useEffect(()=>{(async()=>{try{const s=n.language?.split("-")[0]||"en",r=await(await fetch(`/api/index.php?action=get_faqs_by_page&page=iwrs-faq&language=${s}`)).json();if(r.success&&r.data?.length>0){i(r.data),f(!1);return}const l=h();if(l.length>0){const b=l.map((u,v)=>({question:u.question,answer:u.answer,order:v}));await fetch("/api/index.php?action=bulk_import_faqs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page_slug:"iwrs-faq",items:b})});const x=await(await fetch(`/api/index.php?action=get_faqs_by_page&page=iwrs-faq&language=${s}`)).json();x.success&&x.data?.length>0?i(x.data):i(l)}}catch(s){console.error("FAQ fetch error:",s),i(h())}finally{f(!1)}})()},[n.language,a]);const m={};return c.forEach((o,s)=>{const t=o.category||"General";m[t]||(m[t]=[]),m[t].push({...o,id:o.id||s})}),e.jsxs(e.Fragment,{children:[e.jsxs(S,{children:[e.jsx("title",{children:a("faq.seo.title")}),e.jsx("meta",{name:"description",content:a("faq.seo.description")}),e.jsx("meta",{name:"keywords",content:a("faq.seo.keywords")})]}),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(A,{}),e.jsx("section",{className:"pt-32 pb-16 px-4",children:e.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-full mb-6",children:e.jsx(O,{className:"w-8 h-8 text-primary"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-foreground",children:a("faq.hero.title")}),e.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:a("faq.hero.subtitle")})]})}),e.jsx("section",{className:"py-16 px-4",children:e.jsx("div",{className:"container mx-auto max-w-4xl",children:w?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(E,{className:"w-8 h-8 animate-spin text-primary"})}):e.jsx("div",{className:"space-y-8",children:Object.entries(m).map(([o,s],t)=>e.jsxs(H,{children:[e.jsx($,{children:e.jsx(T,{className:"text-2xl",children:o})}),e.jsx(R,{children:e.jsx(J,{type:"single",collapsible:!0,className:"w-full",children:s.map((r,l)=>e.jsxs(q,{value:`item-${t}-${l}`,children:[e.jsx(y,{className:"text-left",children:r.question}),e.jsx(N,{className:"text-muted-foreground",children:r.answer})]},r.id||l))})})]},t))})})}),e.jsx("section",{className:"py-16 px-4 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto max-w-2xl text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-foreground",children:a("faq.cta.title")}),e.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:a("faq.cta.description")}),e.jsx("a",{href:"/#contact",children:e.jsx("button",{className:"px-8 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:a("faq.cta.button")})})]})}),e.jsx(K,{})]})]})};export{W as default};
