import{ah as C,j as e,ai as F,aj as k,ak as g,al as j}from"./vendor-radix-Do91ay3T.js";import{ak as p,Q as _,ah as A,V as E,L as $,an as H,ao as T,ap as R,aq as K,aj as S}from"./index-ClIqQmy1.js";import{r as d}from"./vendor-react-DgOfpg1f.js";import{H as L}from"./Helmet-BAUqQS4g.js";import{u as O}from"./vendor-i18n-DmRj_g1M.js";import"./vendor-utils-BznqKjY6.js";import"./vendor-forms-Bi3Tom9J.js";import"./vendor-markdown-CjP5FAny.js";const Q=C,q=d.forwardRef(({className:a,...n},c)=>e.jsx(F,{ref:c,className:p("border-b",a),...n}));q.displayName="AccordionItem";const y=d.forwardRef(({className:a,children:n,...c},o)=>e.jsx(k,{className:"flex",children:e.jsxs(g,{ref:o,className:p("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...c,children:[n,e.jsx(_,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));y.displayName=g.displayName;const N=d.forwardRef(({className:a,children:n,...c},o)=>e.jsx(j,{ref:o,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...c,children:e.jsx("div",{className:p("pb-4 pt-0",a),children:n})}));N.displayName=j.displayName;const U=()=>{const{t:a,i18n:n}=O(),[c,o]=d.useState([]),[w,f]=d.useState(!0),h=()=>{const i=[{categoryKey:"faq.categories.randomization",questions:["q1","q2","q3"]},{categoryKey:"faq.categories.iwrs",questions:["q4","q5","q6"]},{categoryKey:"faq.categories.inventory",questions:["q7","q8","q9"]},{categoryKey:"faq.categories.security",questions:["q10","q11","q12"]}],s=[];return i.forEach(t=>{t.questions.forEach(r=>{s.push({question:a(`faq.questions.${r}.question`),answer:a(`faq.questions.${r}.answer`),category:a(t.categoryKey)})})}),s};d.useEffect(()=>{(async()=>{try{const s=n.language?.split("-")[0]||"en",r=await(await fetch(`/api/index.php?action=get_faqs_by_page&page=iwrs-faq&language=${s}`)).json();if(r.success&&r.data?.length>0){o(r.data),f(!1);return}const l=h();if(l.length>0){const b=l.map((u,v)=>({question:u.question,answer:u.answer,order:v}));await fetch("/api/index.php?action=bulk_import_faqs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page_slug:"iwrs-faq",items:b})});const x=await(await fetch(`/api/index.php?action=get_faqs_by_page&page=iwrs-faq&language=${s}`)).json();x.success&&x.data?.length>0?o(x.data):o(l)}}catch(s){console.error("FAQ fetch error:",s),o(h())}finally{f(!1)}})()},[n.language,a]);const m={};return c.forEach((i,s)=>{const t=i.category||"General";m[t]||(m[t]=[]),m[t].push({...i,id:i.id||s})}),e.jsxs(e.Fragment,{children:[e.jsxs(L,{children:[e.jsx("title",{children:a("faq.seo.title")}),e.jsx("meta",{name:"description",content:a("faq.seo.description")}),e.jsx("meta",{name:"keywords",content:a("faq.seo.keywords")})]}),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(A,{}),e.jsx("section",{className:"pt-32 pb-16 px-4",children:e.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-full mb-6",children:e.jsx(E,{className:"w-8 h-8 text-primary"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-foreground",children:a("faq.hero.title")}),e.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:a("faq.hero.subtitle")})]})}),e.jsx("section",{className:"py-16 px-4",children:e.jsx("div",{className:"container mx-auto max-w-4xl",children:w?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx($,{className:"w-8 h-8 animate-spin text-primary"})}):e.jsx("div",{className:"space-y-8",children:Object.entries(m).map(([i,s],t)=>e.jsxs(H,{children:[e.jsx(T,{children:e.jsx(R,{className:"text-2xl",children:i})}),e.jsx(K,{children:e.jsx(Q,{type:"single",collapsible:!0,className:"w-full",children:s.map((r,l)=>e.jsxs(q,{value:`item-${t}-${l}`,children:[e.jsx(y,{className:"text-left",children:r.question}),e.jsx(N,{className:"text-muted-foreground",children:r.answer})]},r.id||l))})})]},t))})})}),e.jsx("section",{className:"py-16 px-4 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto max-w-2xl text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-foreground",children:a("faq.cta.title")}),e.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:a("faq.cta.description")}),e.jsx("a",{href:"/#contact",children:e.jsx("button",{className:"px-8 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:a("faq.cta.button")})})]})}),e.jsx(S,{})]})]})};export{U as default};
