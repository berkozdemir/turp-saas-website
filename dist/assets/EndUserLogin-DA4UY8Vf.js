import{j as e}from"./vendor-radix-Do91ay3T.js";import{r as s}from"./vendor-react-DgOfpg1f.js";import{a9 as E,aa as G,r as z,e as C,h as B,i as L,b as _}from"./index-LLMb_-Ek.js";import{E as R}from"./eye-BBO04RQP.js";import"./vendor-i18n-DmRj_g1M.js";import"./vendor-utils-BznqKjY6.js";import"./vendor-forms-Bi3Tom9J.js";import"./vendor-markdown-CjP5FAny.js";const O=({setView:o})=>{const{login:p}=E(),{settings:l,loading:f}=G(),[r,g]=s.useState(""),[u,w]=s.useState(""),[n,v]=s.useState(!1),[d,m]=s.useState(!1),[x,h]=s.useState(""),[j,b]=s.useState(!1),[N,y]=s.useState(""),t=window.location.hostname.includes("nipt.tr")||window.location.hostname.includes("omega")||l?.tenant_id==="nipt"?{bgGradient:"from-slate-50 via-white to-blue-50",cardBorder:"border-slate-200",cardShadow:"shadow-slate-200/50",iconBg:"bg-gradient-to-br from-[#1a365d] to-[#2c5282]",iconShadow:"shadow-blue-900/30",inputFocus:"focus:border-blue-500 focus:ring-blue-200",buttonGradient:"from-[#1a365d] to-[#2b6cb0] hover:from-[#2c5282] hover:to-[#3182ce]",buttonShadow:"shadow-blue-900/30",linkText:"text-blue-600 hover:text-blue-700"}:{bgGradient:"from-violet-50 via-white to-purple-50",cardBorder:"border-violet-100",cardShadow:"shadow-violet-200/50",iconBg:"bg-gradient-to-br from-violet-500 to-purple-600",iconShadow:"shadow-violet-300",inputFocus:"focus:border-violet-500 focus:ring-violet-200",buttonGradient:"from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700",buttonShadow:"shadow-violet-300/50",linkText:"text-violet-600 hover:text-violet-700"},c=()=>{o?o("home"):window.location.href="/"},S=()=>{o?o("enduser-signup"):window.location.href="/signup"};if(!f&&!l?.allow_enduser_login)return e.jsx("div",{className:`min-h-screen bg-gradient-to-br ${t.bgGradient} flex items-center justify-center p-4`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Giriş Aktif Değil"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Bu site için kullanıcı girişi şu an aktif değil."}),e.jsx("button",{onClick:c,className:`${t.linkText} hover:underline`,children:"Ana sayfaya dön"})]})});const k=async a=>{a.preventDefault(),h(""),b(!1),m(!0);const i=await p(r,u);i.success?c():(h(i.error||"Giriş başarısız"),i.email_not_verified&&(b(!0),y(i.email||r))),m(!1)},$=()=>{window.location.href=`/email-verification?email=${encodeURIComponent(N)}`};return e.jsx("div",{className:`min-h-screen bg-gradient-to-br ${t.bgGradient} flex items-center justify-center p-4`,children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:`bg-white rounded-3xl shadow-2xl ${t.cardShadow} p-8 border ${t.cardBorder}`,children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 ${t.iconBg} rounded-2xl mb-4 shadow-lg ${t.iconShadow}`,children:e.jsx(z,{className:"text-white",size:32})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Hoş Geldiniz"}),e.jsx("p",{className:"text-slate-500 mt-1",children:"Hesabınıza giriş yapın"})]}),e.jsxs("form",{onSubmit:k,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"E-posta"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),e.jsx("input",{type:"email",value:r,onChange:a=>g(a.target.value),className:`w-full pl-11 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:bg-white ${t.inputFocus} focus:ring-2 transition-all outline-none`,placeholder:"ornek@email.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Şifre"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),e.jsx("input",{type:n?"text":"password",value:u,onChange:a=>w(a.target.value),className:`w-full pl-11 pr-12 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:bg-white ${t.inputFocus} focus:ring-2 transition-all outline-none`,placeholder:"••••••••",required:!0}),e.jsx("button",{type:"button",onClick:()=>v(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:n?e.jsx(L,{size:20}):e.jsx(R,{size:20})})]})]}),x&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:x}),j&&e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:$,className:"text-sm text-blue-600 hover:text-blue-700 underline font-medium",children:"Doğrulama e-postasını tekrar gönder"})})]}),e.jsxs("button",{type:"submit",disabled:d,className:`w-full bg-gradient-to-r ${t.buttonGradient} text-white font-semibold py-3.5 px-6 rounded-xl shadow-lg ${t.buttonShadow} hover:shadow-xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed`,children:[d?"Giriş yapılıyor...":"Giriş Yap",!d&&e.jsx(_,{size:20})]})]}),l?.allow_enduser_signup&&e.jsxs("p",{className:"text-center text-slate-600 mt-6",children:["Hesabınız yok mu?"," ",e.jsx("button",{onClick:S,className:`${t.linkText} font-semibold`,children:"Kayıt Ol"})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{onClick:c,className:"text-sm text-slate-400 hover:text-slate-600",children:"← Ana sayfaya dön"})})]})})})};export{O as EndUserLogin};
